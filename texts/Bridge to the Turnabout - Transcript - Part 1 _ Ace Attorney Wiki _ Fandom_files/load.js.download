/*! For license information please see load.js.LICENSE.txt */
!function(){var e={561:function(e,t){var n,r,i;r="undefined"!=typeof window?window:this,i=function(r,i){var o=[],a=o.slice,s=o.concat,c=o.push,l=o.indexOf,u={},d=u.toString,f=u.hasOwnProperty,p={},h=r.document,v="2.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-event-alias,-wrap",m=function(e,t){return new m.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/^-ms-/,b=/-([\da-z])/gi,w=function(e,t){return t.toUpperCase()};function E(e){var t=e.length,n=m.type(e);return"function"!==n&&!m.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={nquery:v,constructor:m,selector:"",length:0,get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:a.call(this)},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return m.each(this,e,t)},map:function(e){return this.pushStack(m.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:c,sort:o.sort,splice:o.splice},m.extend=m.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(m.isPlainObject(r)||(i=m.isArray(r)))?(i?(i=!1,o=n&&m.isArray(n)?n:[]):o=n&&m.isPlainObject(n)?n:{},a[t]=m.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},function(e,t){var n,r,i,o,a,s,c,l,u,d,f="",p={Webkit:"webkit",Moz:"",O:"o"},v=h.createElement("div"),m=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};function g(e){return n?n+e:e.toLowerCase()}void 0===v.style.transform&&Object.keys(p).forEach((function(e){void 0!==v.style[e+"TransitionProperty"]&&(f="-"+e.toLowerCase()+"-",n=p[e])})),r=f+"transform",y[i=f+"transition-property"]=y[o=f+"transition-duration"]=y[s=f+"transition-delay"]=y[a=f+"transition-timing-function"]=y[c=f+"animation-name"]=y[l=f+"animation-duration"]=y[d=f+"animation-delay"]=y[u=f+"animation-timing-function"]="",e.fx={off:void 0===n&&void 0===v.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:f,transitionEnd:g("TransitionEnd"),animationEnd:g("AnimationEnd")},e.fn.animate=function(t,n,r,i,o){return"function"==typeof n&&(i=n,r=void 0,n=void 0),"function"==typeof r&&(i=r,r=void 0),"object"==typeof n&&(r=n.easing,i=n.complete,o=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:e.speeds[n]||e.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,n,r,i,o)},e.fn.anim=function(t,n,f,p,h){var v,g,b,w={},E="",S=this,T=e.transitionEnd,k=!1;if(void 0===n&&(n=e.speeds._default/1e3),void 0===h&&(h=0),e.off&&(n=0),"string"==typeof t)w[c]=t,w[l]=n+"s",w[d]=h+"s",w[u]=f||"linear",T=e.animationEnd;else{for(v in g=[],t)m.test(v)?E+=v+"("+t[v]+") ":(w[v]=t[v],g.push(v.replace(/([A-Z])/g,"-$1").toLowerCase()));E&&(w[r]=E,g.push(r)),n>0&&"object"==typeof t&&(w[i]=g.join(", "),w[o]=n+"s",w[s]=h+"s",w[a]=f||"linear")}return b=function(t){if(void 0!==t){if(t.target!==t.currentTarget)return;e(t.target).unbind(T,b)}else e(this).unbind(T,b);k=!0,e(this).css(y),p&&p.call(this)},n>0&&(this.bind(T,b),setTimeout((function(){k||b.call(S)}),1e3*(n+h)+25)),this.size()&&this.get(0).clientLeft,this.css(w),n<=0&&setTimeout((function(){S.each((function(){b.call(this)}))}),0),this},v=null}(m),m.extend({expando:"nQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!m.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return!("object"!==m.type(e)||e.nodeType||m.isWindow(e)||e.constructor&&!f.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e},globalEval:function(e){var t;(e=m.trim(e))&&(e=`\n        try{ \n          ${e} \n        } catch (error) { \n          const encodedCode = \`${e}\`;\n          encodedCode.replace(/'/g,\`'\`);\n          encodedCode.replace(/"/g,\`"\`);\n          const errorMessage = "[Client Error] Script Injection - Script:"+encodedCode+" Cause:" + error.message;\n          if(ntv && ntv.Util) { ntv.Util.postError(new Error(errorMessage), true); }\n        }\n        `,(t=h.createElement("script")).text=e,h.head.appendChild(t).parentNode.removeChild(t))},camelCase:function(e){return e.replace(g,"ms-").replace(b,w)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=E(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?m.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(E(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return s.apply([],a)},guid:1,now:Date.now,support:p}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var S=function(e){var t,n,r,i,o,a,s,c,l,u,d,f,p,h,v,m,y,g,b,w="sizzle"+-new Date,E=e.document,S=0,T=0,k=re(),P=re(),A=re(),I=function(e,t){return e===t&&(d=!0),0},C={}.hasOwnProperty,O=[],_=O.pop,R=O.push,x=O.push,L=O.slice,D=O.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=V.replace("w","w#"),U="\\["+j+"*("+V+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+j+"*\\]",F=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",B=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),q=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),G=new RegExp(F),z=new RegExp("^"+M+"$"),Y={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,$=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),te=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{x.apply(O=L.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(e){x={apply:O.length?function(e,t){R.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ne(e,t,r,i){var o,s,l,u,d,h,y,g,S,T;if((t?t.ownerDocument||t:E)!==p&&f(t),r=r||[],!e||"string"!=typeof e)return r;if(1!==(u=(t=t||p).nodeType)&&9!==u)return[];if(v&&!i){if(o=J.exec(e))if(l=o[1]){if(9===u){if(!(s=t.getElementById(l))||!s.parentNode)return r;if(s.id===l)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(l))&&b(t,s)&&s.id===l)return r.push(s),r}else{if(o[2])return x.apply(r,t.getElementsByTagName(e)),r;if((l=o[3])&&n.getElementsByClassName&&t.getElementsByClassName)return x.apply(r,t.getElementsByClassName(l)),r}if(n.qsa&&(!m||!m.test(e))){if(g=y=w,S=t,T=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(y=t.getAttribute("id"))?g=y.replace($,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",d=h.length;d--;)h[d]=g+pe(h[d]);S=Z.test(e)&&de(t.parentNode)||t,T=h.join(",")}if(T)try{return x.apply(r,S.querySelectorAll(T)),r}catch(e){}finally{y||t.removeAttribute("id")}}}return c(e.replace(B,"$1"),t,r,i)}function re(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ie(e){return e[w]=!0,e}function oe(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ae(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function se(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function le(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ue(e){return ie((function(t){return t=+t,ie((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ne.support={},o=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ne.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,a=i.defaultView;return i!==p&&9===i.nodeType&&i.documentElement?(p=i,h=i.documentElement,v=!o(i),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",(function(){f()}),!1):a.attachEvent&&a.attachEvent("onunload",(function(){f()}))),n.attributes=oe((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=oe((function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(i.getElementsByClassName)&&oe((function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length})),n.getById=oe((function(e){return h.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ee,te);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},y=[],m=[],(n.qsa=X.test(i.querySelectorAll))&&(oe((function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+N+")"),e.querySelectorAll(":checked").length||m.push(":checked")})),oe((function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=X.test(g=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&oe((function(e){n.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),y.push("!=",F)})),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=X.test(h.compareDocumentPosition),b=t||X.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:u?D.call(u,e)-D.call(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,s=[e],c=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:u?D.call(u,e)-D.call(u,t):0;if(o===a)return se(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?se(s[r],c[r]):s[r]===E?-1:c[r]===E?1:0},i):p},ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(q,"='$1']"),n.matchesSelector&&v&&(!y||!y.test(t))&&(!m||!m.test(t)))try{var r=g.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ne(t,p,null,[e]).length>0},ne.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),b(e,t)},ne.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&C.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==o?o:n.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ne.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(I),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ne.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ne.selectors={cacheLength:50,createPseudo:ie,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ne.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ne.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ne.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,f,p,h,v=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),g=!c&&!s;if(m){if(o){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&g){for(p=(l=(u=m[w]||(m[w]={}))[e]||[])[0]===S&&l[1],f=l[0]===S&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[v]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[S,p,f];break}}else if(g&&(l=(t[w]||(t[w]={}))[e])&&l[0]===S)f=l[1];else for(;(d=++p&&d&&d[v]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++f||(g&&((d[w]||(d[w]={}))[e]=[S,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ie((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=D.call(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ie((function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[w]?ie((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}})),has:ie((function(e){return function(t){return ne(e,t).length>0}})),contains:ie((function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ie((function(e){return z.test(e||"")||ne.error("unsupported lang: "+e),e=e.replace(ee,te).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ue((function(){return[0]})),last:ue((function(e,t){return[t-1]})),eq:ue((function(e,t,n){return[n<0?n+t:n]})),even:ue((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ue((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ue((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:ue((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=le(t);function fe(){}function pe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function he(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=T++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,c,l=[S,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(c=t[w]||(t[w]={}))[r])&&s[0]===S&&s[1]===o)return l[2]=s[2];if(c[r]=l,l[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function me(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ye(e,t,n,r,i,o){return r&&!r[w]&&(r=ye(r)),i&&!i[w]&&(i=ye(i,o)),ie((function(o,a,s,c){var l,u,d,f=[],p=[],h=a.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ne(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?v:me(v,f,e,s,c),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,c),r)for(l=me(y,p),r(l,[],s,c),u=l.length;u--;)(d=l[u])&&(y[p[u]]=!(m[p[u]]=d));if(o){if(i||e){if(i){for(l=[],u=y.length;u--;)(d=y[u])&&l.push(m[u]=d);i(null,y=[],l,c)}for(u=y.length;u--;)(d=y[u])&&(l=i?D.call(o,d):f[u])>-1&&(o[l]=!(a[l]=d))}}else y=me(y===a?y.splice(h,y.length):y),i?i(null,a,y,c):x.apply(a,y)}))}function ge(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,u=he((function(e){return e===t}),s,!0),d=he((function(e){return D.call(t,e)>-1}),s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?u(e,n,r):d(e,n,r))}];c<o;c++)if(n=r.relative[e[c].type])f=[he(ve(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(i=++c;i<o&&!r.relative[e[i].type];i++);return ye(c>1&&ve(f),c>1&&pe(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(B,"$1"),n,c<i&&ge(e.slice(c,i)),i<o&&ge(e=e.slice(i)),i<o&&pe(e))}f.push(n)}return ve(f)}return fe.prototype=r.filters=r.pseudos,r.setFilters=new fe,a=ne.tokenize=function(e,t){var n,i,o,a,s,c,l,u=P[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=r.preFilter;s;){for(a in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),r.filter)!(i=Y[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ne.error(e):P(e,c).slice(0)},s=ne.compile=function(e,t){var n,i=[],o=[],s=A[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=ge(t[n]))[w]?i.push(s):o.push(s);(s=A(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,c,u){var d,f,h,v=0,m="0",y=o&&[],g=[],b=l,w=o||i&&r.find.TAG("*",u),E=S+=null==b?1:Math.random()||.1,T=w.length;for(u&&(l=a!==p&&a);m!==T&&null!=(d=w[m]);m++){if(i&&d){for(f=0;h=e[f++];)if(h(d,a,s)){c.push(d);break}u&&(S=E)}n&&((d=!h&&d)&&v--,o&&y.push(d))}if(v+=m,n&&m!==v){for(f=0;h=t[f++];)h(y,g,a,s);if(o){if(v>0)for(;m--;)y[m]||g[m]||(g[m]=_.call(c));g=me(g)}x.apply(c,g),u&&!o&&g.length>0&&v+t.length>1&&ne.uniqueSort(c)}return u&&(S=E,l=b),y};return n?ie(o):o}(o,i))).selector=e}return s},c=ne.select=function(e,t,i,o){var c,l,u,d,f,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(ee,te),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(c=Y.needsContext.test(e)?0:l.length;c--&&(u=l[c],!r.relative[d=u.type]);)if((f=r.find[d])&&(o=f(u.matches[0].replace(ee,te),Z.test(l[0].type)&&de(t.parentNode)||t))){if(l.splice(c,1),!(e=o.length&&pe(l)))return x.apply(i,o),i;break}}return(p||s(e,h))(o,t,!v,i,Z.test(e)&&de(t.parentNode)||t),i},n.sortStable=w.split("").sort(I).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=oe((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),oe((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ae("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&oe((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ae("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),oe((function(e){return null==e.getAttribute("disabled")}))||ae(N,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ne}(r);m.find=S,m.expr=S.selectors,m.expr[":"]=m.expr.pseudos,m.unique=S.uniqueSort,m.text=S.getText,m.isXMLDoc=S.isXML,m.contains=S.contains;var T=m.expr.match.needsContext,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,P=/^.[^:#\[\.,]*$/;function A(e,t,n){if(m.isFunction(t))return m.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return m.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(P.test(t))return m.filter(t,e,n);t=m.filter(t,e)}return m.grep(e,(function(e){return l.call(t,e)>=0!==n}))}m.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?m.find.matchesSelector(r,e)?[r]:[]:m.find.matches(e,m.grep(t,(function(e){return 1===e.nodeType})))},m.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(m(e).filter((function(){for(t=0;t<n;t++)if(m.contains(i[t],this))return!0})));for(t=0;t<n;t++)m.find(e,i[t],r);return(r=this.pushStack(n>1?m.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&T.test(e)?m(e):e||[],!1).length}});var I,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:C.exec(e))||!n[1]&&t)return!t||t.nquery?(t||I).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:h,!0)),k.test(n[1])&&m.isPlainObject(t))for(n in t)m.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=h.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=h,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==I.ready?I.ready(e):e(m):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))}).prototype=m.fn,I=m(h);var O=/^(?:parents|prev(?:Until|All))/,_={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&m(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),m.fn.extend({has:function(e){var t=m(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(m.contains(this,t[e]))return!0}))},index:function(e){return e?"string"==typeof e?l.call(m(e),this[0]):l.call(this,e.nquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.unique(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m.dir(e,"parentNode")},parentsUntil:function(e,t,n){return m.dir(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return m.dir(e,"nextSibling")},prevAll:function(e){return m.dir(e,"previousSibling")},nextUntil:function(e,t,n){return m.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return m.dir(e,"previousSibling",n)},siblings:function(e){return m.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return m.sibling(e.firstChild)},contents:function(e){return e.contentDocument||m.merge([],e.childNodes)}},(function(e,t){m.fn[e]=function(n,r){var i=m.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=m.filter(r,i)),this.length>1&&(_[e]||m.unique(i),O.test(e)&&i.reverse()),this.pushStack(i)}}));var x,L=/\S+/g,D={};function N(){h.removeEventListener("DOMContentLoaded",N,!1),r.removeEventListener("load",N,!1),m.ready()}m.Callbacks=function(e){e="string"==typeof e?D[e]||function(e){var t=D[e]={};return m.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):m.extend({},e);var t,n,r,i,o,a,s=[],c=!e.once&&[],l=function(d){for(t=e.memory&&d,n=!0,a=i||0,i=0,o=s.length,r=!0;s&&a<o;a++)if(!1===s[a].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(c?c.length&&l(c.shift()):t?s=[]:u.disable())},u={add:function(){if(s){var n=s.length;!function t(n){m.each(n,(function(n,r){var i=m.type(r);"function"===i?e.unique&&u.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)}))}(arguments),r?o=s.length:t&&(i=n,l(t))}return this},remove:function(){return s&&m.each(arguments,(function(e,t){for(var n;(n=m.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=o&&o--,n<=a&&a--)})),this},has:function(e){return e?m.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=c=t=void 0,this},disabled:function(){return!s},fireWith:function(e,t){return!s||n&&!c||(t=[e,(t=t||[]).slice?t.slice():t],r?c.push(t):l(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred((function(n){m.each(t,(function(t,o){var a=m.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?m.extend(e,r):r}},i={};return r.pipe=r.then,m.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=a.call(arguments),s=o.length,c=1!==s||e&&m.isFunction(e.promise)?s:0,l=1===c?e:m.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?a.call(arguments):i,r===t?l.notifyWith(n,r):--c||l.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&m.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--c;return c||l.resolveWith(r,o),l.promise()}}),m.fn.ready=function(e){return m.ready.promise().done(e),this},m.extend({isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||(x.resolveWith(h,[m]),m.fn.triggerHandler&&(m(h).triggerHandler("ready"),m(h).off("ready"))))}}),m.ready.promise=function(e){return x||(x=m.Deferred(),"complete"===h.readyState?setTimeout(m.ready):(h.addEventListener("DOMContentLoaded",N,!1),r.addEventListener("load",N,!1))),x.promise(e)},m.ready.promise();var j=m.access=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===m.type(n))for(s in i=!0,n)m.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(m(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o};function V(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=m.expando+Math.random()}m.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},V.uid=1,V.accepts=m.acceptData,V.prototype={key:function(e){if(!V.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=V.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,m.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(m.isEmptyObject(o))m.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,m.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{m.isArray(t)?r=t.concat(t.map(m.camelCase)):(i=m.camelCase(t),r=t in a?[t,i]:(r=i)in a?[r]:r.match(L)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!m.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var M=new V,U=new V,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/([A-Z])/g;function H(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(B,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?m.parseJSON(n):n)}catch(e){}U.set(e,t,n)}else n=void 0;return n}m.extend({hasData:function(e){return U.hasData(e)||M.hasData(e)},data:function(e,t,n){return U.access(e,t,n)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,n){return M.access(e,t,n)},_removeData:function(e,t){M.remove(e,t)}}),m.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=U.get(o),1===o.nodeType&&!M.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=m.camelCase(r.slice(5)),H(o,r,i[r]));M.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){U.set(this,e)})):j(this,(function(t){var n,r=m.camelCase(e);if(o&&void 0===t)return void 0!==(n=U.get(o,e))||void 0!==(n=U.get(o,r))||void 0!==(n=H(o,r,void 0))?n:void 0;this.each((function(){var n=U.get(this,r);U.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&U.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){U.remove(this,e)}))}}),m.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=M.get(e,t),n&&(!r||m.isArray(n)?r=M.access(e,t,m.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=m.queue(e,t),r=n.length,i=n.shift(),o=m._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){m.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return M.get(e,n)||M.access(e,n,{empty:m.Callbacks("once memory").add((function(){M.remove(e,[t+"queue",n])}))})}}),m.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?m.queue(this[0],e):void 0===t?this:this.each((function(){var n=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&m.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){m.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=m.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=M.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var W,q,G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],Y=function(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)},Q=/^(?:checkbox|radio)$/i;W=h.createDocumentFragment().appendChild(h.createElement("div")),(q=h.createElement("input")).setAttribute("type","radio"),q.setAttribute("checked","checked"),q.setAttribute("name","t"),W.appendChild(q),p.checkClone=W.cloneNode(!0).cloneNode(!0).lastChild.checked,W.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!W.cloneNode(!0).lastChild.defaultValue,p.focusinBubbles="onfocusin"in r;var K=/^key/,X=/^(?:mouse|pointer|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;function $(){return!0}function ee(){return!1}function te(){try{return h.activeElement}catch(e){}}m.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,p,h,v,y=M.get(e);if(y)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=m.guid++),(c=y.events)||(c=y.events={}),(a=y.handle)||(a=y.handle=function(t){return void 0!==m&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(L)||[""]).length;l--;)p=v=(s=Z.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=m.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=m.event.special[p]||{},u=m.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&m.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=c[p])||((f=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),m.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,p,h,v,y=M.hasData(e)&&M.get(e);if(y&&(c=y.events)){for(l=(t=(t||"").match(L)||[""]).length;l--;)if(p=v=(s=Z.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=m.event.special[p]||{},f=c[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&v!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,y.handle)||m.removeEvent(e,p,y.handle),delete c[p])}else for(p in c)m.event.remove(e,p+t[l],n,r,!0);m.isEmptyObject(c)&&(delete y.handle,M.remove(e,"events"))}},trigger:function(e,t,n,i){var o,a,s,c,l,u,d,p=[n||h],v=f.call(e,"type")?e.type:e,y=f.call(e,"namespace")?e.namespace.split("."):[];if(a=s=n=n||h,3!==n.nodeType&&8!==n.nodeType&&!J.test(v+m.event.triggered)&&(v.indexOf(".")>=0&&(y=v.split("."),v=y.shift(),y.sort()),l=v.indexOf(":")<0&&"on"+v,(e=e[m.expando]?e:new m.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:m.makeArray(t,[e]),d=m.event.special[v]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!m.isWindow(n)){for(c=d.delegateType||v,J.test(c+v)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||h)&&p.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?c:d.bindType||v,(u=(M.get(a,"events")||{})[e.type]&&M.get(a,"handle"))&&u.apply(a,t),(u=l&&a[l])&&u.apply&&m.acceptData(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!m.acceptData(n)||l&&m.isFunction(n[v])&&!m.isWindow(n)&&((s=n[l])&&(n[l]=null),m.event.triggered=v,n[v](),m.event.triggered=void 0,s&&(n[l]=s)),e.result}},dispatch:function(e){e=m.event.fix(e);var t,n,r,i,o,s=[],c=a.call(arguments),l=(M.get(this,"events")||{})[e.type]||[],u=m.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=m.event.handlers.call(this,e,l),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)if(!e.namespace_re||e.namespace_re.test(o.namespace)){e.handleObj=o,e.data=o.data;var d=(m.event.special[o.origType]||{}).handle||o.handler;"function"==typeof d&&(r=d.apply(i.elem,c)),void 0!==r&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation())}return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(!0!==c.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?m(i,this).index(c)>=0:m.find(i,this,null,[c]).length),r[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||h).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=X.test(i)?this.mouseHooks:K.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new m.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=h),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==te()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===te()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(e){return m.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=m.extend(new m.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?m.event.trigger(i,null,t):m.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},m.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?$:ee):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={isDefaultPrevented:ee,isPropagationStopped:ee,isImmediatePropagationStopped:ee,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=$,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=$,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||m.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),p.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){m.event.simulate(t,e.target,m.event.fix(e),!0)};m.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=M.access(r,t);i||r.addEventListener(e,n,!0),M.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=M.access(r,t)-1;i?M.access(r,t,i):(r.removeEventListener(e,n,!0),M.remove(r,t))}}})),m.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=ee;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return m().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=m.guid++)),this.each((function(){m.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,m(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ee),this.each((function(){m.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){m.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return m.event.trigger(e,t,n,!0)}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,re=/<([\w:]+)/,ie=/<|&#?\w+;/,oe=/<(?:script|style|link)/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^$|\/(?:java|ecma)script/i,ce=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function fe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function pe(e){var t=ce.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var n=0,r=e.length;n<r;n++)M.set(e[n],"globalEval",!t||M.get(t[n],"globalEval"))}function ve(e,t){var n,r,i,o,a,s,c,l;if(1===t.nodeType){if(M.hasData(e)&&(o=M.access(e),a=M.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)m.event.add(t,i,l[i][n]);U.hasData(e)&&(s=U.access(e),c=m.extend({},s),U.set(t,c))}}function me(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&m.nodeName(e,t)?m.merge([e],n):n}function ye(e){e.target.parentNode&&e.target.parentNode.removeChild(e.target)}function ge(e){return void 0===e||void 0===e.nodeName||null==e.nodeName||0!=e.nodeName.toUpperCase().localeCompare("SCRIPT")||e.type&&0!=e.type.localeCompare("text/javascript")||e.src?!(void 0===e||void 0===e.nodeName||null==e.nodeName||0!=e.nodeName.toUpperCase().localeCompare("SCRIPT")||!e.src||(t=e,(n=h.createElement("script")).src=t.src,n.type="text/javascript",n.onload=ye,n.onerror=ye,h.head.appendChild(n),0)):(m.globalEval(e.innerHTML),!0);var t,n}function be(e,t){if(void 0!==e&&(1==e.nodeType||11==e.nodeType)){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)be(e.childNodes[n],t)}}function we(e){var t=h.createDocumentFragment();t.appendChild(e);for(var n=0;n<t.childNodes.length;n++)t.childNodes[n]&&be(t.childNodes[n],ge);return t}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,m.extend({clone:function(e,t,n){var r,i,o,a,s,c,l,u=e.cloneNode(!0),d=m.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(a=me(u),r=0,i=(o=me(e)).length;r<i;r++)s=o[r],c=a[r],l=void 0,"input"===(l=c.nodeName.toLowerCase())&&Q.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(t)if(n)for(o=o||me(e),a=a||me(u),r=0,i=o.length;r<i;r++)ve(o[r],a[r]);else ve(e,u);return(a=me(u,"script")).length>0&&he(a,!d&&me(e,"script")),u},buildFragment:function(e,t,n,r){for(var i,o,a,s,c,l,u=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((i=e[f])||0===i)if("object"===m.type(i))m.merge(d,i.nodeType?[i]:i);else if(ie.test(i)){for(o=o||u.appendChild(t.createElement("div")),a=(re.exec(i)||["",""])[1].toLowerCase(),s=ue[a]||ue._default,o.innerHTML=s[1]+i.replace(ne,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;m.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",f=0;i=d[f++];)if((!r||-1===m.inArray(i,r))&&(c=m.contains(i.ownerDocument,i),o=me(u.appendChild(i),"script"),c&&he(o),n))for(l=0;i=o[l++];)se.test(i.type||"")&&n.push(i);return u},cleanData:function(e){for(var t,n,r,i,o=m.event.special,a=0;void 0!==(n=e[a]);a++){if(m.acceptData(n)&&(i=n[M.expando])&&(t=M.cache[i])){if(t.events)for(r in t.events)o[r]?m.event.remove(n,r):m.removeEvent(n,r,t.handle);M.cache[i]&&delete M.cache[i]}delete U.cache[n[U.expando]]}}}),m.fn.extend({text:function(e){return j(this,(function(e){return void 0===e?m.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||de(this,e).appendChild(we(e))}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=de(this,e);t.insertBefore(we(e),t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(we(e),this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(we(e),this.nextSibling)}))},remove:function(e,t){for(var n,r=e?m.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||m.cleanData(me(n)),n.parentNode&&(t&&m.contains(n.ownerDocument,n)&&he(me(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return m.clone(this,e,t)}))},html:function(e){return j(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!oe.test(e)&&!ue[(re.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ne,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(m.cleanData(me(t,!1)),t.innerHTML=e,we(t.cloneNode(!0)));t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){if(e=this.parentNode,m.cleanData(me(this)),e){if(11==t.nodeType&&t.childElementCount>=1)var n=t.cloneNode(!0);e.replaceChild(t,this),setTimeout(we,0,n||t.cloneNode(!0))}})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=s.apply([],e);var n,r,i,o,a,c,l=0,u=this.length,d=this,f=u-1,h=e[0],v=m.isFunction(h);if(v||u>1&&"string"==typeof h&&!p.checkClone&&ae.test(h))return this.each((function(n){var r=d.eq(n);v&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)}));if(u&&(r=(n=m.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=m.map(me(n,"script"),fe)).length;l<u;l++)a=n,l!==f&&(a=m.clone(a,!0,!0),o&&m.merge(i,me(a,"script"))),t.call(this[l],a,l);if(o)for(c=i[i.length-1].ownerDocument,m.map(i,pe),l=0;l<o;l++)a=i[l],se.test(a.type||"")&&!M.access(a,"globalEval")&&m.contains(c,a)&&(a.src?m._evalUrl&&m._evalUrl(a.src):m.globalEval(a.textContent.replace(le,"")))}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){m.fn[e]=function(e){for(var n,r=[],i=m(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),m(i[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Ee,Se={};function Te(e,t){var n,i=m(t.createElement(e)).appendTo(t.body),o=r.getDefaultComputedStyle&&(n=r.getDefaultComputedStyle(i[0]))?n.display:m.css(i[0],"display");return i.detach(),o}function ke(e){var t=h,n=Se[e];return n||("none"!==(n=Te(e,t))&&n||((t=(Ee=(Ee||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Te(e,t),Ee.detach()),Se[e]=n),n}var Pe=/^margin/,Ae=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),Ie=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function Ce(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ie(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||m.contains(e.ownerDocument,e)||(a=m.style(e,t)),Ae.test(a)&&Pe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Oe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,n=h.documentElement,i=h.createElement("div"),o=h.createElement("div");function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",n.appendChild(i);var a=r.getComputedStyle(o,null);e="1%"!==a.top,t="4px"===a.width,n.removeChild(i)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),r.getComputedStyle&&m.extend(p,{pixelPosition:function(){return a(),e},boxSizingReliable:function(){return null==t&&a(),t},reliableMarginRight:function(){var e,t=o.appendChild(h.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",n.appendChild(i),e=!parseFloat(r.getComputedStyle(t,null).marginRight),n.removeChild(i),e}}))}(),m.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var _e=/^(none|table(?!-c[ea]).+)/,Re=new RegExp("^("+G+")(.*)$","i"),xe=new RegExp("^([+-])=("+G+")","i"),Le={position:"absolute",visibility:"hidden",display:"block"},De={letterSpacing:"0",fontWeight:"400"},Ne=["Webkit","O","Moz","ms"];function je(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ne.length;i--;)if((t=Ne[i]+n)in e)return t;return r}function Ve(e,t,n){var r=Re.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Me(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=m.css(e,n+z[o],!0,i)),r?("content"===n&&(a-=m.css(e,"padding"+z[o],!0,i)),"margin"!==n&&(a-=m.css(e,"border"+z[o]+"Width",!0,i))):(a+=m.css(e,"padding"+z[o],!0,i),"padding"!==n&&(a+=m.css(e,"border"+z[o]+"Width",!0,i)));return a}function Ue(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ie(e),a="border-box"===m.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Ce(e,t,o))<0||null==i)&&(i=e.style[t]),Ae.test(i))return i;r=a&&(p.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Me(e,t,n||(a?"border":"content"),r,o)+"px"}function Fe(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=M.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Y(r)&&(o[a]=M.access(r,"olddisplay",ke(r.nodeName)))):(i=Y(r),"none"===n&&i||M.set(r,"olddisplay",i?n:m.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ce(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=m.camelCase(t),c=e.style;if(t=m.cssProps[s]||(m.cssProps[s]=je(c,s)),a=m.cssHooks[t]||m.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"==(o=typeof n)&&(i=xe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(m.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||m.cssNumber[s]||(n+="px"),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=m.camelCase(t);return t=m.cssProps[s]||(m.cssProps[s]=je(e.style,s)),(a=m.cssHooks[t]||m.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ce(e,t,r)),"normal"===i&&t in De&&(i=De[t]),""===n||n?(o=parseFloat(i),!0===n||m.isNumeric(o)?o||0:i):i}}),m.each(["height","width"],(function(e,t){m.cssHooks[t]={get:function(e,n,r){if(n)return _e.test(m.css(e,"display"))&&0===e.offsetWidth?m.swap(e,Le,(function(){return Ue(e,t,r)})):Ue(e,t,r)},set:function(e,n,r){var i=r&&Ie(e);return Ve(0,n,r?Me(e,t,r,"border-box"===m.css(e,"boxSizing",!1,i),i):0)}}})),m.cssHooks.marginRight=Oe(p.reliableMarginRight,(function(e,t){if(t)return m.swap(e,{display:"inline-block"},Ce,[e,"marginRight"])})),m.each({margin:"",padding:"",border:"Width"},(function(e,t){m.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+z[r]+t]=o[r]||o[r-2]||o[0];return i}},Pe.test(e)||(m.cssHooks[e+t].set=Ve)})),m.fn.extend({css:function(e,t){return j(this,(function(e,t,n){var r,i,o={},a=0;if(m.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++)o[t[a]]=m.css(e,t[a],!1,r);return o}return void 0!==n?m.style(e,t,n):m.css(e,t)}),e,t,arguments.length>1)},show:function(){return Fe(this,!0)},hide:function(){return Fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Y(this)?m(this).show():m(this).hide()}))}}),m.fn.delay=function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},m.fn.size=function(){return this.length},function(){var e=h.createElement("input"),t=h.createElement("select"),n=t.appendChild(h.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=n.selected,t.disabled=!0,p.optDisabled=!n.disabled,(e=h.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Be,He=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return j(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){m.removeAttr(this,e)}))}}),m.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?m.prop(e,t,n):(1===o&&m.isXMLDoc(e)||(t=t.toLowerCase(),r=m.attrHooks[t]||(m.expr.match.bool.test(t)?Be:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=m.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void m.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[i++];)r=m.propFix[n]||n,m.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&m.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Be={set:function(e,t,n){return!1===t?m.removeAttr(e,n):e.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=He[t]||m.find.attr;He[t]=function(e,t,r){var i,o;return r||(o=He[t],He[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,He[t]=o),i}}));var We=/^(?:input|select|textarea|button)$/i;m.fn.extend({prop:function(e,t){return j(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[m.propFix[e]||e]}))}}),m.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!m.isXMLDoc(e))&&(t=m.propFix[t]||t,i=m.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||We.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),p.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){m.propFix[this.toLowerCase()]=this}));var qe=/[\t\r\n\f]/g;m.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,c=0,l=this.length;if(m.isFunction(e))return this.each((function(t){m(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(L)||[];c<l;c++)if(r=1===(n=this[c]).nodeType&&(n.className?(" "+n.className+" ").replace(qe," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=m.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,c=0,l=this.length;if(m.isFunction(e))return this.each((function(t){m(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(L)||[];c<l;c++)if(r=1===(n=this[c]).nodeType&&(n.className?(" "+n.className+" ").replace(qe," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?m.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each((function(n){m(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var t,r=0,i=m(this),o=e.match(L)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&M.set(this,"__className__",this.className),this.className=this.className||!1===e?"":M.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(qe," ").indexOf(t)>=0)return!0;return!1}});var Ge=/\r/g;m.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=m.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,m(this).val()):e)?i="":"number"==typeof i?i+="":m.isArray(i)&&(i=m.map(i,(function(e){return null==e?"":e+""}))),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=m.valHooks[i.type]||m.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ge,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:m.trim(m.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,c=i<0?s:o?i:0;c<s;c++)if(((n=r[c]).selected||c===i)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(t=m(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=m.makeArray(t),a=i.length;a--;)((r=i[a]).selected=m.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),m.each(["radio","checkbox"],(function(){m.valHooks[this]={set:function(e,t){if(m.isArray(t))return e.checked=m.inArray(m(e).val(),t)>=0}},p.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){m.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),m.fn.extend({size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,m.each({margin:"",padding:"",border:"Width"},(function(e,t){m.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+z[r]+t]=o[r]||o[r-2]||o[0];return i}},Pe.test(e)||(m.cssHooks[e+t].set=Ve)})),m.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},m.expr.filters.visible=function(e){return!m.expr.filters.hidden(e)};var ze=/%20/g,Ye=/\[\]$/;function Qe(e,t,n,r){var i;if(m.isArray(t))m.each(t,(function(t,i){n||Ye.test(e)?r(e,i):Qe(e+"["+("object"==typeof i?t:"")+"]",i,n,r)}));else if(n||"object"!==m.type(t))r(e,t);else for(i in t)Qe(e+"["+i+"]",t[i],n,r)}m.param=function(e,t){var n,r=[],i=function(e,t){t=m.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.nquery&&!m.isPlainObject(e))m.each(e,(function(){i(this.name,this.value)}));else for(n in e)Qe(n,e[n],t,i);return r.join("&").replace(ze,"+")},m.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||h;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=m.buildFragment([e],t,i),i&&i.length&&m(i).remove(),m.merge([],r.childNodes))};var Ke=r.document.documentElement;function Xe(e){return m.isWindow(e)?e:9===e.nodeType&&e.defaultView}m.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l=m.css(e,"position"),u=m(e),d={};"static"===l&&(e.style.position="relative"),s=u.offset(),o=m.css(e,"top"),c=m.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),m.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){m.offset.setOffset(this,e,t)}));var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,m.contains(t,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=Xe(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===m.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),m.nodeName(e[0],"html")||(r=e.offset()),r.top+=m.css(e[0],"borderTopWidth",!0),r.left+=m.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-m.css(n,"marginTop",!0),left:t.left-r.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||Ke;e&&!m.nodeName(e,"html")&&"static"===m.css(e,"position");)e=e.offsetParent;return e||Ke}))}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;m.fn[e]=function(i){return j(this,(function(e,i,o){var a=Xe(e);if(void 0===o)return a?a[t]:e[i];a?a.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o}),e,i,arguments.length,null)}})),m.each(["top","left"],(function(e,t){m.cssHooks[t]=Oe(p.pixelPosition,(function(e,n){if(n)return n=Ce(e,t),Ae.test(n)?m(e).position()[t]+"px":n}))})),m.each({Height:"height",Width:"width"},(function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){m.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return j(this,(function(t,n,r){var i;return m.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?m.css(t,n,a):m.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),void 0===(n=function(){return m}.apply(t,[]))||(e.exports=n);var Je=r.nQuery,Ze=r.$;return m.noConflict=function(e){return r.$===m&&(r.$=Ze),e&&r.nQuery===m&&(r.nQuery=Je),m},void 0===i&&(r.nQuery=r.$=m),r.nQuery=m,m},"object"==typeof e.exports?e.exports=r.document?i(r,!0):function(e){if(!e.document)throw new Error("nQuery requires a window with a document");return i(e)}:i(r)},204:function(e){"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let i=0;i<e.length;i++){const o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase()).replace(/\d+(\w|$)/g,e=>e.toUpperCase()),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n;var n};e.exports=t,e.exports.default=t},905:function(e){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},310:function(e,t,n){"use strict";e.exports=n(702).polyfill()},702:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,o=void 0,a=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(o?o(h):b())},s="undefined"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var v,m,y,g,b=void 0;function w(e,t){var n=this,r=new this.constructor(T);void 0===r[S]&&L(r);var i=n._state;if(i){var o=arguments[i-1];a((function(){return R(i,r,o,n._result)}))}else O(n,r,e,t);return r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return P(t,e),t}u?b=function(){return process.nextTick(h)}:l?(m=0,y=new l(h),g=document.createTextNode(""),y.observe(g,{characterData:!0}),b=function(){g.data=m=++m%2}):d?((v=new MessageChannel).port1.onmessage=h,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(h)}:f()}catch(e){return f()}}():f();var S=Math.random().toString(36).substring(2);function T(){}function k(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===E?function(e,t){1===t._state?I(e,t._result):2===t._state?C(e,t._result):O(t,void 0,(function(t){return P(e,t)}),(function(t){return C(e,t)}))}(t,n):void 0===r?I(t,n):e(r)?function(e,t,n){a((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?P(e,n):I(e,n))}),(function(t){r||(r=!0,C(e,t))}),e._label);!r&&i&&(r=!0,C(e,i))}),e)}(t,n,r):I(t,n)}function P(e,t){if(e===t)C(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)I(e,t);else{var n=void 0;try{n=t.then}catch(t){return void C(e,t)}k(e,t,n)}var r,i}function A(e){e._onerror&&e._onerror(e._result),_(e)}function I(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(_,e))}function C(e,t){void 0===e._state&&(e._state=2,e._result=t,a(A,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&a(_,e)}function _(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?R(n,r,i,o):i(o);e._subscribers.length=0}}function R(t,n,r,i){var o=e(r),a=void 0,s=void 0,c=!0;if(o){try{a=r(i)}catch(e){c=!1,s=e}if(n===a)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;void 0!==n._state||(o&&c?P(n,a):!1===c?C(n,s):1===t?I(n,a):2===t&&C(n,a))}var x=0;function L(e){e[S]=x++,e._state=void 0,e._result=void 0,e._subscribers=[]}var D=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(T),this.promise[S]||L(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&I(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===w&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===N){var s=new n(T);a?C(s,o):k(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?C(r,n):this._result[t]=n),0===this._remaining&&I(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),N=function(){function t(e){this[S]=x++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){P(e,t)}),(function(t){C(e,t)}))}catch(t){C(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return N.prototype.then=w,N.all=function(e){return new D(this,e).promise},N.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var i=e.length,o=0;o<i;o++)n.resolve(e[o]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},N.resolve=E,N.reject=function(e){var t=new this(T);return C(t,e),t},N._setScheduler=function(e){o=e},N._setAsap=function(e){a=e},N._asap=a,N.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=N},N.Promise=N,N}()},698:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{bindClick:function(){return C},createScriptEvaluatingFragmentFromHTMLString:function(){return S},getDocumentScrollRatio:function(){return R},getFirstNonZeroHeightAncestor:function(){return O},hide:function(){return P},htmlStringToElement:function(){return k},htmlStringToFragment:function(){return T},isElement:function(){return E},onImageLoad:function(){return _},show:function(){return I},toDomElement:function(){return w},unhide:function(){return A}}),window.ntvLoadStart=(new Date).getTime();n(310);function i(e,t,n){return this.each((function(){var r,i,o=this.firstChild,a=[];if(o)do{3===o.nodeType&&(i=(r=o.nodeValue).replace(e,t))!==r&&(!n&&/</.test(i)?($(o).before(i),a.push(o)):o.nodeValue=i)}while(o=o.nextSibling);a.length&&$(a).remove()}))}function o(e,t){for(var n=e,r=0;e=e[t];)n.tagName==e.tagName&&r++;return r}function a(e,t,n){var r,i=o(e,n);if("odd"==t||"even"==t)r=2,i-=!("odd"==t);else{var a=t.indexOf("n");a>-1?(r=parseInt(t,10)||parseInt(t.substring(0,a)+"1",10),i-=(parseInt(t.substring(a+1),10)||0)-1):(r=i+1,i-=parseInt(t,10)-1)}return(r<0?i<=0:i>=0)&&i%r==0}window.performance||(window.performance={timing:{navigationStart:+new Date}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),window.ntv=window.ntv||{},ntv.query=window.nQuery.noConflict(!0),window.prdom={query:ntv.query};var s={"first-of-type":function(e){return 0==o(e,"previousSibling")},"last-of-type":function(e){return 0==o(e,"nextSibling")},"only-of-type":function(e){return s["first-of-type"](e)&&s["last-of-type"](e)},"nth-of-type":function(e,t,n){return a(e,n[3],"previousSibling")},"nth-last-of-type":function(e,t,n){return a(e,n[3],"nextSibling")}};!function(e){e.fn.replaceText=i,e.extend(e.expr[":"],s)}(ntv.query);var c="TOUT",l="topWindowScroll",u="topWindowReady",d="contentModalScroll",f={DOMAIN:"adserve.postrelease.com",JDOMAIN:"jadserve.postrelease.com",ASSETS_DOMAIN:"ntvassets-a.akamaihd.net",ASSETS_DOMAIN_DEV:"devntvassets-a.akamaihd.net",RESIZER_DOMAIN:"ntvcld-a.akamaihd.net",SCRIPTS_DOMAIN:"s.ntv.io",ASSETS_PREFIX:"s",VIS_ID:"prx_visitor",REQ_REDIRECT:"prx_r",REQ_KEY:"prx_rk",REQ_URL:"prx_url",REQ_URL_NTV:"ntv_url",PAGE_REF:"prx_referrer",IS_MOBILE:"prx_mobile",AT:"ntv_at",SUB_AT:"ntv_sat",FRAUD:"ntv_fr",CPM:"ntv_cpm",VALUE:"ntv_v",TOTAL_VALUE:"ntv_tv",US_PRIVACY:"us_privacy",OPT_OUT_SOURCE:"ntv_oos",US_PRIVACY_COOKIE:"ntv_as_us_privacy",GDPR:"gdpr",GDPR_QS_KEY:"ntv_gdpr_consent",GDPR_VENDOR_ID:263,ABA:"prx_adp",ARTICLE_TMPL:"prx_t",AVP:"ntv_a",ADV_ID:"prx_adv",PLC_ID:"prx_pl",ADV_FILTER:"prx_avtf",CMP_FILTER:"prx_ctf",AD_FILTER:"ntv_atf",PTD_FILTER:"ntv_ptd",REQ_OPTIONS:"prx_ro",RENDER_MODE:"prx_rm",OVERIDE_ARTICLE:"ntv_oat",PASS_PREVIEW:"ntv_tp",IP:"prx_userip",FORCE_JAVA:"ntv_jat",IS_TOUT:"ntv_it",FORCE_NET:"ntv_net",DEBUG_MODE:"ntv_dm",CLIENT_OPTIONS:"ntv_co",LEGACY_VIDEO_SUPPORT:"ntv_lvs",REDIRECT:"ntv_r",TRACK_MEDIATION:"ntv_med",SEEN_ADS:"ntv_sa",KEY_VALUE_PAIRS:"ntv_kv",PUBLISHER_IN_IFRAME:"ntv_iw",EXPERIMENT:"ntv_eg",SLIDE_ID:"ntv_sl",YOUTUBE_PLAYER:1,NATIVO_PLAYER:2,VAST_PLAYER:3,MAX_INT32_VALUE:2147483647,PB_ATT:806,PB_CPM_IMP:807,PB_NOT_FIL:808,PB_VCPM_IMP:809,PB_ATT_SKIP_LOG:812,USER_SESSION_ID:"ntv_usid",SESSION_PL_ID:"ntv_pl",USER_SESSION_DURATION:"ntv_usd",RESPONSIVENESS_1OO:"ntv_r1",RESPONSIVENESS_75:"ntv_r2",RESPONSIVENESS_50:"ntv_r3",RESPONSIVENESS_25:"ntv_r4",BEFORE_AUCTION:853,AFTER_AUCTION:854,VIDEO_ID_SELECTOR:"ntvVideo",VIDEO_ID_EDGE_SELECTOR:"prxVideo",NTV_PREFIX:"ntv",EDGE_PREFIX:"prx",NTV_UID:"_ntv_uid",DFP_INIT_LOAD:337,DFP_FIRST_RENDER:335,DFP_TOTAL_AVAILABLE:334,DFP_TOTAL_FILLED:336,CLP_VIEW_DEPTH_25_PERCENT:1016,CLP_VIEW_DEPTH_50_PERCENT:1017,CLP_VIEW_DEPTH_75_PERCENT:1018,CLP_VIEW_DEPTH_100_PERCENT:1019,CLP_VIEW_DEPTH_MAX:1020,CLP_SCROLL_INITIATED:1021,RETRY:"ntv_rtr",CPE_ENGAGEMENT_15s:29,CPE_SCROLL_50:29,CPE_CTA_CLICK:29,TOC_ENGAGEMENT_5S:38,TOC_ENGAGEMENT_15S:24,TOC_ENGAGEMENT_30S:57,CUSTOM_AUDIENCE_VENDOR:"ntv_vid",CUSTOM_AUDIENCE_SEGMENTS:"ntv_ca",CUSTOM_CTA_RANGE_START:1100,CUSTOM_CTA_RANGE_END:1110,CUSTOM_WIDGET_RANGE_START:1110,CUSTOM_WIDGET_RANGE_END:1120,HEAVY_AD_INTERVENTION:32,FLOC_ID:"ntv_floc_id",IFRAME_QS_ID:"ntv_ift",IFRAME_TYPES:{NONE:0,FRIENDLY:1,SAFE_W_API:2,SAFE_NO_API:3},BLOCK_QUERY_SELECTOR:"section.ntv-design-block",AD_LEVEL_TRACKING_PROPERTIES:["toutClick3rdPartyTracking","toutClickTracker","isProgrammatic"],DEPENDENCIES:{GALLERY_JS:"https://s.ntv.io/js/gallery.min.js",GALLERY_CSS:"https://s.ntv.io/css/gallery.css",STORIES_AD_CSS:"https://s.ntv.io/css/storiesAd.css",MODAL_CSS:"https://s.ntv.io/css/ntvModal.css"},COMPONENT_CLICK_EVENT:42,LIGHTBOX_CLICK_EVENT:44,LINK_CLICK_EVENT:45,PAGE_VIEW_EVENT:48,VIDEO_PLAY_EVENT:49,LIVE_RAMP_EIDS:"ntv_pb_eid",GPP:"gpp",GPP_STRING_KEY:"ntv_gpp_consent"},p=g();function h(e,t){return e.onload=t}function v(e,t){return e.onerror=t}function m(e,t,n){var r="".concat(e,"=").concat(t);if(!isNaN(n)){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r+=";expires="+i.toUTCString()}r+=";path=/";try{document.cookie=r}catch(e){}}function y(e){try{var t=e+"=",n=document.cookie;if(n)for(var r=n.split(";"),i=0;i<r.length;i++){for(var o=r[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t)){var a=o.substring(t.length,o.length);return m(e,a,365),a}}return""}catch(e){return""}}function g(){for(var e=window,t=window;e.parent&&e!=e.parent;)try{(e=e.parent).document&&(t=e)}catch(e){}return t}p.onFocusEvents||(p.onFocusEvents=[]);var b=p.onFocusEvents;function w(e){if(e)return e instanceof DocumentFragment?e.firstElementChild:(e.length&&e.length>0&&(e=e[0]),E(e)?e:void 0)}function E(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function S(e){return document.createRange().createContextualFragment(e)}function T(e){return S(e)}function k(e){return T(e).firstElementChild}function P(e){var t=w(e),n=t.getAttribute("style");t.setAttribute("data-ntv-style-cache",n),t.setAttribute("style","\n    border: 0px;\n    vertical-align: bottom;\n    width: 0px !important;\n    height: 0px !important;\n    display: none !important;\n    visibility: hidden !important;\n  ".replace("\n"," ")),t.setAttribute("data-ntv-hidden","")}function A(e){var t=w(e),n=t.getAttribute("data-ntv-style-cache");n&&(t.removeAttribute("data-ntv-style-cache"),t.setAttribute("style",n),t.removeAttribute("data-ntv-hidden",""))}var I=A;function C(e,t){if(e||!t)try{var n=q.domQuery(e);if(!n)return void"bindClick() didn't find a valid element in the document for selector: \"".concat(e,'"');n.addEventListener("click",(function(){q.appendImage(t)}))}catch(e){q.postError(e)}}function O(e){var t=e.parentNode;if(null!=t.tagName&&"BODY"!==t.tagName&&null!=t)return t.clientHeight>0?t:O(t)}function _(e,t){if(e.complete)t();else{e.addEventListener("load",(function n(){t(),e.removeEventListener("load",n)}))}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return function(){var t=e.doctype?e:e.ownerDocument,n=t.documentElement,r=t.body,i="scrollTop",o="scrollHeight";return(n[i]||r[i])/((n[o]||r[o])-n.clientHeight)}()}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ntv",t=g();return L(e,t)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ntv",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t.ntv=t.ntv||{},"ntv"===e?t.ntv:(t.ntv[e]=t.ntv[e]||{},t.ntv[e])}function D(e,t){e&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(!e)return;n.ntv=n.ntv||{},n.ntv[e]=t}(e,t,g())}function N(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";function i(t,n){return d(),e[t]=n,e[t]}function o(t){return d(),e[t]}function a(t){return d(),e.hasOwnProperty(t)}function s(t){d(),a(t)&&delete e[t]}function c(){return d(),n}function l(){return d(),t}function u(){D(r,{})}function d(){e=x(r),t=Object.keys(e),n=t.length}return d(),{get:o,set:i,has:a,remove:s,getNumEntries:c,getEntryIds:l,clear:u}}function j(e){var t=document.createElement("style");t.textContent=":host {\n    all: initial; /* 1st rule so subsequent properties are reset. */\n    display: block;\n  }",e.append(t)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=[],H={},W=window,q={getBaseUrl:function(){return q.getProtocol()+"//"+f.JDOMAIN+"/trk.gif?"},is:function(){return this.translateType=function(e){switch(e){case"u":return"undefined";case"b":return"boolean";case"s":return"string";case"f":return"function";case"n":return"number";case"o":return"object";default:return"undefined"}},"string"==typeof arguments[0]?typeof arguments[1]==this.translateType(arguments[0]):arguments[0]instanceof arguments[1]},getProtocol(){arguments.length>0&&void 0!==arguments[0]||window;return"https:"},hasWebProtocol:e=>0===e.indexOf("http://")||0===e.indexOf("https://"),applyProtocolToUrl:function(e){if(0!=e.indexOf("http")){var t=q.getProtocol();0!=e.indexOf("//")&&(t+="//"),e=t+e}return e},isFirefox:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},isChrome:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},isEdge:function(){return navigator.userAgent.indexOf("Edge")>=0},runWithFirefoxIframeProtection:function(e,t,n){t(),n&&ntv.query(e).one("load",(function(){n()}))},match:function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1},getRandomInt:function(e,t){return Math.floor(Math.random()*((t||f.MAX_INT32_VALUE)-(e||0)))+(e||0)},getNodePositionAndDimensions:function(e){var t=e.getBoundingClientRect(),n={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y};return n.X=e.offsetLeft,n.Y=e.offsetTop,n},getElementDimensions:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){var n,r=ntv.query,i=Math.floor,o=0,a=0;("IMG"!=(e=e[0]?e[0]:e).nodeName||e.complete||"prx_disclaimer_iframe"==e.id)&&(o=e.hasAttribute("height")?e.getAttribute("height"):e.style.height||e.clientHeight||0,a=e.hasAttribute("width")?e.getAttribute("width"):e.style.width||e.clientWidth||0,"string"==typeof o&&(o=o.indexOf("%")>0?r(e).height():parseInt(o.replace(/\g/gi,""))),"string"==typeof a&&(a=a.indexOf("%")>0?r(e).width():parseInt(a.replace(/\g/gi,""))),o&&!isNaN(o)||(o=r(e).height()),a&&!isNaN(a)||(a=r(e).width())),t&&"IMG"===e.nodeName&&(a=e.naturalWidth,o=e.naturalHeight);var s=function(){return n||(n=e.getBoundingClientRect()),n};return{w:i(a<0?s().width:a),h:i(o<0?s().height:o),aspectRatio:a/o}}(e)},setElementDimensions:function(e,t,n){if(!(isNaN(t.w)||isNaN(t.h)||t.w<=1||t.h<=1)){var r=ntv.query,i=r(e).attr("ntv-width"),o=r(e).attr("ntv-height");t.h>0&&t.w>0&&(i||(i=t.w,r(e).attr("ntv-width",i)),o||(o=t.h,r(e).attr("ntv-height",o)));var a=n?Math.min(n,i):i,s=o*a/i;(a!=t.w||s!=t.h&&a>0)&&(a+="px",s+="px",r(e).css("height",s).css("width",a))}},getScrollPos:function(e){var t=window,n=t.window,r=t.document,i=r.documentElement,o=r.body;return{top:Math.floor(n.pageYOffset?n.pageYOffset:i.scrollTop?i.scrollTop:o.scrollTop),left:Math.floor(n.pageXOffset?n.pageXOffset:i.scrollLeft?i.scrollLeft:o.scrollLeft),time:new Date,bottom:e?e.target.scrollingElement.scrollHeight==e.target.scrollingElement.offsetHeight+n.pageYOffset:null}},getSampleTimeArray:function(e){for(var t=[],n=0,r=0,i=0;i<e;)r+=2e3+90*n,t.push(r),n++,i+=r;return t},canExecute:function(e,t,n){return new Date-B["lastCheck"+t]<n?(0==B["missedCheck"+t]&&(B["missedCheck"+t]++,setTimeout(e,n)),!1):(B["lastCheck"+t]=new Date,B["missedCheck"+t]=0,!0)},appendImageUtil:function(e,t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.createElement("img");return n.setAttribute("width",1),n.setAttribute("height",1),n.src=e,n}(e,p.document);h(r,(function(){h(r,null),v(r,null),t&&t()})),v(r,(function(){h(r,null),v(r,null),n&&n()}))},decodeIfEncrypt(e){var t=!1,n=e,r="";if(q.adBlocker&&e.indexOf(q.adBlockerDomain)>=0)try{var i=e.split("/");(n=q.decryptUrl(i[i.length-1])).startsWith("proxyTracking/")?n=n.replace("proxyTracking/",""):n.startsWith("https://proxyTracking/")&&(n=n.replace("https://proxyTracking/","")),t=!0,r=i[i.length-2]}catch(e){}return{decodedUrl:n,isDecoded:t,domain:r}},appendImage:function(e,t,n,r){if(null!=e){var i=ntv.PostRelease,o=!1,a=q.decodeIfEncrypt(e),s=a.decodedUrl;a.isDecoded,a.domain;(e=s).indexOf(q.getServerDomain())>0&&!t&&(o=!0,e.indexOf(f.PAGE_REF)<0&&document.referrer&&(e+="&"+f.PAGE_REF+"="+encodeURIComponent(document.referrer)),i&&i.tout&&(e+="&"+f.IS_TOUT));var c=function(e,t){var n="ntv_at="+t;return e.indexOf(n)>0&&(i.pageInventoryTracked||(i.pageInventoryTracked=!0,e=e.replace(n,n+",302"))),e};e=c(e,"46"),e=c(e,"303"),e=q.applyProtocolToUrl(e);var l=null;if(!i.firstPartyTracked&&o&&(l=function(){i.firstPartyTracked=!0}),t)return void ntv.Tracking.Record('<img src="'+e+'" />');q.appendImageUtil(e,(function(){null!=l&&l(),n&&n()}),(function(){r&&r()}))}},appendIframe:function(e,t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function(){n.parentElement.removeChild(n),t()})),document.body.appendChild(n)},removeElementFromArray:function(e,t){for(var n=-1,r=0;r<e.length;r++)t==e[r]&&(n=r);n>=0&&e.splice(n,1)},copyProperties:function(e,t){for(var n in e)"function"!=typeof e[n]&&(t[n]=e[n])},isNotValidHeadlineLink:function(e){var t=e.attr("class");return-1==(t=t||"").indexOf("prx_viewable_title")&&-1==t.indexOf("ntv-headline-anchor")||"#"==e.attr("href")||!e.attr("href")},xorWithKey:function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t[r%t.length]^e.charCodeAt(r));return n},arrayBufferToBase64:function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);var o=btoa(t);return o=(o=o.replace(/[+]/g,"-")).replace(/[/]/g,"_")},encryptUrl(e,t){var n=[72,-124,36];t?n.push(50):n.push(new Date/864e5&255);var r=q.xorWithKey(e,n),i=n.concat(r);return this.arrayBufferToBase64(i)},decryptUrl(e){e=(e=e.replace(/[-]/g,"+")).replace(/[_]/g,"/");var t=atob(e),n=[];for(a=0;a<t.length;a++)n[a]=t.charCodeAt(a);var r=n.slice(0,4);e=t.substring(4);for(var i=q.xorWithKey(e,r),o="",a=0;a<i.length;a++)o+=String.fromCharCode(i[a]);return o},overrideAndEncodeRequest:function(e,t,n){var r=t.indexOf(e),i=t.substring(r+e.length+1),o="";return n?o=f.ASSETS_PREFIX:i=q.encryptUrl(i),t.substring(0,r)+o+q.adBlockerDomain+"/"+i},adBlockerValidation:function(e,t,n){return q.adBlocker&&-1==e.indexOf("data:")&&(e="proxyTracking/"+(e=q.decodeIfEncrypt(e).decodedUrl),e="//"+q.adBlockerDomain+"/"+q.encryptUrl(e)),e},appendScript:function(e,t,n,r,i){var o=(r=r||document).getElementsByTagName("head")[0]||r.documentElement;return q.appendScriptToContext(e,o,{id:n,doc:r,onReadyEvent:t,isSafeTracking:i})},appendScriptToContext(e,t,n){if(e&&this.is("s",e)&&t&&t.appendChild){var r=n.id,i=n.doc,o=void 0===i?document:i,a=n.onReadyEvent,s=n.isSafeTracking,c=q.domQuery("#".concat(r),t);if(c)return a(c),c;var l=q.decodeIfEncrypt(e),u=l.decodedUrl,d=l.isDecoded,f=l.domain;u=q.applyProtocolToUrl(u);var p=o.createElement("script");return p.type="text/javascript",p.src=q.adBlockerValidation(u,d,f),r&&(p.id=r),null!=a&&(p.readyState?p.onreadystatechange=function(){"complete"!=o.readyState&&"loaded"!=o.readyState||a(p)}:p.onload=function(){a(p)}),s||t.appendChild(p),p}},getServerDomain:function(){return q.adBlocker&&q.adBlockerDomain!==window.location.hostname?q.adBlockerDomain:f.JDOMAIN},buildImageResizerStyle(e,t,n,r,i){var o="";if(n>0&&(o+="w_"+Math.round(n)+","),r>0&&(o+="h_"+Math.round(r)+","),t)switch(t){case"crop":o+="c_fill";break;case"max":o+="c_fit";break;case"padding":case"pad":o+="c_pad"}return i&&(o+=",g_auto:text"),o+=",f_auto",e.toLowerCase().indexOf(".gif")<0&&(o+=",e_sharpen:80"),e.toLowerCase().indexOf(".png")>0&&(o+=",fl_lossy"),o},scaleToDeviceRatio:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=window.devicePixelRatio?e*window.devicePixelRatio:e,e=t?Math.round(e):e},applyImageResizer:function(e,t,n,r,i){if(n=this.scaleToDeviceRatio(n)||n,r=this.scaleToDeviceRatio(r)||r,q.adBlocker&&ntv.PostRelease.setting.isEdge){var o="nativo-inc-res.cloudinary.com/image/upload/"+q.buildImageResizerStyle(e,t,n,r,i)+"/assets",a=q.decodeIfEncrypt(e).decodedUrl;if(-1==a.indexOf("assets.postrelease.com")&&-1==a.indexOf(f.ASSETS_DOMAIN))return a;var s=a.replace(f.ASSETS_DOMAIN,o).replace(/(,,)/gi,",");return q.getProtocol()+"//"+q.adBlockerDomain+"/"+q.encryptUrl("proxyImage/"+s,!0)}var c="ntvcld-a.akamaihd.net/image/upload/"+q.buildImageResizerStyle(e,t,n,r,i)+"/assets";return this.applyResizerUrlReplacement(e,c).replace(/(,,)/gi,",")},applyImageResizerFlashTalking:function(e,t,n,r,i){if(n=this.scaleToDeviceRatio(n)||n,r=this.scaleToDeviceRatio(r)||r,q.adBlocker&&ntv.PostRelease.setting.isEdge){var o="//nativo-inc-res.cloudinary.com/image/fetch/"+q.buildImageResizerStyle(e,t,n,r,i),a=q.decodeIfEncrypt(e).decodedUrl,s=o+"/"+encodeURIComponent(a);return q.getProtocol()+"//"+q.adBlockerDomain+"/"+q.encryptUrl("proxyImage/"+s,!0)}var c="//ntvcld-a.akamaihd.net/image/fetch/"+q.buildImageResizerStyle(e,t,n,r,i);return q.getProtocol()+c+"/"+encodeURIComponent(e)},applyResizerUrlReplacement(e,t){var n;return(n=e.replace("assets.postrelease.com",t))!=e?n:(n=e.replace(f.ASSETS_DOMAIN_DEV,t))!=e?n=n.replace("/assets/","/devassets/"):e.replace(f.ASSETS_DOMAIN,t)},isAndroidTablet:function(){return navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/Mobile/i)},isAndroidPhone:function(){return navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Mobile/i)},isiOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isMobile:function(){return q.isiOS()||q.isAndroidTablet()},writeIframe:function(e,t,n,r){var i,o="<html ".concat(t,">\n      <head>\n        ").concat(n,"\n      </head>\n      <body>\n        ").concat(r,"\n      </body>\n    </html>");if(!e)return o;try{if("IFRAME"!==(i=w(e)).nodeName)throw new Error("Not a valid Iframe")}catch(e){return void q.postError(new Error("util.writeIframe failed. No valid Iframe target"))}var a=i.contentWindow.document;return a&&(q.isEdge()||a.open(),a.write(o),q.isEdge()||a.close()),a},ntvExtends:function(e,t){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ntvAppendScript:function(e,t,n,r){return q.appendScript(e,t,n,r)},ntvAppendPixelImage:function(e){return q.appendImage(e)},ntvAppendStylesheet:function(e,t,n,r){return q.appendStylesheet(e,t,n,r)},appendStylesheet:function(e,t,n,r){var i=(n=n||document).getElementsByTagName("head")[0]||n.documentElement||n;return q.appendStylesheetToContext(t,i,{id:e,onComplete:r})},appendStylesheetToContext(e,t,n){if(e&&this.is("s",e)&&t&&t.appendChild){var r=n.id,i=n.onComplete,o=void 0===i?function(){}:i,a=n.doc,s=void 0===a?document:a,c=q.domQuery("#".concat(r),t);if(c)return c;e=q.applyProtocolToUrl(e),e=q.adBlockerValidation(e);var l=s.createElement("link");return l.type="text/css",l.rel="stylesheet",l.href=e,r&&(l.id=r),l.addEventListener("load",(function(){o(l)}),{once:!0}),t.appendChild(l),l}},ntvApplyImageResizer:function(e){return q.applyImageResizer(e)},ntvjQueryInit:function(e){e()},ntvXDomainRequest:function(e){var t;(t=window.XDomainRequest?new window.XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",e,!1),t.send()},ntvRegexEscape:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},ntvTrim:function(e){return e.replace(/^\s+|\s+$/gm,"")},ntvHexToRgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},ntvInitOnFocusTracking:function(){var e="hidden",t=p.document;if(e in t)t.addEventListener("visibilitychange",n);else if((e="mozHidden")in t)t.addEventListener("mozvisibilitychange",n);else if((e="webkitHidden")in t)t.addEventListener("webkitvisibilitychange",n);else if((e="msHidden")in t)t.addEventListener("msvisibilitychange",n);else if("onpageshow"in p&&"onpagehide"in p)p.onpageshow=p.onpagehide=n;else{if(!("onfocus"in p)||!("onblur"in p))return void(p.onFocus=!0);p.onfocus=p.onblur=n}function n(t){var n="visible",r="hidden",i={focus:n,focusin:n,pageshow:n,blur:r,focusout:r,pagehide:r};(t=t||window.event).type in i?p.onFocus="visible"==i[t.type]:p.onFocus=!this[e];for(var o=0;o<b.length;o++)b[o]();p.ntv&&ntv.query(p).trigger("ntvOnFocusChange")}n({type:"visible"==document.visibilityState?"focus":"blur"})},getCookie:y,setCookie:m,setURLCache:function(){return"&ord="+(new Date).getTime()},isMatchingDomains:function(e,t){return e.indexOf(t)>-1||t.indexOf(e)>-1},removeQueryParam(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t||!e)return e;var n=/(=)(.*)/gi,r=e.match(t.replace(n,""));if(null!==r)switch(""===e.charAt(r.index+1)||"&"===e.charAt(r.index+1)){case!0:e.replace(t,"");break;default:var i=e.split("?");i[1]=i[1].split("&").filter((function(e){return!e.match(t.replace(n,""))})).join("&"),e=i.join("?")}return e},generateWhitelistQueryString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(!e||!t)return e;var r=/(\?)/.test(e)||/(\#)/.test(e);return t.split(",").forEach((function(t){e=q.removeQueryParam(e,t)})),e=e.concat(r?"&":"?").concat(t.split(",").map((function(e,t,r){return e.concat("=").concat(encodeURIComponent(n)).concat(t<r.length-1?"&":"")})).join(""))},replaceQueryParams(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t?-1==e.indexOf("?")?e.concat("?").concat(t):(t.split("&").forEach((function(t){e=q.removeQueryParam(e,t)})),e.concat(t?"&"+t:"")):e},filterScripts:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(e instanceof Array&&e.length&&t))return!!n.returnObject&&[];var r=document.createElement("div"),i=0,o=["script","iframe"],a=!1,s=/^((http(s*)(:))*)(\/\/)([^\/]*)/i,c=[];r.innerHTML=t;do{if(o.indexOf(r.children[i].tagName.toLowerCase())>-1&&r.children[i].src)e:for(var l=0;l<e.length;l++)if(s.test(r.children[i].src)){if(s.lastIndex=0,q.isMatchingDomains(s.exec(r.children[i].src)[6],e[l].domain||e[l])){var u=r.children[i].src;q.appendScript(u),s.lastIndex=0,a=!0,c.push({domain:e[l].domain||e[l],domainPosition:l,scriptPosition:i,thirdPartyScript:r.children[i]});break e}s.lastIndex=0}}while(++i<r.children.length);return r=null,n.returnObject?c:a},parseThirdPartyTrackingInfo:function(e,t){return t&&(e=decodeURIComponent(e)),/^((http(s*)(:))*)(\/\/)([^\/]*)/i.test(e)?{type:"url",value:e}:{type:"node",value:e}},appendThirdPartyTracking:function(e,t,n){var r=q.parseThirdPartyTrackingInfo(e,t);return"node"===r.type?q.adBlocker?function(e,t){var n=convertStringToNodes(e),r=[];n.forEach((function(e){r.push(Q(e,document.location.hostName))})),r.forEach((function(e){try{z(e,t)}catch(e){}}))}(r.value,n):z(r.value,n):q.appendImage(r.value.replace("[timestamp]",+new Date)),r},handleThirdPartyTracking:function(e,t){var n=[],r=e.isFlashTalking;if(e.length&&!q.is("s",e))for(var i=0;i<e.length;i++)n.push(q.appendThirdPartyTracking(e[i],r,t));else n.push(q.appendThirdPartyTracking(e,r,t));return n},getTopWindow:g,wrap:function(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)},removeVideoSourceFromHTML:function(e){var t=document.createElement("span");return t.innerHTML=e,t.getElementsByTagName("video")[0].src="",t.getElementsByTagName("video")[0].type="",t.getElementsByTagName("video")[0].innerHTML="",t.innerHTML},generateUniqueId:function(e){var t=0,n="",r=0,i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z",1,2,3,4,5,6,7,8,9,0];if("alphanumeric"===e){do{(i[r=Math.floor(100*Math.random())]||i[r=Math.floor(10*Math.random())])&&(n+=i[r].toString())}while(++t<100&&n.length<30);return n+(new Date).valueOf()}return"number"==typeof e?Math.floor(Math.random()*e+1):Math.floor(1e6*Math.random()+1).toString().concat((new Date).valueOf())},isEmptyVideoTracking:function(e){return q.is("u",e.videoTracking.map)||q.is("o",e.videoTracking.map)&&!Object.keys(e.videoTracking.map).length},generateVideo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=ntv.Video,i=r.Manager,o=q.generateUniqueId();if(e.iframeBody=e.vastAsMainSource?q.removeVideoSourceFromHTML(e.iframeBody):e.iframeBody,e.videoTracking.baseTrackingUrl=e.baseTrackingUrl,e.videoTracking.adVersionPlacement=e.adVersionPlacement,e.videoTracking.adID=e.adID,e.videoTracking.placementID=e.placementID,e.renderingParams.videoNodeId=e.renderingParams.videoNodeId||"ntvVideo",!q.isEmptyVideoTracking(e))for(var a=0,s=n.length;a<s;a++)n[a](o,e.videoTracking);return new i(o,e,t)},trackReplacedNodeViewableImpression(e){var t,n;if("function"==typeof window.MutationObserver){(t=new MutationObserver((function(t){t.forEach((function(t){"childList"==t.type&&(!t.removedNodes.length&&t.addedNodes.length?n=t.addedNodes[0]:t.removedNodes.length&&-1!=Array.prototype.slice.apply(t.removedNodes).indexOf(e.selector)?(e.selector=t.addedNodes.length?t.addedNodes[0]:n,ntv.PostRelease["tracker"+e.placementID]||(ntv.PostRelease["tracker"+e.placementID]=new ntvViewableImpressionTracker(e))):n&&t.removedNodes.length&&-1!=Array.prototype.slice.apply(t.removedNodes).indexOf(n)&&(e.selector=t.addedNodes.length?t.addedNodes[0]:t.nextElementSibling,ntv.PostRelease["tracker"+e.placementID]||(ntv.PostRelease["tracker"+e.placementID]=new ntvViewableImpressionTracker(e))))}))}))).observe(e.selector.parentElement,{childList:!0}),setTimeout((function(){t.disconnect()}),2e3)}return ntv.PostRelease["tracker"+e.placementID]||(ntv.PostRelease["tracker"+e.placementID]=new ntvViewableImpressionTracker(e)),ntv.PostRelease["tracker"+e.placementID]},ajax:function(e){var t=new XMLHttpRequest;t.open(e.method,q.adBlockerValidation(e.url),!0),"POST"==e.method&&t.setRequestHeader("Content-type",e.contentType),e.credentials&&(t.withCredentials=!0),t.onload=function(){e.success&&e.success(function(e){var t;try{t=JSON.parse(e)}catch(e){t={}}return t}(t.responseText))},t.onerror=function(){e.error&&e.error(t.error)},t.send(e.val||null)},keyValuePairGenerator(){var e=[];return function(t,n){if(!q.is("s",t)||!q.is("s",n))return encodeURI(e.join(";"));e.push(t.trim()+"*"+n.trim())}},getKeyValuePairsFromMetaTags(){var e=Array.prototype.slice.apply(document.head.querySelectorAll('meta[name="ntv-kv"]'));if(!e.length)return!1;var t=q.keyValuePairGenerator();return e.forEach((function(e,n,r){var i=e.hasAttribute("ntv-key"),o=i?"ntv-key":"key",a=i?"ntv-values":"values";t(e.getAttribute(o),e.getAttribute(a))})),t()},getKeyValuePairsFromConfig(){if(void 0===W.ntvConfig||!q.is("o",W.ntvConfig)||!q.is("o",W.ntvConfig.keyValues)||!Object.keys(W.ntvConfig.keyValues).length)return!1;var e=W.ntvConfig.keyValues,t=q.keyValuePairGenerator();for(var n in e)t(n,e[n]);return t()},getKeyValuePairs(){var e=this.getKeyValuePairsFromConfig(),t=this.getKeyValuePairsFromMetaTags();return e?t&&(e+=";"+t):e=t,e},isPublisherLoadedInTopWindow(){try{return!(window.self!=window.top||!window.top.document)}catch(e){return!1}},getNodeArea(e){if(q.is("u",e))return 0;var t=window.getComputedStyle(e);return t.width.replace("px","")*t.height.replace("px","")},findLargestChild(e){var t,n=Array.prototype.slice.apply(e.children),r=0,i=q.getNodeArea;if(!n.length||!q.is("f",window.getComputedStyle))return e;do{i(n[r])>0&&i(n[r])>i(t)&&(t=n[r])}while(++r<n.length);return t||e},checkIfExistAndAppendQS:(e,t)=>e?"&"+t+"="+encodeURIComponent(e):"",debounce:function(e,t){var n;return function(r){if(!n)return n=setTimeout((function(){n=void 0}),t),e(r)}},filterOutNodesFromString(e,t){var n=document.createDocumentFragment();return n.appendChild(document.createElement("div")),n.childNodes[0].innerHTML=e.replace(/(<img)/gi,"<no-img"),Array.prototype.slice.apply(n.childNodes[0].querySelectorAll(t)).map((function(e){return e.outerHTML}))},filterOutImpressions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=q.filterOutNodesFromString(t,"script,iframe"),i=0,o={returnObject:!0,selector:n};return q.filterScripts(e,t,o).forEach((function(e){r.splice(e.scriptPosition-i++,1)})),t=r.join("")},trackImpressionsInViewability(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.length&&t.length?(t instanceof Array?t.forEach((function(t,r,i){i[r]=q.filterOutImpressions(e,t,n)})):t=q.filterOutImpressions(e,t,n),t):t},getQS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.applyProtocolToUrl(window.location.href),r=arguments.length>3?arguments[3]:void 0;e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i,o=r?new RegExp("[\\?&]"+e+"=([^&#]*)","g"):new RegExp("[\\?&]"+e+"=([^&#]*)");if(r)for(var a;a=o.exec(n);)i=a;else i=o.exec(n);return null==i?t:i[1]},fowardQS(e){var t=q.getQS(e);return""!=t?"&"+e+"="+t:""},removeQueryKeyValuePairs(e,t){e="string"==typeof e?[e]:e;var n=q.qetQueryStringParams(t);return e.forEach((function(e){n.params[e]&&delete n.params[e]})),q.buildQueryStringFromKeyValuePairs(n.params,n.base)},qetQueryStringParams(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t={base:"",params:{}};if(!e)return t;var n=e.indexOf("?");if(-1===n)return t.base=e,t;var r=e.substring(0,n);t.base=r;var i,o,a,s,c=e.substring(n+1),l={};return function e(t){t&&0!==t.length&&-1!==(i=t.indexOf("="))&&(o=t.substring(0,i),t=t.substring(i+1),a=t.indexOf("&"),s=t.indexOf("?"),-1===a||a>0&&s>0&&s<a?l[o]=t:(l[o]=t.substring(0,a),e(t.substring(a+1))))}(c),t.params=l,t},buildQueryStringFromKeyValuePairs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e);return n.length?n.reduce((function(t,n,r){return(t+=0===r?"":"&")+"".concat(n,"=").concat(e[n])}),"".concat(t,"?")):t},modifyQSParamValues(e,t,n){if(e&&(t||n)){Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);var r=e.split("=")[1].split(",");return n&&(r=r.filter((function(e){return!n.includes(Number(e))})),t=t.filter((function(e){return!n.includes(Number(e))}))),[].concat(M(r),M(t))}},stripLeadingCharacters(e,t){if(q.is("s",e)&&0!==e.length)return t&&e[0]!==t?e:e.substring(1)},getUrlVars(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ntv_",t={},n=window.location;t.hash=n.hash.substring(1);var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=U(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(new URLSearchParams(n.search).entries());try{for(i.s();!(r=i.n()).done;){var o=r.value;o[0].startsWith(e)&&(t[o[0]]=o[1])}}catch(e){i.e(e)}finally{i.f()}return t},ampModeHandler:e=>!(!e||void 0===window.context.noContentAvailable)&&(window.context.noContentAvailable(),!0),breakOutIframe(){var e=null,t=g();if(window!=t){for(var n,r=window;r.parent!==t&&r!==(n=r.parent);)r=n;t.ntv&&(ntv=t.ntv);for(var i=0;i<t.frames.length;i++)try{t.frames[i]==r&&(e=r.frameElement)}catch(e){}e&&(ntv.win=t)}return ntv.win=ntv.win||window,e},getWindow:e=>e?e.ownerDocument?e.ownerDocument.defaultView:e.defaultView?e.defaultView:e.constructor===Window?e:window:window,stepUpWindowContext(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e=this.getWindow(e),this.stepUpContext(e)}catch(t){return{context:e,success:!1}}},stepUpContext(e){try{var t=e.parent;return{context:t,success:e!==t}}catch(t){return{context:e,success:!1}}},getContainingIframe(e){var t,n;if(e&&q.isElement(e)&&q.resolveIframeType(e)===f.IFRAME_TYPES.FRIENDLY)return(null==e||null===(t=e.ownerDocument)||void 0===t||null===(n=t.defaultView)||void 0===n?void 0:n.frameElement)||e},isInIframe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e&&e instanceof Window||(e=q.isElement(e)?e.ownerDocument.defaultView:window),e.self!==e.top}catch(e){return!0}},resolveIframeType(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{e&&e instanceof Window||(e=e instanceof Node?e.ownerDocument.defaultView:window);e.parent.document;if(e.self!==e.top)return f.IFRAME_TYPES.FRIENDLY}catch(e){return f.IFRAME_TYPES.SAFE_NO_API}return f.IFRAME_TYPES.NONE},removeSubDomains(){var e=document.domain.split("."),t=e.length;return e[t-2]+"."+e[t-1]},delayPostError(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,o=N("delayedErrorTimeouts"),a=setTimeout((function(){r.postError(t,n),r.removeDelayedPostError(e)}),i);o.set(e,a)},removeDelayedPostError(e){var t=N("delayedErrorTimeouts");t.has(e)&&(clearTimeout(t.get(e)),t.remove(e))},postError(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={name:e.name||"",msg:e.message||"",stack:e.stack||"",href:encodeURIComponent(window.window.location.href)},r=JSON.stringify(n),i=Math.floor(20*Math.random());(t||!H[r]&&1===i)&&(H[r]=!0,q.ajax({method:"post",url:q.getProtocol()+"//"+f.JDOMAIN+"/clientErrorLogging",contentType:"application/json",val:JSON.stringify({errorType:n.name,errorMessage:n.msg,severityLevel:"Error",errorStacktrace:n.stack}),success:function(e){},error:function(e){}}))},setTimeout(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];setTimeout((function(){try{e.apply(null,r)}catch(e){q.postError(e)}}),t)},compose(e){var t=Array.prototype.slice.apply(arguments),n=t.length-1,r=e;if(1===t.length&&!q.is("f",e))return r;do{r=t[n](r)}while(n-- >0);return r},getElementOffset(e){for(var t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight};e.offsetParent;)e=e.offsetParent,t.top+=e.offsetTop,t.left+=e.offsetLeft;return t},buildExperimentUrl:(e,t)=>e?(t?"":"&")+f.EXPERIMENT+"="+e:"",parseCascadeValue(e,t){var n=t.reduce((function(e,t){return e[t]?e[t]:{undefined:!0}}),e);return"object"==typeof n&&n.undefined?null:n},getVideoSelectorName:()=>q.adBlocker?f.VIDEO_ID_EDGE_SELECTOR:f.VIDEO_ID_SELECTOR,getPrefix:()=>q.adBlocker?f.EDGE_PREFIX:f.NTV_PREFIX,attachFirstPartyCookieQS:e=>e?"&ntv_fpc="+e:"",onDOMContentLoaded(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},isOnFocus:function(){return p.onFocus},setOnFocus:function(e){p.onFocus=e},onFocusEvents:b,rewriteAdBlockedAssets:function(){if(q.adBlocker){var e=new URL(q.applyProtocolToUrl(q.adBlockerDomain)).hostname,t=Object.getOwnPropertyDescriptor(Image.prototype,"src");Object.defineProperty(Image.prototype,"src",{set:function(n){try{n.startsWith("//")&&(n="https:"+n);var r=new URL(n).hostname;r.indexOf(e)>-1||n.indexOf("data:")>=0?t.set.call(this,[n]):t.set.call(this,[q.adBlockerValidation(n,!0,r)])}catch(e){t.set.call(this,[n])}}});var n=Element.prototype.appendChild;Element.prototype.appendChild=function(){var t=Array.prototype.slice.call(arguments);return t[0]=Q(t[0],e),n.apply(this,t)}}},insertMacrosIntoString:(e,t)=>(Object.keys(t).forEach((function(n){e=e.replace(n,t[n])})),e),extractDomain:function(e){if(null==e||""===e.trim())return;var t;t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];t.indexOf("www.")>-1&&(t=t.split("www.")[1]);return t=(t=t.split(":")[0]).split("?")[0]},queryAllChildren:function(e,t){var n=[];return e.forEach((function(e){n.push.apply(n,M(Array.from(e.querySelectorAll(t))))})),n},loadFontFromBase64(e,t){var n=new FontFace(e,"url(".concat(t,")"),{style:"normal",weight:"normal"});document.fonts.add(n),n.load().then((function(){}),(function(e){}))},stripHtmlTags:e=>e&&e.replace?e.replace(/<(\/?[a-zA-Z0-9]*)\b[^>]*>/gi,""):e,decodeHtmlEntity:e=>e=(e=e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))).replace(/&(\w+);/g,(function(e,t){return G[t]||"&".concat(t,";")})),getOverflowDimensions(e){var t=O(e);return null!=t&&t.clientHeight<e.clientHeight?this.getElementDimensions(t):this.getElementDimensions(e)},domQuery(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(!t.querySelector)return null;try{return t.querySelector(e)}catch(r){if(null!=ntv.query){var n=this.fallbackNtvQuery(e,t);return 0===n.length?null:n[0]}}},domQueryAll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(!t.querySelectorAll)return[];try{return Array.from(t.querySelectorAll(e))}catch(n){return this.fallbackNtvQuery(e,t)}},domQueryUp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=this.domQuery(e,t);if(!n){var r=this.stepUpWindowContext(t);if(r.success)try{return this.domQueryUp(e,r.context.document)}catch(e){return n}}return n},fallbackNtvQuery(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return null==ntv.query?[]:ntv.query.makeArray(ntv.query(e,t))},injectQueryResults(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(n)||(n=[n]),this.hasIterationProtocol(e)?(t=n).push.apply(t,M(e)):n.push(e)},hasIterationProtocol:e=>null!==e&&Symbol.iterator in Object(e),isSimilarDOMContext(e,t){if(e===t)return!0;try{if(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return!0}catch(e){}try{if(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS)return!0}catch(e){}return!1},firePubSubEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ntv.events.trigger(e,t),n&&ntv.Events&&ntv.Events.PubSub.publish(e,t)},retryQuery(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4,a=0;return new Promise((function(s,c){!function l(){"string"==typeof e?r instanceof Document?n=r[e](t):document[e](t,r):n=e(t,r),function(e){return!!e&&(!!(e.length&&e.length>0)||!!q.isElement(e))}(n)?s(n):(a+=i)>o?c():setTimeout(l,i)}()}))},removeDuplicates(e){try{return M(new Set(e))}catch(t){return e.filter((function(e,t,n){return n.indexOf(e)==t}))}},getActionTypesFromURL(e){if(!e||!this.is("s",e))return[];var t=e.match(/(ntv_at=)(\d*\,?)*/);return t?t[2].split(","):[]},doesArrayContainElements:(e,t)=>e.some((function(e){return t.indexOf(e)>=0})),runWhenDOMIsReady(e){var t=function(){return"complete"===document.readyState||"interactive"===document.readyState};t()?e():document.addEventListener("readystatechange",(function(){t()&&e()}))},keysToLowercase(e){var t;Object.keys(e).forEach((function(n){t=n.charAt(0).toLowerCase(),n.length>1&&(t+=n.slice(1)),n!==t&&(e[t]=e[n],delete e[n])}))},generateClickRedirect(e){if(null==e)return"";var t=q.qetQueryStringParams(e);t.params.hasOwnProperty(f.REDIRECT)&&delete t.params[f.REDIRECT];var n=q.buildQueryStringFromKeyValuePairs(t.params,t.base);return-1===t.base.indexOf(f.REDIRECT)&&(Object.keys(t.params).length>0&&(n+="&"),n+="".concat(f.REDIRECT,"=")),n},generateVideoSourcesFromData(e){if(e){var t={type:"@type",src:"@src"},n="";return Object.values(e).forEach((function(e){var r='<source src="@src" type="@type"></source>\n';Object.keys(t).forEach((function(n){e[n]&&(r=r.replace(t[n],e[n]))})),n+=r})),n}},pick(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===n.length?e:n.reduce((function(t,n){return t[n]=e[n],t}),{})},getDesignBlock:e=>null==e?void 0:e.closest(f.BLOCK_QUERY_SELECTOR),mergeObjectsWithTypeComparisions(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return r.forEach((function(n){Object.entries(n).forEach((function(n){var r=V(n,2),i=r[0],o=r[1];if(!e[i])return e[i]=o;var a=typeof e[i],s=typeof o,c=t[a];if(a===s&&c)return e[i]=c(e[i],o);e[i]=o}),{})})),e}};Object.assign(q,r);var G={quot:'"',apos:"'",amp:"&",lt:"<",gt:">",nbsp:"\t",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"-",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:""};function z(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,r=Y(n);Array.isArray(e)?(t=ntv.query(r)).append.apply(t,M(e)):ntv.query(r).append(e)}function Y(e){if(!e)return q.domQuery("head");if("NTV-DIV"===e.nodeName)return e;e.length&&(e=e[0]);try{var t=e.querySelector("ntv-div")||e.querySelector("head");if(t)return t}catch(e){}return q.domQuery("head")}function Q(e,t){if(e&&e.src){var n=new URL(e.src);if(-1===n.hostname.indexOf(t)&&-1===n.toString().indexOf("javascript:false")&&-1===n.toString().indexOf("about:blank")){var r=q.adBlockerValidation(e.src,!0,t);try{e.setAttribute("src",r)}catch(e){}}}if(e.children)for(var i in e.children)Q(i,t);return e}function K(e,t){window.ntv.MRAID?mraid.open(e):window.open(e,t)}var X={generateAdPlacementId:function(e,t){return"".concat(t,"-").concat(e)}};q.clientUtils=X,W.ntvjQueryInit=q.ntvjQueryInit,W.ntvExtends=q.ntvExtends,W.ntvAppendStylesheet=q.ntvAppendStylesheet,W.ntvAppendScript=q.ntvAppendScript;var J=n(905);function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(J(ntv,"PostRelease.ampMode")&&e&&t){var r=e.width,i=e.height,o=e.allowOverflow,a=void 0!==o&&o,s=n.success,c=void 0===s?function(){return!0}:s,l=n.failure,u=void 0===l?function(e){return q.postError(e)}:l;t.requestResize(r,i,a),t.onResizeSuccess((function(e,t){return c.call(null,e,t)})),t.onResizeDenied((function(e,t){return u.call(null,e,t)}))}}function ee(e){return new te(e)}function te(e){this.isArticle=e}te.prototype.ntvStopWatch=function(e,t){return this.startTime=null,this.rval=0,this.event=e,this.triggerTime=t,this.eventFired=!1,this.stop=function(){return null!=this.startTime&&(this.rval+=new Date-this.startTime,this.startTime=null),this},this.reset=function(){return this.startTime=null,this.rval=0,this},this.resume=function(){if(!this.preventResume)return null==this.startTime&&(this.startTime=new Date,this.checkEvent()),this},this.duration=function(){var e=this.rval;return null!=this.startTime&&(e+=new Date-this.startTime),e},this.checkEvent=function(){if(null!=this.event&&null!=this.triggerTime)if(this.duration()>=this.triggerTime&&!this.eventFired)this.event(),this.eventFired=!0;else if(null!=this.startTime){var e=this;setTimeout((function(){e.checkEvent()}),50)}return this},this},te.prototype.ntvTimeOnContentStopWatch=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;"function"!=typeof this.ntvStopWatch&&this.ntvStopWatch(),this.parent=e,this.cap=6e5,this.totalTime=0,this.sampleTimes=q.getSampleTimeArray(this.cap),this.triggerTime=null,this.onLeaveTracked=!1,this.engagements=[{time:5e3,actionType:f.TOC_ENGAGEMENT_5S},{time:15e3,actionType:f.TOC_ENGAGEMENT_15S},{time:3e4,actionType:f.TOC_ENGAGEMENT_30S}],this.nextEngagement=function(){return n.engagements[0]||null},this.overridingActionType=t;var i=this;return this.onLeave=function(){i.onLeaveTracked||(i.onLeaveTracked=!0,i.totalTime>0&&i.trackTimeOnContent(!0))},this.init=function(){r.addEventListener("pagehide",this.onLeave)},this.init(),this.checkEvent=function(){if(this.sampleTimes&&this.sampleTimes.length>=0){if(null==this.triggerTime){if(!(this.sampleTimes.length>0))return;this.triggerTime=this.sampleTimes.shift()}var e=this.nextEngagement();if(this.isArticle&&e&&this.totalTime+this.duration()>=e.time&&(this.engagements.shift(),this.trackEngagement(e)),this.duration()>=this.triggerTime)this.trackTimeOnContent(!1),this.triggerTime=null,this.resume();else if(null!=this.startTime){var t=this;setTimeout((function(){t.checkEvent()}),1e3)}}return this},this.trackEngagement=function(e){var t=q.is("a",e.actionType)?e.actionType.join():e.actionType,n=this.parent.tracker.getUrl(t);e.qsParams&&q.is("s",e.qsParams)&&(n=n.concat(e.qsParams)),q.appendImage(n)},this.trackTimeOnContent=function(e){if(this.parent.isPreRoll&&this.parent.prerollPlaying||this.parent.player&&"function"==typeof this.parent.player.getCurrentTime&&(isNaN(this.parent.player.getCurrentTime())||0==this.parent.player.getCurrentTime()))this.reset();else{var t=this.duration();if(this.totalTime+=t,this.totalTime>this.cap&&(t-=this.totalTime-this.cap,this.totalTime=this.cap),(!(t<=0)||e)&&(t<=0&&(t=0),!(t<=100&&0!=t)||e)){var n=this.parent.tracker.getUrl(this.overridingActionType||87);return n+="&"+f.VALUE+"="+t,e&&(n+="&"+f.TOTAL_VALUE+"="+this.totalTime),q.appendImage(n),this.reset(),this}}},this.stopAndTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.stop(),this.trackTimeOnContent(e),e&&(i.totalTime=0),this},this},te.prototype.addStopWatchEventHandlers=function(e){var t=this;return document.addEventListener("visibilitychange",(function(n){e.handler.call(t,n)}),!1),this};var ne=!0;try{window.sessionStorage.getItem("foo")}catch(e){ne=!1}var re=function(e){return ne?window.sessionStorage.getItem(e):y(e)},ie=function(e,t){ne?window.sessionStorage.setItem(e,t):m(e,t,365)},oe=n(204),ae={useObserverViewability:!1};function se(e){return e?N("resposneFlags").get(e)||{}:fv.setting.flags||ae}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=q.checkIfExistAndAppendQS,fe=q.getQS,pe=q.qetQueryStringParams,he=q.fowardQS,ve=function(e,t){t&&"object"==typeof t&&Object.keys(t).forEach((function(n){switch(n){case"ntvPubInjection":case"cfg.pubInjection":case"pubInjection":e.pubInjection=!0;break;case"ntvSetNoAutoStart":case"cfg.SetNoAutoStart":case"preventAutoStart":e.autoStart=!1;break;case"ntvArticle":case"ntvClickoutTracking":case"trackClickout":case"cfg.ClickOutTracking":e.measurement=me(t[n]);break;case"ntvRequestUrl":case"requestUrl":case"cfg.RequestUrl":e.requestUrl=q.ntvTrim(t[n]);break;case"ntvDebug":case"debug":case"cfg.Debug":e.debugMode=!0;break;case"ntvAmp":case"googleAmp":case"cfg.Amp":e.ampMode=!0;break;case"ntvServerDomain":case"adBlockerDomain":case"cfg.ServerDomain":q.adBlockerDomain=t[n],q.adBlocker=1;break;case"experiment":case"ntvExperiment":e.experiment=t[n];break;case"mraid":case"ntvMraid":e.MRAID=!0;break;case"ntvEdge":e.isEdge=!0;break;case"ntvAds":e.ads=me(t[n]);break;case"ptd":e.ptd=t[n];break;case"retry":e.retry=!0;break;case"customAudience":e.customAudience=t[n];break;case"liveRamp":e.liveRamp=t[n];break;case"ntvSdk":case"sdk":e.sdk=me(t[n]);break;case"flags":case"cfg.flags":e.flags=t}}))};function me(e){return"false"!==e.toLowerCase()}var ye=function(e,t){var n=de(e.advid,f.ADV_ID)+de(e.adversionplacementid,f.AVP)+de(e.placementid,f.PLC_ID)+he(f.OVERIDE_ARTICLE)+he(f.ABA)+he(f.RENDER_MODE)+he(f.ARTICLE_TMPL)+he(f.PASS_PREVIEW)+he(f.IP)+t;30==e.rt&&(n+="&"+f.FRAUD),e.debugMode&&(n+="&"+f.DEBUG_MODE),document.referrer.length>0&&(n+=de(document.referrer,f.PAGE_REF));var r,i=(r="",window.STR&&(r+="1,"),window._tlModuleLoader&&(r+="5,"),window.AdsNative&&(r+="21,"),window.Connatix&&(r+="2,"),r.length>0&&(r=r.substring(0,r.length-1)),r);i.length>0&&(n+="&"+f.TRACK_MEDIATION+"="+i),re("ntvAds")&&(n+="&"+f.SEEN_ADS+"="+re("ntvAds")),("playsInline"in document.createElement("video")||q.isAndroidPhone()&&"autoplay"in document.createElement("video")||q.isAndroidTablet())&&(n+="&ntv_mvi");var o=q.getKeyValuePairs();return o&&(n+="&"+f.KEY_VALUE_PAIRS+"="+o),q.isPublisherLoadedInTopWindow()||(n+="&"+f.PUBLISHER_IN_IFRAME+"=1"),e.experiment&&(n+="&"+f.EXPERIMENT+"="+e.experiment),e.retry&&e.ptd&&(n+="&"+f.RETRY+"&"+f.PTD_FILTER+"="+encodeURIComponent(e.ptd),delete e.ptd),n},ge=function(e){return e?Array.prototype.slice.apply(e.attributes).filter((function(e){return/(^ntv-)(.*)/.test(e.name)})).reduce((function(e,t){return e[oe(t.name)]=t.value,e}),{}):{}},be=function(){var e,t,n=(e=pe(),{autoStart:!0,requestUrl:window.location,rt:1,makeAdRequest:!0,debugMode:!1,ampMode:!1,experiment:"",needsMRAID:!1,adversionplacementid:"",placementid:"",retry:!1,ptd:"",baseURL:e.base,qs:e.params,pubInjection:!1,sdk:!1,recordEngagements:!0,useObserverViewability:!0,flags:ae});return ntv.attrValues=function(){var e=q.domQuery("script[src*='//s.ntv.io/serve/load.js']")||q.domQuery("script[src*='//a.postrelease.com/serve/load.js']");if(!e)return{};var t=ge(e),n=e.dataset;return le(le({},t),n)}(),ve(n,ntv.attrValues),window._prx&&ve(n,(t=window._prx,Array.isArray(t)?t.reduce((function(e,t){return e[t[0]]=t[1]||"",e}),{}):t)),window.ntvConfig&&ve(n,window.ntvConfig),function(e){e.measurement&&(e.measurement=Boolean(e.qs[f.ARTICLE_TMPL]||e.qs[f.AVP])),e.makeAdRequest=function(e){var t;return e.measurement?!!e.ads&&e.ads:null===(t=e.ads)||void 0===t||t}(e)}(n),function(e){var t=fe(f.ADV_ID),n=fe(f.AVP),r=fe(f.PLC_ID);t&&(e.advid=t),n&&(e.adversionplacementid=n),r&&(e.placementid=r),e.qs[f.FRAUD]&&(e.rt=30)}(n),n},we=function(e){var t={};return t.selector=window,t.adVersionPlacement=e.adversionplacementid,t.baseTrackingUrl=q.getProtocol()+"//"+q.getServerDomain()+"/trk.gif?"+f.AT+"=",t.secondaryImpressionTags="",t.moatEnabled=!1,t.trackTimeOnContent=!0,t.recordType=1,t.clickoutTracking=1,t},Ee=[25,50,75,100],Se={},Te=[];var ke={performance:new function(){this.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),n={};n[e]=t,Te.push(n)},this.get=function(e){if(e){for(var t=Te.length-1;t>=0;t--)if(Te[t][e])return Te[t][e];return null}return Te},this.sendRequest=function(e,t){var n=2==t||Math.random()<=.1;fv.setting.experiment&&0==fv.setting.experiment.indexOf("1*")&&(n=!0),n&&q.appendImage(e)},this.validInt=function(e){return!isNaN(e)&&e>=0&&e<6e4},this.trackBeforeRender=function(e){if(!this.sentTrackBeforeRender){var t=this.get("getResponse"),n=this.get("sendRequest"),r=window.ntvLoadStart-window.performance.timing.navigationStart,i=this.get("init")-window.ntvLoadStart,o=t-n;if(fv.setting.isEdge&&(n||(o=0)),e){var a=e.trackingBaseUrl+"321,322,333&ntv_a="+e.adVersionPlacement+"&ntv_jlt="+r+"&ntv_jad="+o+"&ntv_jte="+i+q.buildExperimentUrl(fv.setting.experiment);o>=0&&this.validInt(o)&&this.validInt(r)&&this.validInt(i)&&(this.sentTrackBeforeRender=!0,this.sendRequest(a))}}},this.trackAfterRender=function(e,t){var n=this.get("getResponse"),r=new Date-n,i=e.trackingBaseUrl+(1==t?"323":"324")+"&ntv_a="+e.adVersionPlacement+"&"+(1==t?"ntv_jtr":"ntv_jar")+"="+r+q.buildExperimentUrl(fv.setting.experiment);fv.setting.isEdge&&(n||(r=0)),this.validInt(r)&&this.sendRequest(i,t)},this.setStart=function(){this.get("preStart")||this.set("preStart",new Date-this.get("init")),this.set("start")},this.responsivenessTracking=function(){var e=(new Date).getTime(),t=e-window.performance.timing.navigationStart;setTimeout((function(){!function n(r,i,o,a,s){var c=(new Date).getTime(),l=c-a-200;if(5===r){var u=s/r;if(Ee.forEach((function(n){Se[n]||(u<=n?Se[n]=o[0]-e-200+t:c-e>15e3&&(Se[n]=15e3))})),Object.keys(Se).length===Ee.length)return;var d=i.shift();i.push(l),o.shift(),o.push(c),setTimeout((function(){n(r,i,o,c,s-d+l)}),200)}else i.push(l),o.push(c),setTimeout((function(){n(r+1,i,o,c,s+l)}),200)}(0,[],[],e,0)}),200)},this.sendResponsivenessRequest=function(e,t){var n=this;if(t&&!this.sent)if(Object.keys(Se).length===Ee.length){var r=q.getBaseUrl()+f.AT+"=386,387,388,389&"+f.RESPONSIVENESS_1OO+"="+Se[100]+"&"+f.RESPONSIVENESS_75+"="+Se[75]+"&"+f.RESPONSIVENESS_50+"="+Se[50]+"&"+f.RESPONSIVENESS_25+"="+Se[25]+"&"+f.SESSION_PL_ID+"="+e+q.buildExperimentUrl(fv.setting.experiment);q.appendImage(r),this.sent=!0}else setTimeout((function(){return n.sendResponsivenessRequest(e,t)}),200)}}};function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function Ie(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ce=window.win||window,Oe=q.checkIfExistAndAppendQS,_e=q.setURLCache,Re=q.buildExperimentUrl,xe=q.debounce;function Le(e,t){t.containsInfScrollPlacements=!0,e.passbackHandler(t),PostRelease.ProcessResponse(t)}function De(e,t){t.hasNextNode()&&!e.processing&&(e.processing=!0,ke.performance.set("sendRequest"),function(e,t){var n="https://".concat(q.getServerDomain()),r="".concat(f.PLC_ID,"=").concat(encodeURIComponent(e.placement)),i="".concat(f.PTD_FILTER,"=").concat(encodeURIComponent(e.placement)),o="".concat(f.REQ_URL_NTV,"=").concat(window.location.href),a="".concat(Oe(PostRelease.adsToFilter.join(),f.AD_FILTER)),s="".concat(Oe(PostRelease.campaignsToFilter.join(),f.CMP_FILTER)),c="".concat(Oe(PostRelease.advertisersToFilter.join(),f.ADV_FILTER)),l=fv.setting.experiment,u=q.getKeyValuePairs()?f.KEY_VALUE_PAIRS+"="+q.getKeyValuePairs():"",d=q.attachFirstPartyCookieQS(fv.firstPartyCookie),p="".concat(n,"/t.json?").concat(r,"&").concat(i,"&").concat(o).concat(a).concat(s).concat(c)+"".concat(Re(l),"&").concat(u).concat(d).concat(_e());q.ajax({method:"get",url:p,success:function(e){t(e)},error:function(){t()},credentials:!0})}(t,(function(n){if(t.increaseInterval(),n&&n.placements&&n.placements.length){var r=n.placements.filter((function(e){return e.id===t.placement}));r.length&&((r=r[0]).selector=t.getSelector(),Le(e,n))}else if(n&&n.hb&&n.hb.adUnits&&n.hb.adUnits.length){var i=n.hb.adUnits[0],o=t.getSelector(),a=i.bids.filter((function(e){return"nativo"===e.bidder}));a&&a.length&&(a[0].params.ad.selector=o),i.code=o,Le(e,n)}e.processing=!1,De(e,t)})))}var Ne=function(){function e(t,n,r,i){Pe(this,e),this.selector=t,this.currentPosition=n,this.placement=r,this.interval=i}return Ie(e,[{key:"hasNextNode",value:function(){return!!ntv.query(this.getNextSelector())[0]}},{key:"getNextSelector",value:function(){return this.selector.replace("%p%",this.currentPosition+this.interval)}},{key:"getSelector",value:function(){return this.selector.replace("%p%",this.currentPosition)}},{key:"increaseInterval",value:function(){this.currentPosition+=this.interval}}]),e}(),je=function(){function e(){Pe(this,e),this.ISManager={},this.nodesInserted=[]}return Ie(e,[{key:"trackPlacement",value:function(e){var t=this,n=function(){De(t,t.ISManager[e])};Ce.addEventListener("load",xe(n,20)),fv.internalPubSub.subscribe(l,n),n()}},{key:"placementHandler",value:function(e){var t=this;e.placements.filter((function(e){return e.infScroll&&e.infScroll.interval>0&&e.selector.indexOf("%p%")>0})).forEach((function(n){t.setManager(n,e),e.containsInfScrollPlacements=!0}))}},{key:"hbHandler",value:function(e){var t=this,n=e.hb;n&&n.adUnits&&n.adUnits.forEach((function(n){for(var r=0;r<n.bids.length;r++){var i=n.bids[r];if("nativo"===i.bidder&&i.params&&i.params.ad&&i.params.ad.infScroll&&i.params.ad.selector.indexOf("%p%")>0&&(e.containsInfScrollPlacements=!0,t.setManager(i.params.ad,e)))return void(n.code=t.getManager(n.placement).getSelector())}}))}},{key:"passbackHandler",value:function(e){var t=this;e.passback&&e.containsInfScrollPlacements&&e.passback.Providers.forEach((function(e){e.Placements.filter((function(e){return t.ISManager[e.Placement]})).forEach((function(e){return e.Selector=t.ISManager[e.Placement].getSelector()}))}))}},{key:"setManagers",value:function(e){this.placementHandler(e),this.hbHandler(e),this.passbackHandler(e)}},{key:"setManager",value:function(e,t){var n=fv.infScrollReset,r=e.id,i=e.infScroll,o=e.selector;if(null==this.ISManager[r]){var a=i.position,s=i.interval,c=new Ne(o,a,r,s);return t.placements.filter((function(e){return void 0!==e.ads})).forEach((function(e){return e.ads.filter((function(e){return void 0!==e.filteringLevel})).forEach((function(e){return fv.setFilteringByLevel({filteringLevel:e.filteringLevel,adId:e.id,campaignId:e.campaignID,advertiserId:e.advertiser.id})}))})),this.ISManager[r]=c,this.trackPlacement(r),e.selector=this.ISManager[r].getSelector(),!0}return n?this.ISManager[r].currentPosition=i.position:this.ISManager[r].increaseInterval(),e.selector=this.ISManager[r].getSelector(),!1}},{key:"getManager",value:function(e){if(!(this.ISManager[e]&&this.ISManager[e].interval<=0))return this.ISManager[e]}}]),e}();function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var Me=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t,this.value=n}var t,n,r;return t=e,(n=[{key:"toString",value:function(){return null==this.key||null==this.value?"":"".concat(this.key,"=").concat(this.value)}}])&&Ve(t.prototype,n),r&&Ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var Fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api,this.version,this.queryStringParameter=new Me(t),this.consentData={}}var t,n,r;return t=e,(n=[{key:"getConsentData",value:function(){}},{key:"consentDataToQueryValue",value:function(){return""}},{key:"getQueryString",value:function(){return this.getConsentData(),this.queryStringParameter.value=this.consentDataToQueryValue(),this.queryStringParameter.toString()}}])&&Ue(t.prototype,n),r&&Ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Be(){Be=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function He(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function Ge(e,t){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var i=Qe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke="tcfeuv2",Xe="uspv1",Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(s,e);var t,n,r,i,o,a=ze(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return We(this,s),(e=a.call(this,f.GPP_STRING_KEY)).name=f.GPP,e.api=t.__gpp,e.version=n.version,e.getConsentData(),e}return t=s,n=[{key:"getConsentData",value:function(){this.consentData=this.api("getGPPData")}},{key:"consentDataToQueryValue",value:function(){return this.consentData.gppString}},{key:"getSectionData",value:function(e){return this.api("hasSection",null,e)?this.api("getSection",null,e):{}}}],r=[{key:"Initialize",value:(i=Be().mark((function e(){var t,n,r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=r.length>0&&void 0!==r[0]?r[0]:window).__gpp){e.next=3;break}return e.abrupt("return",Promise.reject("GPP API not found"));case 3:return e.next=5,et(t.__gpp);case 5:return n=e.sent,e.abrupt("return",new s(t,{version:n.gppVersion}));case 7:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){He(o,n,r,a,s,"next",e)}function s(e){He(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&qe(t.prototype,n),r&&qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Fe);function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e||!t.__gpp||"function"!=typeof t.__gpp)return Promise.reject();var n=t.__gpp;return et(n).then((function(){return new Promise((function(t,r){$e(n,e).then((function(e){t(e)})).catch((function(){r("GPP section ".concat(e," is not supported"))}))}))})).catch((function(e){return Promise.reject(e)}))}function $e(e,t){return e("hasSection",null,t)?Promise.resolve(e("getSection",null,t)):Promise.reject()}function et(e){var t=e("ping");return"error"===t.cmpStatus?Promise.reject():function(e,t){var n=t.cmpStatus,r=t.cmpDisplayStatus;if("stub"===n||"visible"===r)return new Promise((function(t,i){var o={listenerId:void 0,isLoaded:tt(n),isAwaitingInput:nt(r),error:!1},a=e("addEventListener",(function(e){var n=e.eventName,r=e.listenerId,a=e.pingData;o.listenerId==r&&("error"!==n&&"error"!==a.cmpState?(!function(e,t){t.isLoaded=tt(e.cmpStatus),t.isAwaitingInput=nt(e.cmpDisplayStatus)}(a,o),function(e){return e.isLoaded&&!e.isAwaitingInput}(o)&&t(a)):i())}));o.listenerId=a.listenerId}));return Promise.resolve()}(e,t)}function tt(e){return"loaded"===e}function nt(e){return"visible"===e}function rt(){rt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function it(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function at(e,t){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lt(e);if(t){var i=lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(s,e);var t,n,r,i,o,a=st(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,f.GDPR_QS_KEY)).name=f.GDPR,n.consentData=t.consentData||{},n}return t=s,n=[{key:"getConsentData",value:function(){return this.consentData}},{key:"consentDataToQueryValue",value:function(){return this.consentData.consentString}}],r=[{key:"Initialize",value:(i=rt().mark((function e(){var t,n,r=arguments;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:window,e.next=3,pt();case 3:return n=e.sent,e.abrupt("return",new s(t,{consentData:n}));case 5:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){it(o,n,r,a,s,"next",e)}function s(e){it(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&ot(t.prototype,n),r&&ot(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Fe),dt=function(e,t){return!!ft[e]&&ft[e](t)},ft={v1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.__cmp&&"function"==typeof e.__cmp},v2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.__tcfapi&&"function"==typeof e.__tcfapi}},pt=function(){var e=g();return new Promise((function(t,n){var r=setTimeout((function(){n()}),1e5);Ze(Ke,e).then((function(e){return Promise.resolve({consentString:e.tcString,apiVersion:e.tcfPolicyVersion})})).catch((function(t){return mt(e)})).catch((function(t){return ht(e)})).catch((function(t){return vt(e)})).catch((function(e){n()})).then((function(e){clearTimeout(r),t(e)}))}))},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new Promise((function(t,n){dt("v1",e)?e.__cmp("getVendorConsents",[f.GDPR_VENDOR_ID],(function(e,r){r&&e&&e.gdprApplies&&e.vendorConsents[f.GDPR_VENDOR_ID]?t({consentString:e.metadata,apiVersion:1}):n()})):n()}))},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new Promise((function(t,n){dt("v1",e)?e.__cmp("getVendorConsents",f.GDPR_VENDOR_ID,(function(e,r){r&&e&&e.gdprApplies&&e.vendorConsents[f.GDPR_VENDOR_ID]?t({consentString:e.metadata,apiVersion:1}):n()})):n()}))},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new Promise((function(t,n){dt("v2",e)?e.__tcfapi("getTCData",2,(function(e,r){r&&e&&e.gdprApplies&&e.vendor.consents[f.GDPR_VENDOR_ID]?t({consentString:e.tcString,apiVersion:2}):n()}),[f.GDPR_VENDOR_ID]):n()}))};function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt,wt={accountId:"",bidders:[],enabled:!0,timeout:1e3,adapter:"nativoServerBidAdapter",endpoint:"https://dev-prebid-server.internal.nativo.net/openrtb2/auction",syncEndpoint:"http://dev-prebid-elb.internal.nativo.net:8000/cookie_sync"},Et=window,St=2e3,Tt=[],kt=!0,Pt=null;function At(e){Tt.push(e),function(){var e=this,t=q.domQuery('script[src*="'.concat("//s.ntv.io/js/prebid5.js",'"]'),Et.document);return new Promise((function(n){t&&n(),q.appendScript(q.getProtocol()+"//s.ntv.io/js/prebid5.js",n.bind(e),"ntv-ntvPbjs")}))}().then(It)}function It(){if(kt)kt=!1,Pt=null,function(){var e=Tt.pop(),t=(e.type,e.params),n=t.adUnits;n.forEach((function(e){e.bids.forEach((function(e){"nativo"===e.bidder&&(e.bidder="nativo_wrapper")}))})),t.tmax&&(St=t.tmax);return n.forEach((function(e){if(0==e.sizes.length&&(e.sizes=[[300,250],[300,600]]),e.mediaTypes={video:{context:"outstream",playerSize:[640,480]},banner:{sizes:e.sizes}},e.videoDivID=""+e.placement,e.resultExtraQS=t.hbExtraQS||"",e.auctionTrackingExtraParams){var n=_t(e.bids,f.BEFORE_AUCTION,e.auctionTrackingExtraParams);q.appendImage(n)}})),new Promise((function(t,n){(function(e){var t=e.params.adUnits||[],n=function(e){var t,n=e.params,r=n.gdpr,i=n.usp,o=n.adUnits,a=n.pbjsConfig,s=n.preBidGdpr,c=n.preBidUsp,l=a?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a):{};if("s2s"===e.type){var u,d=new Set,f=o.filter((function(e){return u=e.bids[0].bidder,!d.has(u)&&(d.add(u),!0)})).map((function(e){return e.bids[0].bidder}));l.s2sConfig=Object.assign(wt,{bidders:f})}var p=s||r;p&&function(){arguments.length>0&&void 0!==arguments[0]||window;Object.keys(ft).some((function(e){return dt(e)}))}(Et)&&((t=t||{}).gdpr={},t.gdpr.cmpApi=p.cmpApi,t.gdpr.timeout=p.timeout||St,t.gdpr.allowAuctionWithoutConsent=!!p.allowAuctionWithoutConsent);var h=c||i;h&&((t=t||{}).usp={},t.usp.cmpApi=h.cmpApi,t.usp.timeout=h.timeout||St);t&&(l.consentManagement=t);return l}(e),r=function(e){var t=e.params.pbjsBidderConfig;if(!t)return;var n=t.bidders;if(!(n&&Array.isArray(n)&&n.length>0))return;return t}(e);return new Ct(e,t,n,r)})(e).run().then((function(e){return e.processResponses()})).then(t).catch(n)}))}().then((function(){kt=!0})).catch((function(){kt=!0}));else{if(Pt)return;Pt=setTimeout((function(){return It()}),100)}}function Ct(e,t,n,r){var i=this;this.spec=e,this.type=e.type,this.adUnits=t,this.config=n,this.processed=!1,this.adUnits.forEach((function(e){if(!e.code){var t=e.bids.find((function(e){return"nativo_wrapper"===e.bidder}));t&&t.params&&t.params.ad&&(e.code=t.params.ad.selector)}})),(bt=Et.ntvPbjs||{}).que=bt.que||[],bt.que.push((function(){bt.setConfig(i.config),r&&bt.setBidderConfig(r)})),bt.trackWinningBid=function(e){var t=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;n<bt.adUnits.length;n++){var r=bt.adUnits[n];if(r.code==e.adUnitCode)for(var i=0;i<r.bids.length;i++){var o=r.bids[i];if(!t||"nativo_wrapper"==o.bidder)return o.params}}}(e.ad,"hb"===i.type);if(t){var n=t.ad;n.id||(n.id=t.placementId);var r=n.tracking,o=Ot(e.ad.bidder);!function(e,t,n,r,i,o){var a={primaryImpressionURL:n.trackingBaseUrl+f.PB_VCPM_IMP+",304&ntv_a="+n.adVersionPlacement+"&"+r+"="+i,selector:e[0],adID:n.vcpmParams.adID,placementID:t.id,checkMinimumAreaViewable:!0,checkOnFocus:!0,infiniteScroll:o,minimumAreaViewable:.5,minimumExposedTime:1e3,thirdPartyTrackingTags:""};q.trackReplacedNodeViewableImpression(a)}(e,n,r,f.SUB_AT,o,!!t.ad.infScroll)}}}function Ot(e){for(var t=0;t<bt.adUnits.length;t++)for(var n=bt.adUnits[t],r=0;r<n.bids.length;r++){var i=n.bids[r];if(i.bidder==e)return i.bidderID}return 0}function _t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=r?e.filter((function(e){return"nativo_wrapper"===e.bidder})):e;if(i[0].params.ad){var o=i[0].params.ad.tracking,a=o.trackingBaseUrl,s=o.adVersionPlacement;return a+t+"&"+f.AVP+"="+s+n}}Ct.prototype.run=function(){var e=this;return new Promise((function(t){e.prebidTimeout=setTimeout((function(){t(e)}),St+200),bt.que.push((function(){bt.addAdUnits(e.adUnits),bt.requestBids({timeout:St,bidsBackHandler:function(){e.prebidTimeout&&clearTimeout(e.prebidTimeout),t(e)}})}))}))},Ct.prototype.processResponses=function(){this.processed||(this.processed=!0,this.setNativoTargetingAndRender())},Ct.prototype.setNativoTargetingAndRender=function(){var e=this,t=[];this.adUnits.forEach((function(n){var r=0;n.bids.forEach((function(t){"s2s"!==e.type&&"nativo_wrapper"!==t.bidder||(r=t.params.ad.injectionMode)})),e.targeting=bt.getNativoWinningBids(n.code),e.checkForSelectorAndRender(n,t,r)})),t.length&&this.renderClientAd(t)},Ct.prototype.checkForSelectorAndRender=function(e,t,n){if(this.targeting){var r=this.targeting.winner,i=e.auctionTrackingExtraParams,o=this.resolveSelector(e);if(o&&q.domQuery(o)&&("nativo_wrapper"===r.bidder?(t.push(r.ad),this.trackBidRendering(r,e)):(!function(e,t){if(t.passback){var n=t.passback.Providers||[],r=t.params.adUnits.filter((function(t){return t.code===e.adUnitCode})).map((function(e){return e.placement}))[0];n.forEach((function(e){e.Placements=e.Placements.filter((function(e){return e.Placement!=r}))})),t.passback.Providers=n.filter((function(e){return!0===e.PlacementSpecific}))}}(r,this.spec),r.adUnitCode=o,bt.onEvent("bidWon",this.trackBidRendering.bind(this,r,e),e.code),bt.renderNativoAd(r,n)),i)){var a=_t(e.bids,f.AFTER_AUCTION,i);q.appendImage(a)}}},Ct.prototype.trackBidRendering=function(e,t){if("hb"===this.type){var n=q.getProtocol()+"//"+q.getServerDomain()+"/hb.gif";q.ajax({method:"POST",contentType:"application/x-www-form-urlencoded",url:n,val:t.resultExtraQS+"&t="+q.encryptUrl(JSON.stringify(this.targeting.auction))+q.buildExperimentUrl(fv.setting.experiment,!1)})}else{var r=Ot(e.bidder),i=e.params[0].qsParams||"";i+="&"+f.SUB_AT+"="+r,this.firePrimaryImpression(t,i)}},Ct.prototype.resolveSelector=function(e){return"s2s"===this.type&&e.bids[0].params&&e.bids[0].params.ad?e.bids[0].params.ad.selector:e.code},Ct.prototype.renderClientAd=function(e){var t=this;if(e&&0!==e.length){var n={};n.placements=e,n.passback=this.spec.passback,n.passback&&n.passback.Providers.length&&n.passback.Providers[0].Placements.length>0&&n.passback.Providers[0].Placements[0].Locator&&function(e){e.passback.Providers.forEach((function(t){!function(e,t){e.Placements.forEach((function(e,n){t.placements[n].selector=e.Locator,t.placements[n].prebid=!0}))}(t,e)}))}(n),fv.ProcessResponse(n,!0)}else setTimeout((function(){return t.renderClientAd(e,t.spec)}),0)},Ct.prototype.firePrimaryImpression=function(e,t){q.appendImage(_t(e.bids,f.PB_CPM_IMP,e.auctionTrackingExtraParams,!1)+"&".concat(t))};var Rt=function(e,t){var n={providerID:e.ProviderID,rateType:e.RateType,amount:e.Amount,adVersionPlacement:e.AdVersionPlacement,completed:!1,skipLog:e.SkipLog};return t&&(n.id=Math.round(1e3*Math.random()).toString().concat((new Date).valueOf().toString()),n.selector=t.Selector,n.locator=t.Locator,n.adVersionPlacement=t.AdVersionPlacement),n},xt=function(e){var t=e.providerID;1!=t&&3!=t&&22!=t||(e.autoFillDetection=!0,ntv.query(window).bind("message",(function(t){var n=t.originalEvent&&t.originalEvent.origin?t.originalEvent.origin:t.origin;n&&n.indexOf("btlr.sharethrough.com")>=0&&setTimeout((function(){return function(e){var t=ntv.query(e.locator)[0];t&&("true"==t.getAttribute("data-str-visited-flag")&&(e.autoFillDetection=!0))}(e)}),200)})))},Lt=function(e,t,n){e==f.PB_ATT&&t.skipLog&&(e=f.PB_ATT_SKIP_LOG);var r="";return(e==f.PB_CPM_IMP&&2==t.rateType||e==f.PB_VCPM_IMP&&3==t.rateType)&&(r="&"+f.VALUE+"="+t.amount),t.skipLog&&e!=f.PB_ATT_SKIP_LOG&&(r="&"+f.REQ_OPTIONS+"=s"),n+e+"&"+f.AVP+"="+t.adVersionPlacement+"&"+f.SUB_AT+"="+t.providerID+r+q.setURLCache()},Dt=function(e,t,n){q.ntvAppendPixelImage(Lt(e,t,n))},Nt=function e(t,n,r,i,o){r<0?Dt(f.PB_NOT_FIL,n,i):function(e,t){var n=!1,r=!1;if(e.locator){var i=q.domQuery(e.locator);if(i){var o=i.getBoundingClientRect(),a=o.width,s=o.height;a>0&&s>1?(n=!0,r=!0):e.autoFillDetection&&(n=!0,r=!1)}else n=!1,r=!1}else n=!0,r=!1;t(n,r)}(n,(function(a,s){a?s?(Dt(f.PB_CPM_IMP,n,i),function(e,t,n){var r={primaryImpressionURL:Lt(f.PB_VCPM_IMP,e,n),thirdPartyTrackingTags:"",selector:ntv.query(e.locator)[0],minimumAreaViewable:t.minimumAreaViewable,minimumExposedTime:t.minimumExposedTime,checkOnFocus:t.checkOnFocus,checkMinimumAreaViewable:t.checkMinimumAreaViewable,infiniteScroll:!1,placementID:t.placementID};q.trackReplacedNodeViewableImpression(r)}(n,o,i)):Dt(f.PB_NOT_FIL,n,i):setTimeout((function(){return e(t,n,r-1,i,o)}),100)}))},jt=function(e,t,n,r,i){var o=Rt(t,n);xt(o),function(e,t,n,r){var i;(i=t).selector=i.Selector,i.html=i.BodyTag,i.injectionMode=i.InjectionMode,e.isEdge&&0==e.index?Dt(f.PB_ATT,n,r):Cd(t,(function(e){t.injectNode=e,Vd(t),Dt(f.PB_ATT,n,r)}),50)}(e,n,o,r),Nt(e,o,30,r,i)},Vt=function(e,t,n){var r=e.Providers,i=r[e.index],o=Rt(i||r[0]);e.index!=r.length?(i.HeaderTag.length>0&&(e.isEdge&&0==e.index||ntv.query("head").append(i.HeaderTag)),i.Placements.length?i.Placements.forEach((function(r){jt(e,i,r,t,n)})):Dt(f.PB_ATT,o,t),e.index+=1):Dt(f.PB_NOT_FIL,o,t)},Mt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=e.TrackingUrl;void 0===e.index&&(e.index=0),n&&(e.isEdge=!0),Vt(e,r,t)}};function Ut(e){return e.selector+(e.page?'[page="'.concat(e.page,'"]'):"")}var Ft=function e(t,n){var r=ntv.query(t.selector),i=t.cpmExtraQS||"";r.length||t.foundOnEdge?(t.inventoryTracked||(t.inventoryTracked=!0,q.appendImage(t.url+"303&"+f.AVP+"="+t.adVersionPlacement+q.setURLCache()+i),new ntvViewableImpressionTracker(t.vcpmParams),ke.performance.trackAfterRender({adVersionPlacement:t.adVersionPlacement,trackingBaseUrl:t.url},1)),t.passback&&r.length&&(t.selector=r,t.passback.Providers.forEach((function(e){e.Placements.length>0&&!e.Placements[0].Selector&&(e.Placements[0].Selector=r)})),t.passback.TrackingUrl=t.url,n.hb||Mt(t.passback,t.vcpmParams))):"complete"!==document.readyState&&setTimeout((function(){return e(t,n)}),100)};function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(){Wt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function qt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Yt(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qt(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Kt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}var Xt="Don't render tout",Jt="Use response fallback data",Zt=new WeakSet,$t=function(){function e(t){Gt(this,e),Kt(this,Zt),this.config=t,this.assetRequestUrl=t.assetUrl,this.assets=void 0}var t,n;return Yt(e,[{key:"getAssets",value:(t=Wt().mark((function e(){return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 2:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){qt(o,r,i,a,s,"next",e)}function s(e){qt(o,r,i,a,s,"throw",e)}a(void 0)}))},function(){return n.apply(this,arguments)})}]),e}();var en,tn,nn,rn=Yt((function e(){Gt(this,e),this.assets={},this.trackers={},this.params={}})),on=function(){function e(){Gt(this,e),this.viewable=[],this.primary=[]}return Yt(e,[{key:"addTrackerByType",value:function(e,t){switch(e){case"viewable":this.addViewableTracker(t);break;case"primary":this.addPrimaryTracker(t);break;default:this[e]=t}}},{key:"addViewableTracker",value:function(e){if(Array.isArray(e)){var t,n=Bt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.viewable.push(r)}}catch(e){n.e(e)}finally{n.f()}}else this.viewable.push(e)}},{key:"addPrimaryTracker",value:function(e){this.primary.push(e)}}]),e}();en=on,nn={VIEWABLE:"viewable",PRIMARY:"primary"},(tn=Qt(tn="TRACKER_TYPES"))in en?Object.defineProperty(en,tn,{value:nn,enumerable:!0,configurable:!0,writable:!0}):en[tn]=nn;var an=function(e,t){throw new Error("Implement!")};function sn(){return{parseData:an}}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn={title:"title",url:"url",authorlogo:"authorlogo",image:"image",author:"author",preview:"preview"},fn=ln(ln({},dn),{},{cta:"ctaLabel",video:"video",clicktrackers:"clicktrackers"});function pn(e){this.config=e}pn.prototype.setParser=function(e){var t=new e(this.config);if(!(!t instanceof sn))return this.parser=t,this.parser},pn.prototype.parseData=function(e){if(this.parser)return this.parser.parseData(e)},pn.prototype.checkForMissingAssets=function(e){return Object.keys(dn).filter((function(t){return!e.hasOwnProperty(t)}))};var hn=1,vn=2,mn=12,yn=1,gn=2,bn=3,wn=["assets","eventtrackers"];function En(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sn(){sn.call(this),this.assetMap={title:{name:function(){return fn.title},value:function(e){return e.text}},link:{name:function(){return"merge"},value:function(e){var t={};return t[fn.url]=e.url,e.clicktrackers&&(t[fn.clicktrackers]=e.clicktrackers),t}},img:{name:function(e){return e===yn||e===gn?fn.authorlogo:e===bn?fn.image:void 0},value:function(e){return e.url}},data:{name:function(e){return e===hn?fn.author:e===vn?fn.preview:e===mn?fn.cta:void 0},value:function(e){return e.value}},video:{name:function(){return fn.video},value:function(e,t){return null!=t&&Object.assign(e,t),e}},ext:{name:function(e){if(e.mediaSource)return"videoSources"},value:function(e){return e.mediaSource?e.mediaSource:e}}}}function Tn(e){return function(e){if(Array.isArray(e))return kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Sn.prototype=Object.create(sn.prototype),Sn.prototype.parseData=function(e){var t=e.assets,n=e.eventtrackers,r=En(e,wn),i=new rn;return i.params=r,t&&(i.assets=this.parseAssets(t)),n&&(i.trackers=this.parseEventTrackers(n)),function(e){var t=e.assets,n=e.trackers;if(!t.clicktrackers)return;n.clickTrackingData={url:t.url,clicktrackers:t.clicktrackers},delete e.clicktrackers}(i),i},Sn.prototype.parseAssets=function(e){var t=this;if(e){var n,r,i,o={};return e.forEach((function(e){null!=e&&Object.keys(e).filter((function(e){return t.assetMap[e]})).forEach((function(a){if(r=e[a],n=t.assetMap[a].name(r.type||r)){if("string"==typeof(i=t.assetMap[a].value(r)))try{i=q.decodeHtmlEntity(i)}catch(e){}"merge"===n?Object.assign(o,i):o[n]=i}}))})),o}},Sn.prototype.parseEventTrackers=function(e){var t=new on;return e.forEach((function(e){var n=e.url;1===e.event?t.addPrimaryTracker(n):2===e.event&&t.addViewableTracker(n)})),t};var Pn=function(){this.processedData={parsed:null,missing:null}};Pn.prototype.setFallbackData=function(e){this.fallbackData=e},Pn.prototype.processData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;if(null==e&&null==this.fallbackData)return this;this.assetProcessor=new pn(this.config),this.assetProcessor.setParser(t),this.processedData.config=this.assetProcessor.config,this.assetArrayProcessOrder=[];var n=this.getAssetArray(this.fallbackData);if(n&&n.length>0){this.assetArrayProcessOrder.push(n);var r=n[0].eventtrackers||[];n[0].eventtrackers=r.concat.apply(r,Tn(this.fallbackData.eventtrackers))}var i,o=this.getAssetArray(e);for(On(o)&&(In(o,n),this.assetArrayProcessOrder.unshift(o));!this.processedData.parsed&&this.assetArrayProcessOrder.length;)(i=this.getNextProcessedDataSet())&&(this.processedData.parsed=i.parsed,this.processedData.missing=i.missing);return this.tryToFillMissingAssets(this.processedData),this},Pn.prototype.hasBeenProcessed=function(){return this.processedData.parsed&&this.processedData.parsed.length>0},Pn.prototype.getAssetArray=function(e){if(e)return e.ads?e.ads:[{assets:e.assets,eventtrackers:e.eventtrackers}]},Pn.prototype.getNextProcessedDataSet=function(){var e=this.assetArrayProcessOrder[0];return this.assetArrayProcessOrder.shift(),this.processAssetArrays(e)},Pn.prototype.processAssetArrays=function(e){var t=this;if(e){var n,r=[],i=[];return e.forEach((function(e){n=t.assetProcessor.parseData(e),r.push(n),i.push(t.assetProcessor.checkForMissingAssets(n.assets))})),{parsed:r,missing:i}}},Pn.prototype.tryToFillMissingAssets=function(e){var t=e.missing.reduce((function(e,t){return e||Boolean(t.length)}),!1);if(t&&this.assetArrayProcessOrder.length){var n=this.getNextProcessedDataSet().parsed[0].assets;e.missing.forEach((function(t,r){t.forEach((function(t){n[t]&&(e.parsed[r].assets[t]=n[t])}))})),t&&this.assetArrayProcessOrder.length&&tryToFillMissingAssets(e)}};var An=Pn;function In(e,t){if(e&&e.length&&t&&t.length)for(var n=0;n<e.length;n++){if(n>=t.length)return;var r=e[n],i=t[n];r.eventtrackers=Cn(r,i)}}function Cn(e,t){if(e.eventtrackers||t.eventtrackers)return e.eventtrackers=e.eventtrackers||[],t.eventtrackers=t.eventtrackers||[],e.eventtrackers.concat(t.eventtrackers)}function On(e){return!(null==e||!Array.isArray(e))&&e.some((function(e){var t;return null===(t=e.assets)||void 0===t?void 0:t.some((function(e){return null==e.link}))}))}function _n(){_n=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Rn(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ln(r.key),r)}}function Ln(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Dn(e,t){return(Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mn(e);if(t){var i=Mn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jn(this,n)}}function jn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Fn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Bn=new WeakSet,Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dn(e,t)}(s,e);var t,n,r,i,o,a=Nn(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Un(Vn(t=a.call(this,e)),Bn),t.type="DCO",t}return t=s,(n=[{key:"getAssets",value:(i=_n().mark((function e(t){var n=this,r=arguments;return _n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",Fn(this,Bn,Wn).call(this,t).then((function(e){return n.parseResponse(e)})).catch((function(e){return n.parseResponse()})));case 2:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){Rn(o,n,r,a,s,"next",e)}function s(e){Rn(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"parseResponse",value:function(e){var t=new An;return t.setFallbackData(this.config.fallbackAssets),t.processData(e),t.processedData.parsed}}])&&xn(t.prototype,n),r&&xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($t);function Wn(e){return new Promise((function(t,n){e?q.ajax({method:"get",url:e,credentials:!0,success:function(e){e&&Object.keys(e).length>0&&t(e),n(Jt)},error:function(){n(Jt)}}):n(Jt)}))}var qn={content:{name:function(){return fn.title},value:function(e){return e}},desc:{name:function(){return fn.preview},value:function(e){return e}},url:{name:function(){return fn.url},value:function(e){return e}},source_display_name:{name:function(){return fn.author},value:function(e){return e}},thumbnail:{name:function(){return fn.image},value:function(e){return q.hasWebProtocol(e.url)?e.url:q.getProtocol()+e.url}}},Gn={"on-viewed":{type:function(){return"viewable"},value:function(e){return e}},pixels:{type:function(){return"pixels"},value:function(e){return e}},jsTrackers:{type:function(){return"jsTrackers"},value:function(e){return e}}};function zn(){sn.call(this),this.dynamicAssetData=[]}function Yn(){Yn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Qn(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xn(r.key),r)}}function Xn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Jn(e,t){return(Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=er(e);if(t){var i=er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $n(this,n)}}function $n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}zn.prototype=Object.create(sn.prototype),zn.prototype.parseData=function(e){if(null!=e){var t=e.doc;return t&&this.parseAssets(t),this.dynamicAssetData}},zn.prototype.parseAssets=function(e){var t=this;e.forEach((function(e){var n=new rn;n.assets=t.parseAssetData(e),n.trackers=t.parseTrackerData(e),t.dynamicAssetData.push(n)}))},zn.prototype.parseAssetData=function(e){if(e){var t,n,r,i,o={};return Object.keys(qn).forEach((function(a){(t=e[a])&&(r=(n=qn[a]).name(t),i=n.value(t),o[r]=i)})),o}},zn.prototype.parseTrackerData=function(e){if(e){var t,n,r,i,o=new on;return Object.keys(Gn).forEach((function(a){t=e[a],r=(n=Gn[a]).type(t),i=n.value(t),o.addTrackerByType(r,i)})),o}};var tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}(s,e);var t,n,r,i,o,a=Zn(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).type="OUTBRAIN",t}return t=s,n=[{key:"getAssets",value:(i=Yn().mark((function e(t){var n,r=this,i=arguments;return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},t){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("No Outbrain JS URL supplied")));case 3:return e.abrupt("return",s.injectOutbrainJS(t).then((function(e){return s.callOutbrainRequest(n)})).then((function(e){return r.verifyResponse(e)})).then((function(e){return r.parseResponse(e)})));case 4:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){Qn(o,n,r,a,s,"next",e)}function s(e){Qn(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"verifyResponse",value:function(e){return new Promise((function(t,n){0===(null==e?void 0:e.doc.length)&&n(Xt),t(e)}))}},{key:"parseResponse",value:function(e){var t=new zn;return this.assets=t.parseData(e),this.assets}}],r=[{key:"injectOutbrainJS",value:function(e){return new Promise((function(t,n){try{q.appendScript(e,(function(){t()}),"NTV_OutbrainJS")}catch(e){n(e)}}))}},{key:"callOutbrainRequest",value:function(e){return new Promise((function(t,n){if(void 0!==window.OBR)try{OBR.extern.callRecs(e,(function(e){t(e)}))}catch(e){n(e)}else n("OBR doesn't exist on the window context")}))}}],n&&Kn(t.prototype,n),r&&Kn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}($t);function nr(e,t,n){return n.replace(e,t)}function rr(e,t,n){if(!e)return n;var r=function(e,t){return Object.keys(e).filter((function(n){return t[n]&&e[n]})).map((function(n){return t[n](e[n])})).reduce((function(e,t){return e.concat(t)}),[])}(e,t);return r?function(e,t){return e.reduce((function(e,t){return nr(t.pattern,t.value,e)}),t)}(r,n):n}function ir(e){return e=(e=(e=(e=e.replaceAll('"',"\\u0022")).replaceAll("'","\\u0027")).replaceAll("<","\\u003c")).replaceAll(">","\\u003e")}var or={title:function(e){return[{pattern:/"@Title"/gi,value:'"'.concat(e,'"')},{pattern:/@Title/gi,value:"<ntv-title>".concat(e,"</ntv-title>")}]},url:function(e){return[{pattern:/@Url/gi,value:e}]},authorlogo:function(e){return[{pattern:/@authorlogo/gi,value:e}]},image:function(e){return[{pattern:/@Image/gi,value:e}]},author:function(e){return[{pattern:/(@Author)(?!Logo)/gi,value:e}]},preview:function(e){return[{pattern:/@Preview/gi,value:"<ntv-preview>".concat(e,"</ntv-preview>")}]},viewableImpTrackers:function(e){return[{pattern:/@dco_viewable_imp_tracker/gi,value:ir(e)}]},viewable:function(e){return[{pattern:/@dco_viewable_imp_tracker/gi,value:ir(e)}]}};function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sr(r.key),r)}}function sr(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var cr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rawHtml=t,this.html=t}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.html=this.rawHtml}},{key:"fillTokensFromData",value:function(e){this.html=rr(e,or,this.html)}},{key:"cleanTokens",value:function(){this.html=nr(/(@dco_primary_imp_tracker|@dco_viewable_imp_tracker|@Author|@FullTitle|@Url|@Title|@Image|@Sponsored|@Preview|@authorlogo)/gi,"",this.html)}}])&&ar(t.prototype,n),r&&ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ur(r.key),r)}}function ur(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function dr(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function fr(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var pr=new WeakSet,hr=new WeakSet,vr=new WeakSet,mr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dr(this,vr),dr(this,hr),dr(this,pr),this.tokenizedHtml=new cr(t)}var t,n,r;return t=e,(n=[{key:"html",get:function(){return this.tokenizedHtml.html}},{key:"applyDynamicAsset",value:function(e){this.applyDynamicAssetData(e.assets),this.applyDynamicAssetTrackers(e.trackers),this.cleanUpUnusedTokens()}},{key:"applyDynamicAssetData",value:function(e){void 0!==e&&this.tokenizedHtml.fillTokensFromData(e)}},{key:"applyDynamicAssetTrackers",value:function(e){var t=this;void 0!==e&&Object.keys(e).forEach((function(n){var r=e[n];switch(n){case on.TRACKER_TYPES.VIEWABLE:fr(t,pr,yr).call(t,r);break;case on.TRACKER_TYPES.PRIMARY:fr(t,hr,gr).call(t,r);break;default:fr(t,vr,br).call(t,r)}}))}},{key:"cleanUpUnusedTokens",value:function(){this.tokenizedHtml.cleanTokens()}}])&&lr(t.prototype,n),r&&lr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yr(e){this.tokenizedHtml.fillTokensFromData({viewable:e.join("")})}function gr(e){e.forEach((function(e){return q.appendThirdPartyTracking(e)}))}function br(e){e&&e.length&&q.handleThirdPartyTracking(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Er(r.key),r)}}function Er(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Sr(e,t){Tr(e,t),t.add(e)}function Tr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kr(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Ir(e,t,"get"))}function Pr(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function Ar(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ir(e,t,"set"),n),n}function Ir(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Cr=new WeakMap,Or=new WeakSet,_r=new WeakSet,Rr=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sr(this,_r),Sr(this,Or),function(e,t,n){Tr(e,t),t.set(e,n)}(this,Cr,{writable:!0,value:void 0}),Object.assign(this,q.pick(t,"clickTrackerRedirect","previewImageResizer","authorImageResizer","allowHeadLineTrimming","maxHeadLineLength","maxPreviewLength","usePreviewResizerForAssets")),Ar(this,Cr,{image:function(e){return e=q.hasWebProtocol(e)?e:q.getProtocol()+e,n.usePreviewResizerForAssets?Pr(n,Or,xr).call(n,e,n.previewImageResizer):e},authorlogo:function(e){return Pr(n,Or,xr).call(n,e,n.authorImageResizer)},title:function(e){return n.allowHeadLineTrimming?Pr(n,_r,Lr).call(n,e,n.maxHeadLineLength):e},preview:function(e){return Pr(n,_r,Lr).call(n,e,n.maxPreviewLength)},url:function(e){return e=q.hasWebProtocol(e)?e:q.getProtocol()+e,null==n.clickTrackerRedirect?e:n.clickTrackerRedirect+encodeURIComponent(e)}})}var t,n,r;return t=e,(n=[{key:"conform",value:function(e,t){return kr(this,Cr).hasOwnProperty(e)&&void 0!==t?kr(this,Cr)[e](t):t}}])&&wr(t.prototype,n),r&&wr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xr(e,t){return t&&e&&t?t+encodeURIComponent(e):e}function Lr(e,t){return e&&t?e.length<t?e:e.substring(0,t):e}function Dr(e,t){if(e)for(var n=new Rr(t),r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];e[o]=n.conform(o,e[o])}}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jr(r.key),r)}}function jr(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Vr(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Mr(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Fr(e,t,"get"))}function Ur(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Fr(e,t,"set"),n),n}function Fr(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Br(e,t,n){for(var r in n)null==e[r]&&Wr(e,r,Hr(t,n[r]))}function Hr(e,t){var n=Yr(e,t);if(null!=n)return n.value}function Wr(e,t,n){if(null!=n){var r=Yr(e,t);if(null!=r)return r.value=n,r.value}}var qr=new WeakMap,Gr=new WeakMap,zr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vr(this,qr,{writable:!0,value:void 0}),Vr(this,Gr,{writable:!0,value:void 0}),Ur(this,qr,t),Ur(this,Gr,n)}var t,n,r;return t=e,(n=[{key:"value",get:function(){return Mr(this,qr)[Mr(this,Gr)]},set:function(e){Mr(this,qr)[Mr(this,Gr)]=e}}])&&Nr(t.prototype,n),r&&Nr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yr(e,t){if(null!=t&&"string"==typeof t)return function e(t,n){if(null==t||null==n||!Array.isArray(n))return;if(1===n.length)return new zr(t,n[0]);var r=n.shift();if(!t.hasOwnProperty||!t.hasOwnProperty(r))return;return e(t[r],n)}(e,t.split("."))}var Qr=["assetUrl","requestConfig"],Kr=["dcoEndpointUrl","assets","eventtrackers"];function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ti="OUTBRAIN",ni="DCO",ri="CAROUSEL",ii=[ni,ti,ri],oi=[ni,ri,ti];var ai=function(e){var t,n=ci(e);if(!n)return Promise.reject("No flashtalk/dco data in ad");var r=n.adType,i=e.toutClickTracker,o=null===(t=n.config)||void 0===t?void 0:t.ctaLink;n.config.clickTrackerRedirect=function(e,t,n){var r=ii.includes(e)||!n?t:n;return q.generateClickRedirect(r)}(r,i,o);n.assetUrl,n.requestConfig;var a=ei(n,Qr);return new Promise((function(t,i){try{si(n,e).then((function(n){if(oi.includes(r)){var i=new mr(e.html);i.applyDynamicAsset(n[0]),e.html=i.html}t({type:r,config:a,content:n})}))}catch(e){i(e)}}))},si=function(e,t){var n={ads:e.ads,eventtrackers:e.eventtrackers},r=e.adType;return new Promise((function(i,o){try{var a=e.assetUrl,s=e.requestConfig,c=function(e,t){return e===ti?new tr(t):new Hn(t)}(r,{fallbackAssets:n});e.config.usePreviewResizerForAssets="DCO"===r,c.getAssets(a,s).then((function(n){try{!function(e){if(!Array.isArray(e))throw"Dynamic Asset Data is not an Array";if(0===e.length)throw"No Dynamic Asset Data"}(n);var r,a=Zr(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;Br(s,t,{"assets.authorlogo":"advertiser.logo"}),Dr(s.assets,e.config)}}catch(e){a.e(e)}finally{a.f()}i(n)}catch(e){return void o(e)}})).catch((function(e){o(e)}))}catch(e){q.postError(e),o(e)}}))};var ci=function(e){if(e)return e.dynamicAssets?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.dynamicAssets):e.dcoResponse?li(e.dcoResponse):void 0},li=function(e){var t=e.dcoEndpointUrl,n=void 0===t?"":t,r=e.assets,i=void 0===r?[]:r,o=e.eventtrackers;return{adType:"DCO",assetUrl:n,ads:[{assets:i}],eventtrackers:void 0===o?{}:o,config:ei(e,Kr)}};function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.ntv;function pi(e,t,n){var r=e,i=t,o=!0,a=!1,s=void 0,c=n.initialTimeout||100,l=n.lastTimeout||750,u=n.timeoutThreshold,d=null==n.scrollIncrement?15:n.scrollIncrement,f=n.startWaitTime,p=n.isPreview,h=n.customArgs,v=n.listenToMouse,m=n.isOverlay,y=n.heightRatio;function g(e){var t=!1;o&&(t=p?function(){var e=function(){var e=0,t=0,n=i.getBoundingClientRect(),o=.25*r.innerHeight,a=n.top-o,s=r.innerHeight+r.document.body.scrollTop;Math.abs(a)>d&&r.document.body.scrollHeight>s&&(t=a<0?-d:d);n.right>r.innerWidth&&(e=d);return{x:e,y:t}}(),t=e.x,n=e.y;if(0!=t||0!=n)return r.scrollBy(t,n),c=c<u?u:c*=.55,!1;if(!(!r||!r.document||"complete"!==r.document.readyState||a))return a=!0,c=l,!1;var o=i.dataset.prevStyle||"";return delete i.dataset.prevStyle,i.setAttribute("style",o),c=-1,!0}():function(){var e=h[0];if(!e)return;var t=i.children[0],n=q.getOverflowDimensions(e).h*y,o=vi(e,i,m,y).width;if(d&&function(e){var t=q.getElementViewability(e);if(t.visibleArea/t.totalArea<.5)return!1;return!0}(t)){var a=r.scrollTop,l=r.clientHeight,u=r.scrollHeight,f=a+d;f+l>=u?(f=0,c=2e3):c=100,r.scrollTop=f}n!=s&&(s=n);return t.setAttribute("style","width: "+o+" !important; height: "+s+"px !important; top: 0px !important; visibility: visible; border: none; position: relative;"),!1}()),!t&&c>0?q.setTimeout((function(){return g(e)}),c):e&&e()}return{execute:function(e){v&&(i.addEventListener("mouseover",(function(){return o=!1})),i.addEventListener("mouseout",(function(){return o=!0}))),q.setTimeout((function(){return g(e)}),f||0)}}}var hi=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{initialTimeout:150,startWaitTime:500,scrollIncrement:40,timeoutThreshold:15,lastTimeout:750,isPreview:!0};return new Promise((function(o){if("complete"===r.readyState){if(t){var a=t;if(a.length&&(a=a.length>1?a[0].parentNode:a[0]),a=q.isInIframe(a)?a.ownerDocument.defaultView.frameElement||a:q.findLargestChild(a)){var s=q.getTopWindow();if(-1!==n.indexOf("h")){var c=a.getAttribute("style");a.setAttribute("style","box-shadow: 0px 0px 0px 10000px rgba(0,0,0,0.2); outline: 5px dashed lightblue; z-index: 9999999; position: relative;"+c),a.dataset.prevStyle=c}pi(s,a,i).execute(o)}}}else q.setTimeout((function(){return e(t,n)}),0)}))};function vi(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.4,i=e.ownerDocument.defaultView.getComputedStyle(e),o=e.parentNode.ownerDocument.defaultView.getComputedStyle(e.parentNode);if(t.style.paddingLeft="calc(".concat(i.paddingLeft," + ").concat(o.paddingLeft,")"),t.style.paddingRight="calc(".concat(i.paddingRight," + ").concat(o.paddingRight,")"),t.style.paddingTop="calc(".concat(i.paddingTop," + ").concat(o.paddingTop,")"),n){var a=q.getOverflowDimensions(e).h;t.style.position="absolute",t.style.top="".concat(Math.ceil(a*(1-r)),"px"),t.style.height="".concat(Math.ceil(a*r),"px"),t.style.left=0}else t.style.height="auto",t.style.visibility="visible";return t.style.zIndex=1,i}var mi=function(e,t,n,r){if(!Si(e)){var i=e.selector;if(i&&!Si(e=q.domQueryUp("".concat(i,":not(.").concat("ntv-isi-activated",")")))){var o=N("failedISIRenders");if(o.has(t))return;return o.set(t,di({id:t,scrollSpeed:n},r)),void q.delayPostError(t,new Error("activateISI() target node not found. targetSelector:".concat(i,", isi_id:").concat(t)))}}var a,s=function(e){if(!e)return;if(!e.length)return e.dataset.ntvIsi="true",e;for(var t=0;t<e.length&&e[t].dataset.ntvIsi;t++);if(t>=e.length)return;return e[t].dataset.ntvIsi="true",e[t]}(e);s&&(s.classList.add("ntv-isi-activated"),("IMG"===(a=s.tagName)?yi:"VIDEO"===a?gi:bi)(s,t,n,r))};function yi(e,t,n,r){_(e,(function(){var i=Ei(e);wi(e,t,n,r,i)}))}function gi(e,t,n,r){wi(e,t,n,r,Ei(e))}function bi(e,t,n,r){wi(e,t,n,r,e.parentNode)}function wi(e,t,n,r,i){var o=r.context||e.ownerDocument;i=i||e.parentNode;var a=r.isOverlay,s=void 0===a||a,c=r.heightRatio,l=isNaN(c)?s?.4:.5:c,u=q.domQuery("#"+t+"-wrapper",o),d=q.getOverflowDimensions(e,e.parentNode).h*l,f=q.domQuery("#"+t,o),p=vi(e,u,s,l);if(null!=f.getAttribute("data-ntv-body")){i.appendChild(u),f.setAttribute("style","width: "+p.width+" !important; height: "+d+"px !important; top:0px !important; visibility: visible; border: none; position: relative;");var h=q.writeIframe(f,"",unescape(f.getAttribute("data-ntv-header")),unescape(f.getAttribute("data-ntv-body")));f.removeAttribute("data-ntv-header"),f.removeAttribute("data-ntv-body"),pi(h.querySelector("#ntv-isi-content",o),u,di({listenToMouse:!0,startWaitTime:500,scrollIncrement:n,customArgs:[e],heightRatio:l},r)).execute()}}function Ei(e){var t=O(e);return"static"===getComputedStyle(t).position&&(t.style.position="relative"),t}function Si(e){return!(null==e||!q.isElement(e)&&function(e){var t=e.hasOwnProperty("length"),n=t&&0===e.length;return!t||n}(e))}var Ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=0,i=n?n-1:0,o=0,a=o===r,s=o===i,c=o,l=!1,u=0,d=t;function f(){return u=1,h(o+1)}function p(){return u=-1,h(o-1)}function h(e){return e=d?e>i?r:e<0?i:e:Math.max(Math.min(e,i),r),a=!d&&e===r,s=!d&&e===i,e}function v(e){return e!=o?(l=!0,c=o,o=e):(l=!1,u=0),o}return{curIndex:function(){return o},prevIndex:function(){return c},direction:function(){return u},atStart:function(){return a},atEnd:function(){return s},hasChanged:function(){return l},next:function(){return v(f())},prev:function(){return v(p())},go:function(e){return v(h(e))},length:function(){return n}}},ki=function(e){return new Promise((function(t,n){e||n();!function n(){Pi(e)?t():requestAnimationFrame((function(){n()}))}()}))},Pi=function(e){return e.naturalWidth>0&&e.naturalHeight>0};function Ai(e){return function(e){if(Array.isArray(e))return Ii(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ii(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oi(r.key),r)}}function Oi(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var _i={autoAdvance:!0,autoAdvanceWaitDuration:5e3,autoAdvanceTimeoutID:null,animated:!0,looped:!0,cta:"Shop Now",stylesId:"ntv-native-carousel-styles",stylesUrl:"https://s.ntv.io/css/native-carousel.css"},Ri=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.slideData=t.slideData,this.config=Object.assign(_i,t.config),this.mediaElements=[],this.state={resizing:!1,userInteracted:!1},this.ratio=this.config.previewImageHeight&&this.config.previewImageWidth?this.config.previewImageHeight/this.config.previewImageWidth:0,this.ready=t.ready||function(){},this.update=t.update||function(){},this.state={slideIterator:new Ti(t.slideData.length,this.config.looped),ui:{}},this.navigationActions={next:this.navigateNext,prev:this.navigatePrevious,click:this.clickOut},this.element=this.config.document.createElement("div"),this.element.classList.add("ntv-carousel"),this.element.style="\n      overflow: hidden;\n      position: absolute;\n      width: 100%;\n      height: auto;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      ",this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.classList.add("ntv-carousel-iframe"),this.iframe.setAttribute("scrolling","no"),this.iframe.style="\n        border: 0;\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    ",this.iframe.addEventListener("load",this.init.bind(this),{once:!0}),this.iframe.src="about:blank",this.element.appendChild(this.iframe)}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e,t,n,r=this;this.document=q.writeIframe(this.iframe,"",this.generateStyles(),""),this.body=q.domQuery("body",this.document),this.anchor=document.createElement("a"),this.anchor.setAttribute("target","_blank"),this.frameContainer=this.document.createElement("div"),this.frameContainer.classList.add("ntv-carousel-container"),this.anchor.appendChild(this.frameContainer),this.body.appendChild(this.anchor),this.createMediaElements().then((function(e){ki(e).then((function(){r.setIframeRatio(e),r.setupNavigationUI(),r.updateUI(),r.ready()})).catch((function(){}))})).catch((function(){})),t=(e={focus:function(e){return r.resume()},blur:function(e){return r.pause()}}).focus,n=e.blur,q.onFocusEvents.push((function(){return q.isOnFocus()&&t?t():n?n():void 0}))}},{key:"createMediaElements",value:function(){var e=this;return new Promise((function(t,n){var r,i=!1;e.setIframeRatio.bind(e),e.slideData.forEach((function(o,a){if((r=e.document.createElement(o.asset.tag)).classList.add("ntv-carousel-item"),0===a){if(!Pi(r))switch(i=!0,o.asset.tag){case"img":r.addEventListener("load",(function(){t(this)}),{once:!0}),r.addEventListener("error",(function(e){n(e)}),{once:!0})}}else r.classList.add("right");r.src=o.asset.src,e.frameContainer.appendChild(r),e.mediaElements.push(r)})),i||t()}))}},{key:"pause",value:function(){this.stopAnimation(),this.pauseAutoAdvance()}},{key:"resume",value:function(){this.resumeAutoAdvance()}},{key:"stopAnimation",value:function(){this.config.animated,this.mediaElements.forEach((function(e){e.classList.remove("animated")}))}},{key:"setIframeRatio",value:function(e){this.iframe.width=e.width,this.iframe.height=e.height,this.ratio=e.height/e.width}},{key:"generateStyles",value:function(){return'<link rel="stylesheet" id='.concat(this.config.stylesId," href=").concat(this.config.stylesUrl,"></link>")}},{key:"setupNavigationUI",value:function(){var e;this.state.uiContainer=this.document.createElement("div"),this.state.uiContainer.id="ntv-carousel-ui",this.state.uiContainer.style.zIndex=100,this.state.ui.navPrev=this.generateOverlayButton(this.generateSVGPathElement("0 0 6 6",12,12,"m 4 1 l -2 2 l 2 2"),this.handleInteraction.bind(this,"prev"),"prev"),this.state.ui.navNext=this.generateOverlayButton(this.generateSVGPathElement("0 0 6 6",12,12,"m 2 1 l 2 2 l -2 2"),this.handleInteraction.bind(this,"next"),"next"),this.state.ui.navButton=this.generateOverlayButton(this.ctaLabelText(0),this.handleInteraction.bind(this,"click"),"click","ntv-carousel-click-label"),(e=this.state.uiContainer).append.apply(e,Ai(Object.values(this.state.ui))),this.body.append(this.state.uiContainer)}},{key:"generateSVGPathElement",value:function(e,t,n,r){var i=this.document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("viewBox",e),i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(n,"px"));var o=this.document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",r),o.setAttribute("fill","none"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-linecap","round"),i.appendChild(o),i}},{key:"generateOverlayButton",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"div",i=this.document.createElement(r);i.classList.add("label"),i.append(e);var o=this.document.createElement("div");return o.href="#",o.addEventListener("click",t),o.classList.add("ntv-carousel-nav"),n&&o.classList.add(n),o.appendChild(i),o}},{key:"updateState",value:function(){var e=this;this.updateUI();var t=this.state.slideIterator.curIndex(),n=this.state.slideIterator.prevIndex(),r=this.state.slideIterator.direction();this.hideSlide(n,r,this.config.animated),this.resetSlide(t).then((function(){e.showSlide(t,r,e.config.animated)})),this.state.complete||this.state.userInteracted||this.startSlideTimer(),this.update({curIndex:t,prevIndex:n})}},{key:"hideSlide",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.mediaElements[e];r.style.zIndex=5,setTimeout((function(){r.style.zIndex=1}),250),r.classList.add(t>0?"left":"right"),n&&!this.state.resizing&&r.classList.add("animated")}},{key:"showSlide",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.mediaElements[e];i.style.zIndex=50,i.classList.remove("animated","left","right"),0!==t&&i.classList.add(t>0?"right":"left"),requestAnimationFrame((function(){i.classList.remove("right","left"),r&&!n.state.resizing&&i.classList.add("animated")}))}},{key:"resetSlide",value:function(e){var t=this;return new Promise((function(n){t.mediaElements[e].classList.remove("show","left","right","animated"),requestAnimationFrame(n)}))}},{key:"updateUI",value:function(){if(this.state.ui.navNext&&this.state.ui.navNext.setAttribute("disabled",this.state.slideIterator.atEnd()),this.state.ui.navPrev&&this.state.ui.navPrev.setAttribute("disabled",this.state.slideIterator.atStart()),this.state.ui.navButton){var e=this.ctaLabelText(this.state.slideIterator.curIndex());this.state.ui.navButton.style.display=e?"block":"none",this.state.ui.navButton.querySelector(".label").textContent=e||this.config.cta}this.anchor.href=this.slideData[this.state.slideIterator.curIndex()].cta.url}},{key:"ctaLabelText",value:function(e){return this.slideData[e].cta.label}},{key:"handleInteraction",value:function(e,t){t.stopPropagation(),t.preventDefault(),this.state.userInteracted=!0,this.navigate(e)}},{key:"navigate",value:function(e){this.clearSlideTimer(),this.navigationActions[e]&&this.navigationActions[e].call(this)}},{key:"navigateNext",value:function(){this.state.slideIterator.next(),this.state.slideIterator.hasChanged()&&this.updateState()}},{key:"navigatePrevious",value:function(){this.state.slideIterator.prev(),this.state.slideIterator.hasChanged()&&this.updateState()}},{key:"clickOut",value:function(){K(this.slideData[this.state.slideIterator.curIndex()].cta.url,"_blank")}},{key:"clearSlideTimer",value:function(){this.config.autoAdvanceTimeoutID&&clearTimeout(this.config.autoAdvanceTimeoutID)}},{key:"startSlideTimer",value:function(){this.config.autoAdvance&&(this.clearSlideTimer(),this.state.slideIterator.atEnd()?this.state.complete=!0:this.config.autoAdvanceTimeoutID=setTimeout(this.navigateNext.bind(this),this.config.autoAdvanceWaitDuration))}},{key:"pauseAutoAdvance",value:function(){this.clearSlideTimer()}},{key:"resumeAutoAdvance",value:function(){this.config.autoAdvance&&this.startSlideTimer()}}])&&Ci(t.prototype,n),r&&Ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Di={title:[{tag:"ntv-title",attribute:""},{tag:"a",attribute:"title"},{tag:"img",attribute:"title"},{tag:"span",attribute:"title"}],url:[{tag:"a",attribute:"href"}],authorlogo:[{tag:"img",attribute:"src"}],image:[{tag:"img",attribute:"src"}],author:[{tag:"a",attribute:"title"},{tag:"img",attribute:"alt"}],preview:[{tag:"ntv-preview",attribute:""}],cta:[{tag:"",attribute:""}]},Ni=function(e){var t,n={};return Object.keys(e).forEach((function(r){t=e[r],Di[r]&&(n[r]={value:t,usage:Di[r].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))},n[r].usage.forEach((function(e){e.selector="".concat(e.tag).concat(e.attribute&&""!=e.attribute?"[".concat(e.attribute,'*="').concat(t,'"]'):"")})))})),n},ji=(q.getTopWindow(),1),Vi=2;function Mi(e,t,n,r,i){var o,a,s,c=(a=null==(o=i)?void 0:o.adID,s=null==o?void 0:o.placementID,null==a&&null==s?{}:zv(q.clientUtils.generateAdPlacementId(a,s))||{}),l={},u=function(){var t;try{switch(n){case Vi:t=q.appendScript(e);break;case ji:default:t=q.appendImage(e)}return{type:n,data:t}}catch(e){}},d=function(){var e;try{if(t.length){var n=i&&(i.node||fv.adsMap[i.placementID+" "+i.adID]&&fv.adsMap[i.placementID+" "+i.adID].node);e=q.handleThirdPartyTracking(t,n)}return e}catch(e){}},f=(null==c?void 0:c.isProgrammatic)||!1,p=Math.floor(1e16*Math.random());f||p>5e15?(l.third=d(),l.first=u()):(l.first=u(),l.third=d());var h=function(e){return/(ntv_at=)([0-9,]+)/gi.test(e)?e.match(/(ntv_at=)([0-9,]+)/gi)[0].split("=")[1]:""}(e);return i&&"object"==typeof i?(i.actionType=h,l.additionalInfo=i):(!isNaN(h)||isNaN(h)&&h.split(",").length)&&(l.additionalInfo={actionType:h}),l}function Ui(){var e;return arguments.length<=2?e=_v.apply(this,arguments):(e=Mi.apply(this,arguments),ntv.Events.PubSub.publish("tracking",e.additionalInfo)),e}function Fi(e){var t=this,n=e.baseTrackingUrl,r=e.adID,i=e.adVersionPlacement,o=e.thirdPartyTrackers,a=void 0===o?[]:o,s=e.params,c=void 0===s?{}:s;this.baseTrackingUrl=n,this.adID=r,this.adVersionPlacement=i,this.thirdPartyTrackers=a,this.slideID=c.slideID||void 0,this.extraQS=c.extraQS||"",this.fired={},this.slideID&&-1===this.extraQS.indexOf(f.SLIDE_ID)&&(this.extraQS+="&".concat(f.SLIDE_ID,"=").concat(this.slideID)),this.fireViewTracker=function(){t.sendTrackingData([Bv.gallery])}}function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return(t=Gi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gi(r.key),r)}}function Gi(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}q.insertTracking=Mi,Fi.prototype.sendTrackingData=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((!this.fired[e]||n)&&void 0!==this.baseTrackingUrl){var r=Hv(this.baseTrackingUrl,e.join(),this.adID,this.adVersionPlacement);r+=this.extraQS,this.fired[e]=r;var i="";e.forEach((function(e){t.thirdPartyTrackers[e]&&(i+=t.thirdPartyTrackers[e])})),Mi(r,i,1)}};var zi={document:window.slideElement?q.getTopWindow().document:window.document,resizeTimeoutDuration:100},Yi=function(){function e(t){var n=this,r=t.node,i=void 0===r?null:r,o=t.ad,a=void 0===o?null:o,s=t.content,c=void 0===s?{}:s,l=t.config,u=void 0===l?{}:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=Hi(Hi({ad:a},zi),u),this.config.node=i||this.config.document,this.state={ui:{},complete:!1,resizing:!1,resizeTimeout:null},this.slideData=c,this.slideData.forEach((function(e){e.assetUsage=Ni(e.assets)}));var d,f=(d=a.response)&&Wv.get(d)||{};if(this.trackers=this.slideData.map((function(e){return new Fi({baseTrackingUrl:f.trackingBaseUrl,adID:a.id,adVersionPlacement:a.adVersionPlacement||f.adVersionPlacement,params:e.params})})),this.previewElement=this.getPreviewElement(),this.previewElement){this.state.parentSyncElement=this.determineParentSyncElement(this.previewElement),this.mediaCarousel=new Ri({id:"ntv-native-carousel-".concat(a.id),slideData:this.slideData.map((function(e){return{asset:{tag:"img",src:e.assets.image},cta:{label:e.assets.cta,url:e.assets.url},slideID:e.params?e.params.slideID:void 0}})),config:this.config,update:this.updateState.bind(this),ready:function(){n.fireViewTracker(),ki(n.previewElement).then((function(){n.swapPreviewToGallery()})).catch((function(){}))}}),""===this.config.node.style.position&&(this.config.node.style.position="relative"),this.config.node.append(this.mediaCarousel.element),this.mediaCarousel.element.style.visibility="hidden";var p=this.config.node.querySelector(".ntv-disc");p&&!p.style.zIndex&&(p.style.zIndex=1),this.config.node.addEventListener("mouseenter",this.mediaCarousel.pauseAutoAdvance.bind(this.mediaCarousel)),this.config.node.addEventListener("mouseleave",this.mediaCarousel.resumeAutoAdvance.bind(this.mediaCarousel)),function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;q.getElementViewability(t).visible?n&&"function"==typeof n&&n():setTimeout((function(){e(t,n)}),r)}(this.config.node,this.mediaCarousel.startSlideTimer.bind(this.mediaCarousel)),window.addEventListener("resize",this.handleResize.bind(this))}}var t,n,r;return t=e,(n=[{key:"swapPreviewToGallery",value:function(){this.syncWithPreview(),this.previewElement.style.visibility="hidden",this.mediaCarousel.element.style.visibility="visible"}},{key:"determineParentSyncElement",value:function(e){var t=e.parentNode,n=getComputedStyle(t),r=q.getElementDimensions(t);return"A"!=t.tagName&&"inline"!==n.display&&r.w>0&&r.h>0?t:t.id&&t.id.indexOf("ntv".concat(this.config.ad.placement))?this.previewElement:this.determineParentSyncElement(t)}},{key:"handleResize",value:function(){var e=this;this.state.resizing||(this.state.resizing=!0,this.mediaCarousel.stopAnimation(),this.mediaCarousel.resizing=!0),this.state.resizeTimeout&&clearTimeout(this.state.resizeTimeout),this.state.resizeTimeout=setTimeout((function(){e.state.resizing=!1,e.mediaCarousel.state.resizing=!1}),this.config.resizeTimeoutDuration),this.syncWithPreview()}},{key:"syncWithPreview",value:function(){var e=this.config.node.getBoundingClientRect(),t=this.previewElement.getBoundingClientRect();this.mediaCarousel.element.style.left="".concat(t.left-e.left,"px"),this.mediaCarousel.element.style.top="".concat(t.top-e.top,"px"),this.mediaCarousel.frameContainer.style.width="".concat(this.previewElement.width,"px"),this.mediaCarousel.frameContainer.style.height="".concat(this.previewElement.height,"px");var n=this.getSyncDimensions();this.mediaCarousel.element.style.width="".concat(n.w,"px"),this.mediaCarousel.element.style.height="".concat(n.h,"px"),this.mediaCarousel.state.uiContainer.style.width="".concat(n.w,"px"),this.mediaCarousel.state.uiContainer.style.height="".concat(n.h,"px"),this.mediaCarousel.element.style.overflow=n.h<this.previewElement.height?"hidden":"auto"}},{key:"getSyncDimensions",value:function(){var e=q.getElementDimensions(this.state.parentSyncElement),t=q.getElementDimensions(this.previewElement);return(0===e.w||e.w>t.w)&&(e.w=t.w),(0===e.h||e.h>t.h)&&(e.h=t.h),e}},{key:"getPreviewElement",value:function(){return this.slideData[0].assetUsage.image?this.config.node.querySelector(this.slideData[0].assetUsage.image.usage[0].selector):void 0}},{key:"fireViewTracker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.trackers[e];t&&t.fireViewTracker()}},{key:"updateState",value:function(e){this.updateContent(e),this.fireViewTracker(e.curIndex)}},{key:"updateContent",value:function(e){var t=this,n=this.slideData[e.curIndex].assetUsage,r=this.slideData[e.prevIndex].assetUsage;Object.keys(n).forEach((function(e){if("image"!==e&&"cta"!==e){var i=n[e],o=r[e],a=i.usage,s=o.usage;a.forEach((function(e,n){if(s[n].selector&&o.value!==i.value){var r=e.attribute;t.config.node.querySelectorAll(s[n].selector).forEach((function(e){r&&""!=r?e.setAttribute(r,e.getAttribute(r).replace(o.value,i.value)):e.textContent=e.textContent.replace(o.value,i.value)}))}}))}}))}}])&&qi(t.prototype,n),r&&qi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qi(e,t){var n={};return Object.keys(e).forEach((function(r){Ki(r,t)(e[r],n)})),function(e){void 0===e.type&&(e.type="html",e.html=e.text,e.text="")}(n),n}var Ki=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t,n){n[e]=t},r={preview:function(e,t){t.text=e},html:function(e,t){t.html=e,t.type="html"},image:function(e,n){t.lazyLoad?n.src='data-splide-lazy="'.concat(e,'"'):n.src='src="'.concat(e,'"'),n.type="image"},video:function(e,t){e&&"string"==typeof e&&(t.src='src="'.concat(e,'"'),t.type="video")},videoSources:function(e,t){t.sources=eo(e),t.type="video"},url:function(e,t){null!=e&&"string"==typeof e&&""!==e.trim()&&(t.ctaLink=e)}};return r[e]||n};var Xi={src:"",sources:""};var Ji=/(@)(\w+)/g;function Zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:templates,n=t.slide,r=t.media,i=e.type;return void 0!==r[i]&&(e.media=$i(e,r[i])),$i(e,n)}function $i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,r,i){var o,a,s=null!==(o=null!==(a=e[i])&&void 0!==a?a:e[n[i]])&&void 0!==o?o:Xi[i];return void 0!==s?s:r+i};return t.replaceAll(Ji,r)}function eo(e){if(e&&"object"==typeof e)return Object.values(e).reduce((function(e,t,n){return"".concat(e).concat(0!==n?"\n":"").concat((r=t.src,i=t.type,'<source src="'.concat(r,'" type="').concat(i,'">')));var r,i}),"")}function to(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||no(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){if(e){if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(e){var t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e),t.firstElementChild}function oo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DCO_REPLACEMNT_MAP;if(e)return io(e=$i(t,e,n))}function ao(e){q.onFocusEvents.push(e)}function so(e,t){try{var n=new URL(t),r=n.searchParams,i={};r.has(f.REDIRECT)&&(i[f.REDIRECT]=r.get(f.REDIRECT),r.delete(f.REDIRECT)),r.has(f.SLIDE_ID)?r.set(f.SLIDE_ID,e):r.append(f.SLIDE_ID,e);for(var o=0,a=Object.entries(i);o<a.length;o++){var s=to(a[o],2),c=s[0],l=s[1];r.append(c,l)}return n.href}catch(e){return t}}function co(e){var t=q.domQuery(e);t||(t=q.domQuery("body"));var n=t.getElementsByTagName("a");if(n){var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=no(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.getAttribute("href");o.getAttribute("target")&&a&&-1!==a.indexOf("javascript:")&&o.setAttribute("target","_self")}}catch(e){i.e(e)}finally{i.f()}}}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uo(r.key),r)}}function uo(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var fo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=uo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"clear",(function(){t.map.clear()})),this.map=new po,this.trigger=this.publish,this.on=this.subscribe,this.off=this.unsubscribe}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(e,t,n){this.map.addPubSubEntry(e,t,n)}},{key:"unsubscribe",value:function(e,t,n){this.map.removePubSubEntry(e,t,n)}},{key:"publish",value:function(e,t){this.map.getPubSubscribers(e).forEach((function(e){"function"==typeof e&&e(t)}))}}])&&lo(t.prototype,n),r&&lo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function po(){var e=this,t={};this.addPubSubEntry=function(e,n,r){t.hasOwnProperty(e)||(t[e]={}),r?t[e][r]=n:t[e][n]=n},this.removePubSubEntry=function(e,n,r){t.hasOwnProperty(e)&&t[e].hasOwnProperty(n)&&(r?delete t[e][r]:delete t[e][n])},this.removePub=function(e){t.hasOwnProperty(e)&&delete t[e]},this.getPubSubscribers=function(e){return t.hasOwnProperty(e)?Object.values(t[e]):[]},this.hasSubscribers=function(t){e.getPubSubscribers(t).length},this.clear=function(){t={}}}var ho=fo;function vo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yo="style",go="js",bo=function(e){var t=e.id,n=e.url,r=e.onComplete,i=void 0===r?function(){}:r,o=e.target,a=void 0===o?document:o;return new Promise((function(r){q.appendScript(n,(function(t){e.element=t,i(),r()}),t,a)}))},wo=function(e){var t=e.id,n=e.url,r=e.target,i=void 0===r?document:r;return new Promise((function(r){q.ntvAppendStylesheet(t,n,i,(function(t){e.element=t,r()}))}))};function Eo(e){var t=[];if(e&&Array.isArray(e)&&e.length>0){var n,r,i=vo(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.push(((r=o.type)===yo?wo:r===go?bo:void 0)(o))}}catch(e){i.e(e)}finally{i.f()}return Promise.all(t)}}var So={OPEN:"open",OPEN_COMPLETE:"openComplete",CLOSE:"close",CLOSE_COMPLETE:"closeComplete"};function To(e){var t=e.id,n=e.selectorPrefix,r=void 0===n?"ntv":n,i=e.attributes;this.modal=function(e){var t=document.createElement("div");Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}));var n=document.createElement("div");return n.classList.add("ntv-modal-content"),t.append(n),{element:t,content:n}}(i);var o="".concat(r,"-modal");this.modal.element.classList.add(o,"ntv-modal"),this.modal.element.id="".concat(r,"-modal-").concat(t),this.modal.content.id="".concat(this.modal.element.id,"-content");var a=document.createElement("div");a.style.position.absolute,a.append(this.modal.element),this.element=a,this.modalContent=this.modal.content,this.state={open:!1,hasBeenOpen:!1,autoClose:!1},this.autoCloseTimeout=0,Object.defineProperty(this,"isOpen",{get(){return this.state.open}}),this.AddVendorEvents(),this.pubSub=new ho,this.dependencies=[{id:"ntvModalCss",type:"style",url:f.DEPENDENCIES.MODAL_CSS,target:a}],Eo(this.dependencies)}To.prototype.AddVendorEvents=function(){var e=this;!function(e,t,n){[n.toLowerCase(),"webkit".concat(n),"MS".concat(n),"o".concat(n)].forEach((function(n){return e.addEventListener(n,t,!1)}))}(this.modal.element,(function(t){t.target===e.modal.element&&(e.modal.element.classList.contains("closed")?(e.modal.element.style.display="none",e.modal.element.classList.remove("closed"),e.modal.element.classList.remove("animated"),e.pubSub.publish(So.CLOSE_COMPLETE)):e.modal.element.classList.contains("open")&&e.pubSub.publish(So.OPEN_COMPLETE))}),"TransitionEnd")},To.prototype.appendContent=function(e){this.modalContent.append(e)},To.prototype.on=function(e,t){this.pubSub.subscribe(e,t)},To.prototype.off=function(e,t){this.pubSub.unsubscribe(e,t)},To.prototype.open=function(){var e=this;this.clearAutoClose(),this.bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden",this.state.open=!0,this.modal.element.style.display="block",this.pubSub.publish(So.OPEN,this.state.hasBeenOpen),this.state.hasBeenOpen=!0,setTimeout((function(){e.state.open&&(e.modal.element.classList.add("animated"),e.modal.element.classList.remove("closed"),e.modal.element.classList.add("open"))}),100)},To.prototype.close=function(){this.clearAutoClose(),document.body.style.overflow=this.bodyOverflow,this.state.open=!1,this.modal.element.classList.remove("open"),this.modal.element.classList.add("closed"),this.pubSub.publish(So.CLOSE)},To.prototype.startAutoClose=function(){var e=this;this.state.autoClose=!0,this.autoCloseTimeout=setTimeout((function(){e.close()}),6e3)},To.prototype.clearAutoClose=function(){this.state.autoClose=!1,this.autoCloseTimeout&&clearTimeout(this.autoCloseTimeout)};var ko={baseTrackingUrl:void 0,adId:void 0,adVersionPlacement:void 0,thirdPartyTrackers:{},extraQS:""};function Po(e){Object.assign(this,ko,e)}Po.prototype.fireTracking=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Hv(this.baseTrackingUrl,e.join(),this.adId,this.adVersionPlacement);this.extraQS&&q.is("s",this.extraQS)&&(r=r.concat(this.extraQS)),n&&q.is("s",n)&&(r=r.concat(n));var i="";e.forEach((function(e){t.thirdPartyTrackers[e]&&(i+=t.thirdPartyTrackers[e])})),Mi(r,i,1)};var Ao={VIEWABLE_CHANGE:"VIEWABLE_CHANGE",IN_VIEW:"IN_VIEW",OUT_OF_VIEW:"OUT_OF_VIEW"},Io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.visible=e.visible||!1,this.totalArea=e.totalArea||0,this.ratioInView=e.ratioInView||0,this.xInView=e.xInView||0,this.yInView=e.yInView||0};function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oo(r.key),r)}}function Oo(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var _o={enabled:!0},Ro=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tracker=t,function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e[i]=e[i]||t[i]}}(this.tracker,_o),this.id=this.tracker.id,this.element=this.tracker.element,this.enabled=this.tracker.enabled,this.checkOnFocus=this.tracker.checkOnFocus,this.selector=this.tracker.selector,this.isInvTracking=this.tracker.isInvTracking,this.minimumAreaViewable=this.tracker.minimumAreaViewable,this.checkMinimumAreaViewable=this.tracker.checkMinimumAreaViewable,this.visible=!1,this.viewability=new Io,this.pubSub=new ho,this.viewabilityData=new Io}var t,n,r;return t=e,(n=[{key:"addViewableEventListener",value:function(e,t){null!=Ao[e]&&this.pubSub.subscribe(Ao[e],t)}},{key:"removeViewableEventListener",value:function(e,t){null!=Ao[e]&&this.pubSub.unsubscribe(Ao[e],t)}},{key:"dispose",value:function(){this.pubSub.clear()}},{key:"isInFocus",value:function(){return!this.checkOnFocus||q.isOnFocus()}},{key:"publishViewabilityChange",value:function(){this.pubSub.publish(Ao.VIEWABLE_CHANGE,this.viewabilityData),this.viewabilityData.ratioInView>=this.minimumAreaViewable?this.pubSub.publish(Ao.IN_VIEW):this.pubSub.publish(Ao.OUT_OF_VIEW)}},{key:"isInView",value:function(){return!0}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"checkViewability",value:function(e){}}])&&Co(t.prototype,n),r&&Co(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xo(e){return function(e){if(Array.isArray(e))return Lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,No(r.key),r)}}function No(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function jo(){return(jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Vo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Vo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ho(e)););return e}function Mo(e,t){return(Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ho(e);if(t){var i=Ho(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fo(this,n)}}function Fo(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(o,e);var t,n,r,i=Uo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="ElementViewability",t.elements=[],t.viewability,t.tracker&&t.tracker.viewabilityMethod||(t.tracker.viewabilityMethod=Bo(t)),fv.viewableImpressionTrackers.push(t.tracker),t.tracker.enabled&&t.enable(),qo(),t}return t=o,(n=[{key:"checkViewability",value:function(e){this.viewabilityData=this.getDefaultViewability(e),this.publishViewabilityChange()}},{key:"dispose",value:function(){jo(Ho(o.prototype),"dispose",this).call(this),q.removeElementFromArray(fv.viewableImpressionTrackers,this.tracker),0==fv.viewableImpressionTrackers.length&&Go()}},{key:"getDefaultViewability",value:function(e){var t=0,n=0,r=!0;if(this.elements||(this.elements=[]),this.element&&this.elements.push(this.element),0==this.elements.length){if(this.elements=q.isElement(this.selector)?[this.selector]:xo(q.domQueryAll(this.selector)),0===this.elements.length){var i=fv.referencePlacementPositions[this.selector];this.elements=i?xo(i):[]}0==this.elements.length&&(this.elements=xo(q.domQueryAll(this.selector,q.getTopWindow().document)))}var o=this.elements;if(o.length>0){this.isInvTracking&&(o=[o[0]]);for(var a=[],s=0;s<o.length;s++)try{var c=o[s];c.level=1,this.getValidViewableElement(c,a)}catch(l){}if(0==a.length){var l=o[0];ntv.query(l).is(":hidden")&&(l=ntv.query(l).next()[0]||ntv.query(l).parent()[0]),a.push(l)}for(s=0;s<a.length;s++){var u=Qo(a[s],e);t+=u.totalArea,n+=u.ratioInView,r&=u.visible}var d=n/a.length,f=d>=this.minimumAreaViewable||!this.checkMinimumAreaViewable&&0==t&&r;return new Io({visible:f,totalArea:t,ratioInView:d})}return new Io}},{key:"getValidViewableElement",value:function(e,t){if(q.isInIframe(e)){var n=q.breakOutIframe();if(n)return void t.push(n)}if(e.offsetWidth>0&&e.offsetHeight>0)t.push(e);else{var r=this;ntv.query(e).children().each((function(){this.level=e.level+1,this.level<=5&&r.getValidViewableElement(this,t)}))}}}])&&Do(t.prototype,n),r&&Do(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ro),qo=function(){if(null==fv||!fv.viwabilityEventsCreated){var e=fv.internalPubSub;e.subscribe(u,zo),e.subscribe(l,zo),fv.viwabilityEventsCreated=!0}},Go=function(){var e=fv.internalPubSub;e.unsubscribe(u,zo),e.unsubscribe(l,zo),fv.viwabilityEventsCreated=!1},zo=function(e){var t=fv.viewableImpressionTrackers,n=t.length;if(0!==n)for(var r,i=0;i<n;i++){var o;null!==(o=r=t[i])&&void 0!==o&&o.viewabilityMethod&&r.viewabilityMethod.checkViewability(e)}},Yo=ntv.query;function Qo(e,t,n){try{if(fv.safeFrame&&fv.safeFrame.api)return fv.safeFrame.api.getViewability()}catch(e){}if(!e)return new Io;var r,i,o,a,s,c,l,u;Object.getPrototypeOf(e).nquery&&(e=e[0]);try{var d=function(e){if(!e||!e.getBoundingClientRect)return{};if(!fv.setting.sdk)return e.getBoundingClientRect();if(!fv.sdkAPI.scrollRect)return;var t=e.getBoundingClientRect();return{y:t.y-fv.sdkAPI.scrollRect.y,y:t.x,top:t.top-fv.sdkAPI.scrollRect.y,right:t.right,bottom:t.bottom-fv.sdkAPI.scrollRect.y,left:t.left,width:t.width,height:t.height}}(e);r={top:d.top,right:d.right,bottom:d.bottom,left:d.left,width:d.width,height:d.height,x:d.x,y:d.y}}catch(e){return new Io}if(r.width||(r.width=e.offsetWidth),r.height||(r.height=e.offsetHeight),0==r.top&&0==r.right&&0==r.bottom&&0==r.left&&0==r.width&&0==r.height&&0==r.x&&0==r.y)return new Io;o=(i=Ko(e)).width,a=i.height+(n||0),s=0,c=0,s=r.top>=0?r.bottom>a?r.height-(r.bottom-a):r.height:r.height+r.top,r.left>=0?c=r.right>o?r.width-(r.right-o):r.width:(r.right>o&&(c=r.width-(r.right-o)),c+=r.width+r.left),l=0,c>0&&s>0&&(l=c*s),u=l>0||(r.top>=0&&r.top<=a||r.bottom>=0&&r.bottom<=a)&&(r.left>=0&&r.left<=o||r.right>=0&&r.right<=o)||void 0!==t&&void 0!==t.target&&void 0!==t.target.scrollingElement&&t.target.scrollingElement.scrollTop+i.height>=r.top&&t.target.scrollingElement.scrollTop+i.height<=r.top+i.height&&t.target.scrollingElement.scrollTop-i.height<r.top&&t.target.scrollingElement.scrollLeft+i.width>=r.left&&t.target.scrollingElement.scrollLeft+i.width<=r.left+i.width&&t.target.scrollingElement.scrollLeft-i.width<r.left&&0==e.offsetHeight;var f=r.width*r.height;return new Io({visible:u,totalArea:f,ratioInView:l/f,xInView:c>0?c/r.width:0,yInView:s>0?s/r.height:0})}function Ko(e){var t=screen&&screen.availWidth,n=screen&&screen.availHeight,r=e&&e.ownerDocument?e.ownerDocument.defaultView:window,i=r.innerWidth?r.innerWidth:Yo(r).width(),o=r.innerHeight?r.innerHeight:Yo(r).height();return{width:t?Math.min(t,i):i,height:n?Math.min(n,o):o}}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jo(r.key),r)}}function Jo(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Zo(){return(Zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=$o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function $o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ra(e)););return e}function ea(e,t){return(ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ra(e);if(t){var i=ra(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return na(this,n)}}function na(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.ntvGetElementViewability=Qo,q.getElementViewability=Qo;var ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}(o,e);var t,n,r,i=ta(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="SafeFrameViewability",fv.viewableImpressionTrackers.push(t.tracker),t}return t=o,(n=[{key:"checkViewability",value:function(){var e=fv.safeFrame.api.getViewability();this.viewabilityData=new Io({ratioInView:e.ratioInView,totalArea:e.totalArea,visible:e.ratioInView>=this.minimumAreaViewable||!this.checkMinimumAreaViewable&&0==e.totalArea&&e.viewable}),this.publishViewabilityChange()}},{key:"dispose",value:function(){Zo(ra(o.prototype),"dispose",this).call(this),q.removeElementFromArray(fv.viewableImpressionTrackers,this.tracker),fv.safeFrame&&fv.safeFrame.api&&fv.safeFrame.api.removeHandlers(this.id)}}])&&Xo(t.prototype,n),r&&Xo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ro);function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aa(r.key),r)}}function aa(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function sa(){return(sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ca(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function ca(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fa(e)););return e}function la(e,t){return(la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fa(e);if(t){var i=fa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return da(this,n)}}function da(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&la(e,t)}(o,e);var t,n,r,i=ua(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="AmpViewability",t}return t=o,(n=[{key:"checkViewability",value:function(){var e=fv.checkAmpViewability?fv.checkAmpViewability():0;this.viewabilityData.visible=e>this.minimumAreaViewable,this.viewabilityData.ratioInView=e,this.publishViewabilityChange()}},{key:"dispose",value:function(){sa(fa(o.prototype),"dispose",this).call(this)}}])&&oa(t.prototype,n),r&&oa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ro);function ha(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&va(e,t)}function va(e,t){return(va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ga(e);if(t){var i=ga(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ya(this,n)}}function ya(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ea(r.key),r)}}function wa(e,t,n){return t&&ba(e.prototype,t),n&&ba(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ta=function(){},ka=wa((function e(t){var n=t.onThreshold,r=t.onAnyThreshold;Sa(this,e),this.onThreshold="function"==typeof n?n:Ta,this.onAnyThreshold="function"==typeof r?r:Ta})),Pa=function(){function e(t){Sa(this,e),this.targetOptions=new Map,this.observer=new IntersectionObserver(this.handleElementIntersection.bind(this),t)}return wa(e,[{key:"handleElementIntersection",value:function(e,t){var n=this;e.forEach((function(e){var t=n.targetOptions.get(e.target);t.onAnyThreshold(e,n),e.isIntersecting&&t.onThreshold(e,n)}))}},{key:"addTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q.isElement(e)&&(this.targetOptions.set(e,t),this.observer.observe(e))}},{key:"removeTarget",value:function(e){q.isElement(e)&&(this.targetOptions.delete(e),this.observer.unobserve(e))}}]),e}(),Aa=function(e){ha(n,e);var t=ma(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[.5]};return Sa(this,n),t.call(this,e)}return wa(n)}(Pa),Ia=function(e){ha(n,e);var t=ma(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[.01],rootMargin:"200% 0% 200% 0%"},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"50% 0% 50% 0%";return Sa(this,n),(e=t.call(this,r)).groupingRange=i,e}return wa(n)}(Pa),Ca="autoPlay",Oa="iab viewability",_a="pixel in view",Ra={["smartLoad"]:Ia,[Ca]:Aa,[Oa]:function(e){ha(n,e);var t=ma(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[.5]};return Sa(this,n),t.call(this,e)}return wa(n)}(Pa),[_a]:function(e){ha(n,e);var t=ma(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[.01]};return Sa(this,n),t.call(this,e)}return wa(n)}(Pa)};function xa(e,t){return La(e,Ra[e],t)}function La(e,t,n){var r=N("intersectionObservers");return r.has(e)||r.set(e,new t(n)),r.get(e)}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Na(r.key),r)}}function Na(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function ja(){return(ja="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Va(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Va(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ba(e)););return e}function Ma(e,t){return(Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ba(e);if(t){var i=Ba(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fa(this,n)}}function Fa(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ma(e,t)}(o,e);var t,n,r,i=Ua(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="ObserverViewability",t.observerOptions=new ka({onAnyThreshold:function(e){var n,r,i,o,a;t.viewabilityData=(o=(n=e).boundingClientRect,a=n.intersectionRect,new Io({visible:n.isIntersecting,totalArea:(r=o.width,i=o.height,r*i),ratioInView:n.intersectionRatio,xInView:a.width,yInView:a.height})),t.publishViewabilityChange()}}),t.observer=function(e){if(.01===e)return xa(_a);if(.5===e)return new xa(Oa);return GetTopLevelIntersectionObserverByThreshold(e,{threshold:[e]})}(t.minimumAreaViewable),t.tracker.enabled&&t.enable(),t}return t=o,(n=[{key:"checkViewability",value:function(){return this.viewabilityData}},{key:"dispose",value:function(){this.disable(),ja(Ba(o.prototype),"dispose",this).call(this)}},{key:"enable",value:function(){ja(Ba(o.prototype),"enable",this).call(this),this.observer.addTarget(this.element,this.observerOptions)}},{key:"disable",value:function(){ja(Ba(o.prototype),"disable",this).call(this),this.observer.removeTarget(this.element)}}])&&Da(t.prototype,n),r&&Da(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ro);var Wa=function(e){return e.Error="error",e.Ready="ready",e.StateChange="stateChange",e.SizeChange="sizeChange",e.ViewableChange="viewableChange",e.ExposureChange="exposureChange",e.AudioVolumeChange="audioVolumeChange",e.AdAction="adAction",e}({});function qa(){return(qa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ga(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Ga(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ja(e)););return e}function za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ya(e,t)}function Ya(e,t){return(Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ja(e);if(t){var i=Ja(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ka(this,n)}}function Ka(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xa(e)}function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ns(r.key),r)}}function es(e,t,n){return t&&$a(e.prototype,t),n&&$a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ts(e,t,n){return(t=ns(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var rs,is,os=g(),as=function(e,t){q.firePubSubEvent(Wa.Error,{message:e,action:t})},ss=function(e){q.firePubSubEvent(Wa.StateChange,{state:e})},cs=function(e,t){q.firePubSubEvent(Wa.SizeChange,{width:e,height:t})},ls=function(e){q.firePubSubEvent(Wa.ViewableChange,{isViewable:e})},us=function(e,t,n){q.firePubSubEvent(Wa.ExposureChange,{exposedPercentage:e,visibleRectangle:t,occlusionRectangles:n})},ds=function(){function e(){Za(this,e),ts(this,"mraid",void 0),ts(this,"version",void 0),this.mraid=os.mraid,this.version=this.mraid.getVersion()}return es(e,[{key:"readyPromise",value:function(){var e=this;return new Promise((function(t){"loading"==e.mraid.getState()?e.mraid.addEventListener(Wa.Ready,(function(){t()})):t()}))}},{key:"unload",value:function(){this.mraid.close()}},{key:"open",value:function(e){this.mraid.open(e)}},{key:"expand",value:function(e){null!=e&&this.mraid.expand(e)}},{key:"isViewable",value:function(){return this.mraid.isViewable()}}]),e}(),fs=function(e){za(n,e);var t=Qa(n);function n(){var e;return Za(this,n),ts(Xa(e=t.call(this)),"mraid",os.mraid),e}return es(n,[{key:"registerEventListeners",value:function(){var e=this;this.mraid.addEventListener(Wa.Error,as),this.mraid.addEventListener(Wa.StateChange,ss),this.mraid.addEventListener(Wa.ViewableChange,ls),fv.internalPubSub.subscribe("tracking-fired-viewableImpression",(function(){e.mraid.removeEventListener(Wa.ViewableChange)}))}}]),n}(ds),ps=function(e){za(n,e);var t=Qa(n);function n(){var e;return Za(this,n),ts(Xa(e=t.call(this)),"mraid",os.mraid),e}return es(n,[{key:"registerEventListeners",value:function(){var e=this;this.mraid.addEventListener(Wa.Error,as),this.mraid.addEventListener(Wa.StateChange,ss),this.mraid.addEventListener(Wa.ViewableChange,ls),this.mraid.addEventListener(Wa.SizeChange,cs),fv.internalPubSub.subscribe("tracking-fired-viewableImpression",(function(){e.mraid.removeEventListener(Wa.ViewableChange)}))}}]),n}(ds),hs=function(e){za(n,e);var t=Qa(n);function n(){var e;return Za(this,n),ts(Xa(e=t.call(this)),"mraid",os.mraid),e}return es(n,[{key:"registerEventListeners",value:function(){var e=this;this.mraid.addEventListener(Wa.Error,as),this.mraid.addEventListener(Wa.StateChange,ss),this.mraid.addEventListener(Wa.SizeChange,cs),this.mraid.addEventListener(Wa.ExposureChange,us),fv.internalPubSub.subscribe("tracking-fired-viewableImpression",(function(){e.mraid.removeEventListener(Wa.ExposureChange)}))}},{key:"unload",value:function(){qa(Ja(n.prototype),"unload",this).call(this),this.mraid.unload()}}]),n}(ds),vs=function(){function e(){Za(this,e)}return es(e,[{key:"getMraid",value:function(){var e,t;switch(null===(e=rs)||void 0===e?void 0:e.version){case"1.0":t=new fs;break;case"2.0":t=new ps;break;case"3.0":t=new hs;break;default:t=new fs}return t}}]),e}();function ms(){return(null!=os.MRAID_ENV||null!=os.mraid)&&os.ntv.PostRelease.useMraidFlag}function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,As(r.key),r)}}function gs(){return(gs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bs(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function bs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ks(e)););return e}function ws(e,t){return(ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ks(e);if(t){var i=ks(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ss(this,n)}}function Ss(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ts(e)}function Ts(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ks(e){return(ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ps(e,t,n){return(t=As(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function As(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Is="AmpViewability",Cs="SafeFrameViewability",Os="ObserverViewability",_s="ElementViewability",Rs="MRAIDViewability",xs={[Is]:pa,[Cs]:ia,[Os]:Ha,[_s]:Wo,[Rs]:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ws(e,t)}(o,e);var t,n,r,i=Es(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ps(Ts(t=i.call(this,e)),"type",void 0),Ps(Ts(t),"viewabilityData",void 0),t.type="MRAIDViewability",t.viewabilityData=new Io,t.subscribeToMraidEvents(),t}return t=o,(n=[{key:"checkViewability",value:function(){is&&this.viewabilityCheck(is.isViewable())}},{key:"viewabilityCheck",value:function(e){this.viewabilityData=new Io({visible:e,ratioInView:e?1:0}),this.publishViewabilityData()}},{key:"subscribeToMraidEvents",value:function(){var e=this;window.ntv.Events.PubSub.subscribe(Wa.ViewableChange,(function(t){var n=t.data.isViewable;e.viewabilityCheck(n)})),window.ntv.Events.PubSub.subscribe(Wa.ExposureChange,(function(t){var n=t.data,r=n.exposedPercentage,i=n.visibleRectangle,o=(n.occlusionRectangles,i.x),a=i.y,s=i.width,c=i.height,l=r>0;e.viewabilityData=new Io({visible:l,ratioInView:r/100,totalArea:s*c,xInView:o,yInView:a}),e.publishViewabilityData()}))}},{key:"unsubscribeToMraidEvents",value:function(){window.ntv.Events.PubSub.unsubscribe(Wa.ViewableChange),window.ntv.Events.PubSub.unsubscribe(Wa.ExposureChange)}},{key:"publishViewabilityData",value:function(){gs(ks(o.prototype),"publishViewabilityChange",this).call(this)}},{key:"dispose",value:function(){gs(ks(o.prototype),"dispose",this).call(this),this.unsubscribeToMraidEvents(),this.viewabilityData=new Io}},{key:"isInView",value:function(){return this.viewabilityData.visible}}])&&ys(t.prototype,n),r&&ys(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ro)};function Ls(e){if(!e.elementSpecific){if(ms())return Rs;if(fv.ampMode)return Is;if(fv.safeFrame&&fv.safeFrame.api)return Cs}return null!=window.IntersectionObserver&&"function"==typeof window.IntersectionObserver&&e.useObserverViewability?Os:_s}function Ds(e){var t=Ls(e),n=xs[t];if(null!=n)return n}function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,js(r.key),r)}}function js(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Vs={minimumAreaViewable:.5,enabled:!1},Ms={useObserverViewability:!0},Us=function(){function e(t){var n=this,r=t.element,i=t.options,o=void 0===i?Ms:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={visible:!1},this.pubSub=new ho,this.element=r;var a=Object.assign(Vs,{element:this.element}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{elementSpecific:!0}),Ds(e)}(o);this.viewabilityMethod=new s(a),this.viewabilityMethod.addViewableEventListener(Ao.VIEWABLE_CHANGE,(function(e){n.pubSub.publish(Ao.VIEWABLE_CHANGE,e),e.visible!==n.state.visible&&(n.state.visible=e.visible,e.visible?n.pubSub.publish(Ao.IN_VIEW):n.pubSub.publish(Ao.OUT_OF_VIEW))})),Object.defineProperty(this,"inView",{get(){var e=this.viewabilityMethod.checkViewability();return this.state.visible||e.visible}})}var t,n,r;return t=e,(n=[{key:"enable",value:function(){this.viewabilityMethod.enable()}},{key:"disable",value:function(){this.viewabilityMethod.disable()}}])&&Ns(t.prototype,n),r&&Ns(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Fs={firstViewTracked:!1},Bs={},Hs=!1;function Ws(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qs(),this.modalComponent=e,this.viewableComponent=new Us({element:e.modalContent,isInView:function(){return e.isOpen}}),this.config={},Object.assign(this.config,Fs,r),this.tracker=new Po(t),e.on("open",(function(){n.config.firstViewTracked||(n.tracker.fireTracking(Bs.FIRST_VIEW),n.config.firstViewTracked=!0)}))}function qs(){Hs||(Bs.FIRST_VIEW=[Bv.clickActionType],Hs=!0)}function Gs(e,t){if(t){var n=!1,r=function(e,t){var n=e;q.adBlocker&&(n=n.replace(f.ASSETS_PREFIX+q.getServerDomain(),q.getServerDomain())),-1==e.indexOf("fetch")&&(e.indexOf(f.ASSETS_DOMAIN)>=0&&(n=e.replace("//".concat(f.ASSETS_DOMAIN,"/"),"")),e.indexOf(f.ASSETS_DOMAIN_DEV)>=0&&(n=e.replace("//".concat(f.ASSETS_DOMAIN_DEV,"/"),"")),n=n.replace(/(^\w+:|^)/,""));var r=t.querySelector('img[src*="'.concat(n,'"]'));return r||(r=t.querySelector('img[src*="'.concat(encodeURIComponent(n),'"]'))),r?{element:r,attribute:"src"}:{element:r=t.querySelector('[data-img-src*="'.concat(n,'"]')),attribute:"data-img-src"}}(e,t),i=r.element,o=r.attribute;if(i&&o)return i.onload=function(){if(!n){var e=i.attributes[o].value.split("assets"),t="".concat(e[0]).concat("l_story_icon/assets").concat(e[1]);i.attributes[o].value=t,n=!0}},i}}function zs(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.children[0]}function Ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ks(r.key),r)}}function Ks(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Xs={READY:"ready",INITITALIZED:"initialized",SLIDE_VIEW:"slideView",SLIDE_CHANGE:"slideChange"},Js="ready",Zs="initialized",$s="slideIndex",ec="next",tc="prev",nc=["uid","selectorPrefix","slideshowConfig","thumbnailConfig","slideshowTemplate"];function rc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oc(r.key),r)}}function oc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function ac(){return(ac="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=sc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function sc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fc(e)););return e}function cc(e,t){return(cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fc(e);if(t){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uc(this,n)}}function uc(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dc(e)}function dc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pc={[Xs.SLIDE_VIEW]:"moved",[Xs.SLIDE_CHANGE]:"move"},hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cc(e,t)}(o,e);var t,n,r,i=lc(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e);var r,a,s=t.uid,c=t.selectorPrefix,l=void 0===c?"":c,u=t.slideshowConfig,d=void 0===u?{}:u,p=t.thumbnailConfig,h=void 0===p?{}:p,v=(t.slideshowTemplate,rc(t,nc)),m="".concat(l,"-").concat("splide"),y=e.map((function(e){return e.element}));return n.slideshowConfig=d,n.thumbnailConfig=h,n.eventHandlers=[],n.options=v||{},n.id=s||q.getRandomInt(),n.domId=(r=n.id,"splide-".concat(r)),n.selector="#"===(a=n.domId)[0]?a:"#".concat(a),n.element=function(e){var t,n=zs('<div class="splide">\n    <div class="splide__track ntv-splide-track">\n      <ul class="splide__list ntv-splide-list">\n      </ul>\n    </div>\n  </div>'),r=n.querySelector(".splide__list"),i=zs('<li class="splide__slide ntv-splide-slide"></li>');return e.forEach((function(e){(t=i.cloneNode()).append(e),r.append(t)})),n}(y),n.element.id=n.domId,n.element.classList.add(m),n.slideshowConfig.hasMultipleSlidesPerPage&&n.element.classList.add("multi-slide-per-page"),Object.defineProperty(dc(n),"activeSlideComponent",{get(){return this.splide.Components.Slides.getAt(this.splide.index)}}),n.dependencies=[{id:"ntvGalleryJS",type:"js",url:f.DEPENDENCIES.GALLERY_JS}],n.ready=Eo(n.dependencies).then((function(){return n.init()})),n}return t=o,(n=[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e.updateSlideIndex=function(){e.setState($s,e.splide.index)};try{e.splide=new Splide(e.element,e.slideshowConfig),e.splide.on("mounted",(function(){e.updateSlideIndex(),e.slideListElement=e.splide.Components.Elements.list,e.preventArrowClickPropagation(),e.setState(Js,!0),e.splide.emit(Xs.READY),t()})),e.setState(Zs,!0),e.eventHandlers.forEach((function(t){e.splide.on(t.eventName,t.eventHandler)})),e.splide.mount()}catch(e){q.postError(e),n(e)}}))}},{key:"goToNext",value:function(){this.splide&&(ac(fc(o.prototype),"goToNext",this).call(this),this.splide.go(">"),this.updateSlideIndex())}},{key:"goToPrev",value:function(){this.splide&&(ac(fc(o.prototype),"goToPrev",this).call(this),this.splide.go("<"),this.updateSlideIndex())}},{key:"onView",value:function(){this.splide&&(ac(fc(o.prototype),"onView",this).call(this),this.splide.Components.Move.reposition(),this.splide.emit(pc[Xs.SLIDE_VIEW],this.splide.index))}},{key:"onHide",value:function(){this.splide&&(ac(fc(o.prototype),"onHide",this).call(this),this.splide.go(0),this.updateSlideIndex())}},{key:"on",value:function(e,t){var n=pc[e]||e;this.getState(Zs)?this.splide.on(n,t):this.eventHandlers.push({eventName:n,eventHandler:t})}},{key:"preventArrowClickPropagation",value:function(){this.element.querySelectorAll(".splide__arrow").forEach((function(e){return e.addEventListener("click",(function(e){e.stopPropagation()}))}))}}])&&ic(t.prototype,n),r&&ic(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ys(this,e),this.components=t,this.state={[Js]:!1,[Zs]:!1,[$s]:void 0},this.direction=ec}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.setState(Zs,!0)}},{key:"goToNext",value:function(){this.direction=ec}},{key:"goToPrev",value:function(){this.direction=tc}},{key:"onView",value:function(){0!==this.components.length&&this.components[this.index].onView()}},{key:"onHide",value:function(){0!==this.components.length&&this.components[this.index].onHide()}},{key:"index",get:function(){return this.getState($s)}},{key:"setState",value:function(e,t){this.state.hasOwnProperty(e)&&(this.state[e]=t)}},{key:"getState",value:function(e){if(this.state.hasOwnProperty(e))return this.state[e]}}])&&Qs(t.prototype,n),r&&Qs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mc(r.key),r)}}function mc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var yc="view",gc="hide",bc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.element,r=t.index,i=t.params,o=t.data;if(this.id="slide-".concat(i.slideID),this.index=r,this.element=n,this.data=o,this.params=i,this.contentElement=q.domQuery(".ntv-stories__item-content",this.element),null==this.data.text||""===this.data.text.trim()){var a=q.domQuery(".ntv-stories__item--text-block",this.element);a&&(a.style.display="none")}this.state={inView:!1},Object.defineProperty(this,"inView",{get(){return this.state.inView}}),this.pubSub=new ho,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"a",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"href";e&&t&&q.domQueryAll(n,t).forEach((function(t){var n=t.getAttribute(r),i=so(e,n);t.setAttribute(r,i)}))}(i.slideID,this.element)}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t){this.pubSub.subscribe(e,t)}},{key:"off",value:function(e,t){this.pubSub.unsubscribe(e,t)}},{key:"once",value:function(e,t){var n=this;this.on(e,(function(){t(),n.off(e,t)}))}},{key:"onView",value:function(){this.element.classList.add("to_highlight"),this.pubSub.publish(yc,this),this.state.inView=!0}},{key:"onBeforeView",value:function(){this.element.classList.add("to_highlight")}},{key:"onHideStart",value:function(){}},{key:"onHide",value:function(){this.element.classList.remove("to_highlight"),this.pubSub.publish(gc,this),this.state.inView=!1}},{key:"clearStyles",value:function(){this.element.classList.remove("to_highlight")}}])&&vc(t.prototype,n),r&&vc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ec(r.key),r)}}function Ec(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Sc(e,t){return(Sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Tc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pc(e);if(t){var i=Pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kc(this,n)}}function kc(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sc(e,t)}(o,e);var t,n,r,i=Tc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="html",t}return t=o,n&&wc(t.prototype,n),r&&wc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(bc);function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oc(r.key),r)}}function Cc(e,t,n){return t&&Ic(e.prototype,t),n&&Ic(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var _c=Cc((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n,this.aspectRatio=this.width/this.height,Object.freeze(this)}));function Rc(e){return function(e){if(Array.isArray(e))return xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dc(r.key),r)}}function Dc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Nc=new Map;Nc.set("IMG",(function(e){return new _c(e.naturalWidth,e.naturalHeight)})),Nc.set("VIDEO",(function(e){return new _c(e.videoWidth,e.videoHeight)}));var jc=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!=t&&(this.element=t,this.type=this.element.nodeName,Nc.has(this.type)&&(this.getDimensions=Nc.get(this.type).bind(this,this.element),this.element.addEventListener("load",(function(e){n.updateDimensions()}))))}var t,n,r;return t=e,(n=[{key:"updateDimensions",value:function(){var e,t,n,r;this.dimensions=this.getDimensions(),e=this.element,t=this.dimensions,r=t.aspectRatio>=1?Vc.HORIZONTAL:Vc.VERTICAL,(n=e.classList).remove.apply(n,Rc(Object.keys(Vc))),e.classList.add(r)}}])&&Lc(t.prototype,n),r&&Lc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Vc={HORIZONTAL:"horizontal",VERTICAL:"vertical"};function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uc(r.key),r)}}function Uc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Fc(){return(Fc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Bc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Bc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gc(e)););return e}function Hc(e,t){return(Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gc(e);if(t){var i=Gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qc(this,n)}}function qc(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zc="metadata",Yc="unmute",Qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hc(e,t)}(o,e);var t,n,r,i=Wc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="video",t.videoElement=t.element.querySelector("video"),t.aspectHandler=new jc(t.videoElement),t.videoElement.addEventListener("loadedmetadata",(function(){t.params.duration=t.videoElement.duration,t.pubSub.publish(zc,{index:t.index,duration:t.params.duration}),t.aspectHandler.updateDimensions()})),t.unmuteButton=t.element.querySelector(".ntv-stories__unmute-icon"),t.unmuteButton&&t.unmuteButton.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.unmuteVideo(),t.videoElement.play(),t.pubSub.publish(Yc,{index:t.index})})),t}return t=o,(n=[{key:"pause",value:function(){this.videoElement.pause()}},{key:"resume",value:function(){this.videoElement.play()}},{key:"reset",value:function(){this.videoElement.pause(),this.videoElement.currentTime=0}},{key:"onView",value:function(){Fc(Gc(o.prototype),"onView",this).call(this),this.videoElement.play()}},{key:"onHideStart",value:function(){Fc(Gc(o.prototype),"onHideStart",this).call(this),this.reset()}},{key:"onHide",value:function(){Fc(Gc(o.prototype),"onHide",this).call(this),this.reset()}},{key:"unmuteVideo",value:function(){this.videoElement.muted=!1,this.videoElement.volume=1,this.videoElement.removeAttribute("muted"),this.videoElement.classList.remove("muted"),this.unmuteButton.style.visibility="hidden"}}])&&Mc(t.prototype,n),r&&Mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(bc);function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xc(r.key),r)}}function Xc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Jc(e,t){return(Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=el(e);if(t){var i=el(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $c(this,n)}}function $c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jc(e,t)}(o,e);var t,n,r,i=Zc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).type="image",t.imageElement=t.element.querySelector("img"),t.aspectHandler=new jc(t.imageElement),t}return t=o,n&&Kc(t.prototype,n),r&&Kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(bc);function nl(e,t){var n=this,r={fireEngagements:!0,autoStart:!1,trackTimeCap:15e4,baseTrackingUrl:void 0,actionType:void 0,adID:void 0,adVersionPlacement:void 0},i={extraQS:"",actionType:Bv.timeOnContent};this.config=Object.assign(r,e),this.params=Object.assign(i,t),this.shouldResume=function(){return!0},this.tracker=ee(!0).ntvStopWatch().ntvTimeOnContentStopWatch(this,this.params.actionType).addStopWatchEventHandlers({node:q.getTopWindow(),type:"visibilitychange",handler:function(){q.getTopWindow().document.hidden?n.tracker.stop():n.tracker.totalTime<n.config.trackTimeCap&&n.shouldResume()&&n.tracker.resume()}}),this.config.fireEngagements||(this.tracker.engagements={}),this.tracker.getUrl=function(e){var t=n.config,r=t.baseTrackingUrl,i=t.adID,o=t.adVersionPlacement,a=n.params.extraQS;if(!(e&&r&&i&&o))return"";var s=Hv(r,e,i,o);return s+=a||""},this.resume=function(){n.tracker.resume()},this.stop=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?n.tracker.stopAndTrack():n.tracker.stop()},this.autoStart&&this.resume()}function rl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nl(t,n);return r.shouldResume=function(){return e.inView},r}var il={FIRST_VIEW:"FIRST_VIEW"},ol=["54"];function al(e,t,n){var r=this;this.slideComponent=e,this.params={actionType:Bv.slideTimeOnContent},Object.assign(this.params,n),this.tracker=new Po(t),this.hasBeenTracked=!1,this.tracked={},this.tocTracker=rl(this.slideComponent,t,this.params),Object.keys(il).forEach((function(e){return r.tracked[il[e]]=!1})),e.on(yc,(function(){r.onView()})),e.on(gc,(function(){r.onHide()}))}al.prototype.onView=function(){var e;if(this.tocTracker.resume(),!this.hasBeenTracked){var t=ol,n=(null===(e=this.params.extraActions)||void 0===e?void 0:e[il.FIRST_VIEW])||[];this.tracker.fireTracking(t.concat(n),this.params.extraQS),this.hasBeenTracked=!0,this.tracked[ol]=!0}},al.prototype.onHide=function(){this.tocTracker.stop()},al.prototype.setHasBeenTracked=function(){var e=this;this.hasBeenTracked=!0,Object.keys(il).forEach((function(t){return e.tracked[il[t]]=!0}))};var sl={},cl=!1,ll={videoViewTracked:!1};function ul(e,t,n){var r=this;"video"===e.type&&(!function(){if(cl)return;sl.VIDEO_END=[Bv.videoEndActionType],cl=!0}(),this.slideComponentTracker=new al(e,t,n),this.slideVideo=e.videoElement,this.config={},Object.assign(this.config,ll,n),!this.slideVideo||this.config.videoViewTracked||this.slideComponentTracker.hasBeenTracked||this.slideVideo.addEventListener("ended",(function(){r.slideComponentTracker.tracker.fireTracking(sl.VIDEO_END,r.config.extraQS),r.tracked[il.FIRST_VIEW]=!0})),this.tracked={},Object.keys(sl).forEach((function(e){return r.tracked[sl[e]]=!1})))}function dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hl(r.key),r)}}function pl(e,t,n){return t&&fl(e.prototype,t),n&&fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hl(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}ul.prototype.onView=function(){this.slideComponentTracker.onView()},ul.prototype.onHide=function(){this.slideComponentTracker.onHide()},ul.prototype.hasBeenTracked=function(e){return this.tracked[e]};var vl="timerEnd",ml="timerStart",yl=function(){function e(t){var n=this;dl(this,e),t&&Array.isArray(t)&&(this.pubSub=new ho,this.currentIndex=0,this.timingIndicatorElements=[t.length],this.timingIndicators=t.map((function(e,t){var r=new Tl({index:t,duration:e.duration,id:e.id});return r.element.addEventListener("animationend",(function(){n.pubSub.publish(vl,r.index)}),!1),n.timingIndicatorElements[t]=r.element,r})),this.maxIndex=this.timingIndicators.length-1)}return pl(e,[{key:"setTimerDuration",value:function(e,t){this.inBounds(e)&&this.timingIndicators[e].setDuration(t)}},{key:"setTimerDurationSeconds",value:function(e,t){this.inBounds(e)&&this.timingIndicators[e].setDuration(t,!0)}},{key:"onHide",value:function(){this.reset()}},{key:"onView",value:function(){this.start()}},{key:"reset",value:function(){this.timingIndicators.forEach((function(e){return e.state=gl.IDLE}))}},{key:"start",value:function(){this.inBounds(this.currentIndex)&&this.startActiveTimer()}},{key:"pause",value:function(){if(this.inBounds(this.currentIndex)){var e=this.timingIndicators[this.currentIndex];e.state.pause&&(e.state.pause(),this.pubSub.publish(ml,e.index))}}},{key:"inBounds",value:function(e){return e>=0&&e<=this.maxIndex}},{key:"startActiveTimer",value:function(){if(this.inBounds(this.currentIndex)){var e=this.timingIndicators[this.currentIndex];e.state=gl.ACTIVE,this.pubSub.publish(ml,e.index)}}},{key:"setActiveTimer",value:function(e){if(null!=e){var t=e-this.currentIndex;Math.sign(t)>0?this.progressTimersForwards(t):this.progressTimersBackwards(t)}}},{key:"progressTimersForwards",value:function(e){if(e){var t=this.currentIndex+e;t=Math.min(t,this.maxIndex);for(var n=this.currentIndex;n<t;n++)this.timingIndicators[n].state=gl.SEEN;this.currentIndex=t}}},{key:"progressTimersBackwards",value:function(e){if(e){var t=this.currentIndex+e;t=Math.max(t,0);for(var n=this.currentIndex;n>=t;n--)this.timingIndicators[n].state=gl.IDLE;this.currentIndex=t}}},{key:"on",value:function(e,t){this.pubSub.subscribe(e,t)}},{key:"off",value:function(e,t){this.pubSub.unsubscribe(e,t)}}]),e}(),gl={IDLE:function(e){return e.reset(),{value:"idle",start:function(){return e.state=gl.ACTIVE},end:function(){return e.state=gl.SEEN}}},ACTIVE:function(e){return e.start(),{value:"active",pause:function(){return e.pause()},start:function(){return e.start()},end:function(){return e.state=gl.SEEN}}},SEEN:function(e){return e.end(),{value:"seen",start:function(){return e.state=gl.ACTIVE},reset:function(){return e.state=gl.IDLE}}}},bl="active",wl="seen",El="paused",Sl=function(e){return"animation-duration:".concat(e,"s;")},Tl=function(){function e(t){var n=t.index,r=t.id,i=t.duration,o=t.type,a=t.isActive,s=void 0!==a&&a,c=t.isSeen,l=void 0!==c&&c;dl(this,e),this.id=r,this.index=n,this.type=o,this.duration=i/1e3;var u='\n<span \n  class="'.concat(l?"seen":""," ").concat(s?"active":"",'" \n    data-index="').concat(this.index,'" \n    data-item-id="').concat(this.id,'"\n>\n  <b style="').concat(Sl(this.duration),'"></b>\n</span>');this.element=io(u),this.animatedElement=this.element.querySelector("b"),this.curState=gl.IDLE(this),Object.defineProperty(this,"state",{get(){return this.curState},set(e){e&&(this.curState=e(this))}})}return pl(e,[{key:"setDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.duration=t?e:e/1e3,this.animatedElement.setAttribute("style",Sl(this.duration))}},{key:"reset",value:function(){this.element.classList.remove(wl),this.element.classList.remove(El),this.element.classList.remove(bl)}},{key:"start",value:function(){this.element.classList.remove(wl),this.element.classList.remove(El),this.element.classList.add(bl)}},{key:"end",value:function(){this.element.classList.add(wl),this.element.classList.remove(El),this.element.classList.remove(bl)}},{key:"pause",value:function(){this.element.classList.add(El)}}]),e}();function kl(e){return function(e){if(Array.isArray(e))return Pl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Il(r.key),r)}}function Il(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Cl="closeClick",Ol=function(){function e(t){var n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.element,o=t.timers;this.element=i,this.pubSub=new ho;var a=this.element.querySelector(".".concat("ntv-stories__close"));a&&a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),r.pubSub.publish(Cl)})),this.hidden=!1,this.timingIndicators=this.element.querySelector(".".concat("ntv-stories__timers")),this.timingIndicatorWrapper=this.element.querySelector(".".concat("ntv-stories__timers__wrapper")),this.timers=new yl(o),this.timingIndicatorWrapper&&(n=this.timingIndicatorWrapper).append.apply(n,kl(this.timers.timingIndicatorElements))}var t,n,r;return t=e,(n=[{key:"setTimerDurationSeconds",value:function(e,t){this.timers.setTimerDurationSeconds(e,t)}},{key:"hide",value:function(){this.element.classList.add("hide"),this.hideTimingIndicators(),this.hidden=!0}},{key:"show",value:function(){this.element.classList.remove("hide"),this.showTimingIndicators(),this.hidden=!1}},{key:"hideTimingIndicators",value:function(){this.timingIndicators&&this.timingIndicators.classList.add("hide")}},{key:"showTimingIndicators",value:function(){this.timingIndicators&&this.timingIndicators.classList.remove("hide")}},{key:"onView",value:function(){this.timers.onView()}},{key:"onHide",value:function(){this.timers.onHide()}}])&&Al(t.prototype,n),r&&Al(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _l(e,t){Object.keys(t).forEach((function(n){e.on(n,(function(){var r=arguments,i=t[n];i.forEach((function(t){return t.apply(e,r)}))}))}))}var Rl=["scrollSpeed","id"];function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vl(r.key),r)}}function Vl(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Ml="expand",Ul="collapse",Fl="expanded",Bl="collapsed",Hl={[Fl]:"See Less",[Bl]:"See More"},Wl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Nl(this,e),null==t)throw new Error("ISI html is undefined");this.isiConfig=n,this.id=this.isiConfig.id,this.element=k("<div>".concat(t,"</div>")),this.element.classList.add("ntv-isi-component"),this.expandButton=this.element.querySelector(".ntv-isi-expand-button"),this.expandButtonLabel=this.expandButton.querySelector(".ntv-isi-expand-label"),this.expandButtonLabel.textContent=Hl[Bl],this.contentBox=this.element.querySelector(".ntv-story-isi-content"),this.contentBox.dataset.expanded=!1,this.collapsedStyle={height:this.contentBox.style.height,top:this.contentBox.style.top},this.pubSub=new ho,this.setupExpand(),this.containsInlineActivation=t.includes("PostRelease.activateISI("),this.activated=this.containsInlineActivation}var t,n,r;return t=e,(n=[{key:"activateISIContent",value:function(){if(!this.activated||this.matchesFailedISIRender(this.id)){var e=this.isiConfig,t=e.scrollSpeed,n=e.id,r=Dl(e,Rl);r.context=this.element;var i=function(e){return"div#isi-".concat(e,"-story-content-placeholder")}(this.id),o=this.element.querySelector(i);mi(o,n,t,r),this.activated=!0}}},{key:"matchesFailedISIRender",value:function(){var e=N("failedISIRenders");if(null==e)return!1;var t="isi-".concat(this.id,"-story"),n=e.has(t);return n&&(this.isiConfig=e.get(t),q.removeDelayedPostError(t),e.remove(t)),n}},{key:"setupExpand",value:function(){var e=this;!this.contentBox&&this.expandButton||(this.expandButton.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.handleExpandClick(e.isExpanded())})),window.addEventListener("resize",(function(){e.collapse()})))}},{key:"handleExpandClick",value:function(e){e?this.collapse():this.expand()}},{key:"isExpanded",value:function(){return"true"===this.expandButton.dataset.expanded}},{key:"expand",value:function(){if(!this.isExpanded()){var e=this.element.closest(".ntv-story-body").getBoundingClientRect(),t=this.contentBox.getBoundingClientRect(),n=t.top-e.top,r=Math.min(t.top,n)-80,i=r+t.height;this.contentBox.style.top="-".concat(r,"px"),this.contentBox.style.height="".concat(i,"px"),this.expandButton.classList.add(Fl),this.expandButton.dataset.expanded=!0,this.expandButtonLabel.textContent=Hl[Fl],this.pubSub.publish(Ml)}}},{key:"collapse",value:function(){if(this.isExpanded()){for(var e=0,t=Object.entries(this.collapsedStyle);e<t.length;e++){var n=xl(t[e],2),r=n[0],i=n[1];this.contentBox.style[r]=i}this.expandButton.classList.remove(Fl),this.expandButton.dataset.expanded=!1,this.expandButtonLabel.textContent=Hl[Bl],this.pubSub.publish(Ul)}}}])&&jl(t.prototype,n),r&&jl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ql(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ql(r.key),r)}}function Yl(e,t,n){return t&&zl(e.prototype,t),n&&zl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ql(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Kl=function(){function e(t){if(Gl(this,e),!t)throw new Error("No template passed to CTAComponent");if(this.element="string"==typeof t?zs(t):t,!q.isElement(this.element))throw new Error("CTA Component template doesn't resolve to an element");this.element.classList.add("ntv-cta-component"),this.ctaAnchor=this.element.querySelector('a[href="'.concat("@ctaLink",'"]'));var n=document.evaluate('//div[normalize-space(text()) = "'.concat("@ctaLabel",'"]'),this.element,null,XPathResult.ANY_TYPE,null);if(n)var r=n.iterateNext();null!==r&&(this.labelElement=r)}return Yl(e,[{key:"setUrl",value:function(e){this.ctaAnchor.href=e}},{key:"setLabel",value:function(e){this.labelElement&&(this.labelElement.textContent=e)}},{key:"setLabelAndUrl",value:function(e,t){this.setLabel(e),this.setUrl(t)}},{key:"setCTAData",value:function(e){this.setLabel(e.label),this.setUrl(e.url)}}]),e}(),Xl=Yl((function e(t,n){Gl(this,e),this.url=t,this.label=n})),Jl=new WeakSet,Zl=function(){function e(t,n){Gl(this,e),ql(this,Jl),this.ctaComponent=new Kl(t),this.element=this.ctaComponent.element,this.dataArray=n,this.showIndex(0)}return Yl(e,[{key:"showIndex",value:function(e){(function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n})(this,Jl,$l).call(this,e)||this.ctaComponent.setCTAData(this.dataArray[e])}}]),e}();function $l(e){return e<0||e>=this.dataArray.length}function eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nu(r.key),r)}}function nu(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var ru={firstViewTracked:!1},iu={},ou=!1,au=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eu(this,e),su(),this.storiesViewerComponent=t,this.config={},Object.assign(this.config,ru,i),this.tracker=new Po(n),this.viewableComponent=this.storiesViewerComponent.viewableComponent,this.tocTracker=rl(this.viewableComponent,n),this.firstViewFired=!1,this.track=function(){r.firstViewFired||(r.firstViewFired=!0,r.tracker.fireTracking(iu.FIRST_VIEW))}}var t,n,r;return t=e,(n=[{key:"onView",value:function(){this.tocTracker.resume()}},{key:"onHide",value:function(){this.tocTracker.stop()}}])&&tu(t.prototype,n),r&&tu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function su(){ou||(iu.FIRST_VIEW=[Bv.secondaryImpressionActionType,Bv.articlePageViewActionType,Bv.gallery],ou=!0)}function cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lu(r.key),r)}}function lu(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function uu(e,t,n){return(uu=du()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fu(i,n.prototype),i}).apply(null,arguments)}function du(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fu(e,t){return(fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var pu={duration:6e3},hu={READY:"ready",CLOSE_REQUEST:"closeRequest",TIMERS_COMPLETE:"timersComplete",SLIDE_CHANGE:"slideChange",SLIDE_VIEW:"slideView"},vu={video:Qc,image:tl,html:Ac},mu=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.slideAssets,i=t.trackingConfig,o=t.storyConfig,a=t.slideshowConfig,s=t.adParams,c=t.assetDefaults,l=o.templates;this.storyConfig=o,this.uid=s.adWrapperClass,this.element=document.createElement("ntv-stories-viewer"),this.element.id="".concat("ntv-stories-viewer","-").concat(this.uid),this.element.innerHTML='<div class="stories-viewer-content-wrapper"><div class="stories-viewer-content"></div></div>',this.contentElement=this.element.querySelector(".stories-viewer-content"),this.pubSub=new ho,this.EVENTS=hu,this.numSlides=r.length,this.maxSlideIndex=this.numSlides-1,this.closeTimeout=0;var u=window.frameElement?q.getTopWindow():window;if(this.data={slideNumberTracked:-1,window:u,document:u.document},this.createSlideComponents(r,l),a.hasMultipleSlidesPerPage=null!=a.perPage&&a.perPage>1||null!=a.fixedWidth&&"100%"!==a.fixedWidth&&"100vw"!==a.fixedWidth,this.slideComponentTrackers=function(e,t){if(!(e&&Array.isArray(e)&&e.length>0))return[];var n=[],r=e.length-1;return e.forEach((function(e,i){var o={extraActions:{}};i===r&&(o.extraActions[il.FIRST_VIEW]=[Bv.storiesCompletion]);var a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return uu("video"===e?ul:al,n)}(e.type,e,t,Object.assign(o,e.params));n.push(a)})),n}(this.slideComponents,i),this.slideComponentTrackers.forEach((function(e,t){n.data.slideNumberTracked>0&&t<=n.data.slideNumberTracked&&e.setHasBeenTracked()})),this.slideshowEventHandlers={},Object.keys(Xs).forEach((function(e){return n.slideshowEventHandlers[Xs[e]]=[]})),l.viewHeader){var d=Object.assign({},c,s,o);this.createStoriesHeader(d,l.viewHeader)}if(this.storyBody=document.createElement("div"),this.storyBody.classList.add("ntv-story-body"),this.contentElement.appendChild(this.storyBody),this.slideshowComponent=function(e,t){var n=new hc(e,{selectorPrefix:"ntv",slideshowConfig:t});return n.element.classList.add("ntv-slideshow-component"),n}(this.slideComponents,a),this.slideshowComponent.id=this.uid,this.storyBody.appendChild(this.slideshowComponent.element),this.storyConfig.isiHtml)try{this.isiComponent=new Wl(this.storyConfig.isiHtml,this.storyConfig.isiConfig||{id:this.uid}),this.storyBody.appendChild(this.isiComponent.element),this.isiComponent.pubSub.subscribe(Ml,(function(){n.pauseSlideshow()})),this.isiComponent.pubSub.subscribe(Ul,(function(){n.resumeSlideshow()}))}catch(e){q.postError(e)}if(l.cta){var f=this.slideComponents.map((function(e){return new Xl(e.data.ctaLink,e.data.ctaLabel)}));try{if(a.hasMultipleSlidesPerPage)for(var p=this.slideComponents.map((function(e){return e.contentElement})),h=0;h<p.length;h++){var v=p[h],m=new Kl(l.cta);m.setCTAData(f[h]),v.appendChild(m.element)}else this.ctaComponent=new Zl(l.cta,f),this.storyBody.appendChild(this.ctaComponent.element)}catch(e){q.postError(e)}}this.slideshowComponent&&(this.slideshowEventHandlers[Xs.SLIDE_VIEW].push((function(e,t,r){n.viewableComponent.inView&&(n.slideComponents[e].onView(),n.pubSub.publish(hu.SLIDE_VIEW,{storiesId:n.uid,slideIndex:e}))})),this.slideshowEventHandlers[Xs.SLIDE_CHANGE].push((function(e,t,r){n.slideComponents.forEach((function(e){return e.clearStyles()})),n.slideComponents[t].onHide(),n.slideComponents[e].onBeforeView(),n.ctaComponent&&n.ctaComponent.showIndex(e),n.isiComponent&&n.isiComponent.collapse(),n.pubSub.publish(hu.SLIDE_CHANGE,{id:n.uid,nextSlideIndex:e,currentSlideIndex:t})})),this.viewableComponent=new Us({element:this.element}),this.viewableComponent.pubSub.subscribe(Ao.IN_VIEW,this.onView.bind(this)),this.viewableComponent.pubSub.subscribe(Ao.OUT_OF_VIEW,this.onHide.bind(this)),this.storiesViewerComponentTracking=new au(this,i),_l(this.slideshowComponent,this.slideshowEventHandlers),this.dependencies=this.storyConfig.dependencies,this.setStyleDependencyTargetToElement(),Promise.all([this.slideshowComponent.ready,Eo(this.storyConfig.dependencies)]).then((function(){!function(e){t=e,t.viewableComponent.enable();var t}(n),n.isiComponent&&!n.isiComponent.cont&&n.isiComponent.activateISIContent(),n.pubSub.publish(hu.READY)})).catch((function(e){q.postError(e)})))}var t,n,r;return t=e,(n=[{key:"setStyleDependencyTargetToElement",value:function(){var e=this;this.dependencies=this.dependencies.map((function(t){return(t.type="style")&&(t.target=e.element),t}))}},{key:"onView",value:function(){this.slideshowComponent.onView(),this.headerViewComponent&&this.headerViewComponent.onView(),this.storiesViewerComponentTracking.track(),this.storiesViewerComponentTracking.onView()}},{key:"onHideStart",value:function(){this.slideComponents[this.slideshowComponent.index].onHideStart()}},{key:"onHide",value:function(){this.slideshowComponent.onHide(),this.headerViewComponent&&this.headerViewComponent.onHide(),this.isiComponent&&this.isiComponent.collapse(),this.storiesViewerComponentTracking.onHide()}},{key:"on",value:function(e,t){this.pubSub.subscribe(e,t)}},{key:"off",value:function(e,t){this.pubSub.unsubscribe(e,t)}},{key:"goToNext",value:function(){this.slideshowComponent.goToNext()}},{key:"goToPrev",value:function(){this.slideshowComponent.goToPrev()}},{key:"pauseSlideshow",value:function(){this.pauseTimers();var e=this.slideshowComponent.index,t=this.slideComponents[e];t.pause&&t.pause()}},{key:"resumeSlideshow",value:function(){this.resumeTimers();var e=this.slideshowComponent.index,t=this.slideComponents[e];t.resume&&t.resume()}},{key:"pauseTimers",value:function(){this.headerViewComponent&&this.headerViewComponent.timers.pause()}},{key:"resumeTimers",value:function(){this.headerViewComponent&&this.headerViewComponent.timers.start()}},{key:"hideHeader",value:function(){this.headerViewComponent&&this.headerViewComponent.hide()}},{key:"showHeader",value:function(){this.headerViewComponent&&this.headerViewComponent.show()}},{key:"createStoriesHeader",value:function(e,t){var n=this;this.headerViewComponent=new Ol({element:oo(t,e,{link:"ctaLink"}),timers:this.slideComponents.map((function(e){return{id:e.id,duration:e.params.duration}}))}),this.headerViewComponent.pubSub.subscribe(Cl,(function(){n.pubSub.publish(hu.CLOSE_REQUEST,{id:n.uid})})),this.contentElement.appendChild(this.headerViewComponent.element),this.videoSlideComponents=this.slideComponents.filter((function(e){return"video"===e.type})),this.videoSlideComponents.forEach((function(e){e.on(zc,(function(e){n.headerViewComponent.setTimerDurationSeconds(e.index,e.duration+.25)})),e.on(Yc,(function(e){n.videoSlideComponents.forEach((function(e){e.unmuteVideo()}))}))})),this.headerViewComponent.timers.on(vl,(function(e){e===n.maxSlideIndex&&n.pubSub.publish(hu.TIMERS_COMPLETE,{id:n.uid}),n.slideshowComponent.goToNext()})),this.pubSub.subscribe(hu.SLIDE_VIEW,(function(){n.headerViewComponent.timers.startActiveTimer()})),this.slideshowEventHandlers[Xs.SLIDE_CHANGE].push((function(e,t,r){n.headerViewComponent.timers.setActiveTimer(e)}))}},{key:"createSlideComponents",value:function(e,t){if(!(e&&Array.isArray(e)&&e.length>0))return[];var n,r,i,o,a=new Array(e.length);e.forEach((function(e,s){var c;(n=e.assets).index=s,n.id=e.params.slideID,r=n.type,n.ctaLink=so(n.id,n.ctaLink),i=Zi(n,t),(null!==(c=r)&&void 0!==c?c:vu.hasOwnProperty(r))&&(o=new vu[r]({index:s,params:Object.assign({},pu,e.params),element:zs(i),data:n}),a[s]=o)})),this.slideComponents=a}}])&&cu(t.prototype,n),r&&cu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.left,r=void 0===n?.5:n,i=e.right,o=void 0===i?.5:i;if(r+o>1){var a=r+o;r/=a,o/=a}var s,c=!1;function l(){s=Ko(),c=!1}function u(e){var n=t.getBoundingClientRect(),r=e.x-n.x,i=e.y-n.y;return{x:r/n.width,y:i/n.height}}function d(e){return{x:e.x/s.width,y:e.y/s.height}}return window.addEventListener("resize",(function(){c=!0})),l(),function(e){c&&l();var n=t?u(e):d(e),i=n.x;n.y;return i<=r?"left":i>=1-o?"right":"center"}}function gu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wu="swipe",Eu="swipeLeft",Su="swipeRight",Tu="swipeUp",ku="swipeDown",Pu="hold",Au="longHold",Iu="holdRelease",Cu="longHoldRelease",Ou="click",_u="clickLeft",Ru="clickRight";function xu(e){var t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.useGestures,c=void 0===s||s,l=a.longHoldDuration,u=void 0===l?6e3:l,d=a.holdDuration,f=void 0===d?200:d,p=a.leftClickWidth,h=void 0===p?.2:p,v=a.rightClickWidth,m=void 0===v?.2:v,y=yu({element:e,left:h,right:m}),g=new ho,b=!1,w={interactionStart:function(e){i=setTimeout(w.hold,f),o=setTimeout(w.longHold,u),n=Date.now(),t=e.position,g.publish(Pu)},interactionMove:function(e){var i=Date.now();if(r=Nu(t,e.position),n){var o=i-n;r.velocity={x:r.x/o,y:r.y/o}}n=i,t=e.position},interactionEnd:function(e){i&&clearTimeout(i),o&&clearTimeout(o),g.publish(Iu),b&&g.publish(Cu),r&&(S(Object.assign({},r)),b=!1,r=void 0)},hold:function(e){b=!0,g.publish(Pu)},longHold:function(e){b=!0,g.publish(Au)},click:function(e){var t=y(e.position);"left"!==t?"right"!==t?g.publish(Ou):g.publish(Ru):g.publish(_u)}};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w.hasOwnProperty(e)&&w[e](t)}var S=function(e){Math.abs(e.y)>Math.abs(e.x)?k(e.y,e.velocity.y):T(e.x,e.velocity.x)},T=function(e,t){if(!(t&&Math.abs(t)<.15||Math.abs(e)<5)){if(e>0)return g.publish(wu,{direction:"left"}),void g.publish(Eu);g.publish(wu,{direction:"right"}),g.publish(Su)}},k=function(e,t){if(!(t&&Math.abs(t)<.15||Math.abs(e)<2)){if(e>0)return g.publish(wu,{direction:"down"}),void g.publish(ku);g.publish(wu,{direction:"up"}),g.publish(Tu)}};function P(e){E("interactionMove",{position:Du(e)})}var A={default:{touchstart:function(e){E("interactionStart",{position:Du(e)})},touchend:function(e){E("interactionEnd",{position:Du(e)})},mousedown:function(t){e.addEventListener("mousemove",P),E("interactionStart",{position:Du(t)})},mouseup:function(t){e.removeEventListener("mousemove",P),E("interactionEnd",{position:Du(t)})},click:function(e){E("click",{position:Du(e)})}},gestures:{touchmove:function(e){E("interactionMove",{position:Du(e)})}}};function I(e){Object.entries(A.default).forEach((function(t){var n=gu(t,2),r=n[0],i=n[1];e.addEventListener(r,i)})),c&&Object.entries(A.gestures).forEach((function(t){var n=gu(t,2),r=n[0],i=n[1];e.addEventListener(r,i)}))}function C(e,t,n){g.subscribe(e,t,n)}function O(e,t,n){g.unsubscribe(e,t,n)}return I(e),{on:C,off:O}}var Lu=function(e,t){this.x=e,this.y=t};function Du(e){if(null!=e.touches){var t=e.touches[0];return"touchend"===e.type&&(t=e.changedTouches[0]),new Lu(t.clientX,t.clientY)}return new Lu(e.clientX,e.clientY)}function Nu(e,t){if(e&&t)return{x:t.x-e.x,y:t.y-e.y}}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mu(r.key),r)}}function Vu(e,t,n){return t&&ju(e.prototype,t),n&&ju(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mu(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Uu=Vu((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=window.frameElement?q.getTopWindow():window;this.data={slideNumberTracked:-1,window:r,document:r.document},t.autoStart=t.autoStart||!0,this.storiesViewer=new mu(t),this.on=this.storiesViewer.on.bind(this.storiesViewer),this.off=this.storiesViewer.off.bind(this.storiesViewer),this.EVENTS=this.storiesViewer.EVENTS,this.storiesViewer.slideComponentTrackers.forEach((function(e,t){n.data.slideNumberTracked>0&&t<=n.data.slideNumberTracked&&e.setHasBeenTracked()})),this.element=this.storiesViewer.element;var i={[_u]:function(){n.storiesViewer.goToPrev()},[Ru]:function(){n.storiesViewer.goToNext()},[Pu]:function(){n.storiesViewer.pauseTimers()},[Au]:function(){n.storiesViewer.hideHeader()},[Iu]:function(){n.storiesViewer.showHeader(),n.storiesViewer.resumeTimers()}};!function(e,t){var n,r=(i=e,new xu(i,{holdDuration:4e3}));var i;Object.keys(t).forEach((function(e){n=t[e],r.on(e,n)}))}(this.storiesViewer.element,i),this.state={visible:!1},ao((function(){window.onFocus?n.storiesViewer.resumeTimers():n.storiesViewer.pauseTimers()})),this.slideViewCallback=function(){},this.storiesViewer.on(hu.SLIDE_VIEW,(function(e){var t=e.slideIndex;n.slideViewCallback(t)}))}));var Fu=["slideConfig","slideshowConfig"];function Bu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wu(r.key),r)}}function Wu(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var qu={ctaLink:"",ctaLabel:"Learn More"},Gu={advertiser:"",sponsoredLabel:"Sponsored"},zu={autoCloseTimeout:15,elementId:"ntv-stories-modal",stylesId:"ntv-stories-styles",dependencies:[{id:"storiesCss",type:"style",url:f.DEPENDENCIES.STORIES_AD_CSS}],storiesIcon:"https://s.ntv.io/img/story-icon.svg",closeIcon:"https://s.ntv.io/img/close-icon.svg",useGestures:!0},Yu=function(){function e(t){var n=t.slideAssets,r=t.storyConfig,i=t.trackingConfig,o=t.slideshowConfig,a=t.adParams,s=t.assetDefaults;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.slideAssets=n||[],this.storyConfig=r||{},this.trackingConfig=i||{},this.slideshowConfig=o||{},this.adParams=a||{},this.assetDefaults=s||{}}var t,n,r;return t=e,(n=[{key:"slideAssetsFromParsedDynamicAssets",value:function(e){var t=this;this.slideAssets=e.map((function(e){var n,r,i,o,a=Qi(e.assets);return a.ctaLink&&(a.ctaLink=a.ctaLink&&(n=t.assetDefaults.redirectUrl,r=a.ctaLink,n+encodeURIComponent(r))),e.assets=(i=a,o=t.assetDefaults,q.mergeObjectsWithTypeComparisions({},{string:function(e,t){return t||e}},o,i)),e}))}}])&&Hu(t.prototype,n),r&&Hu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qu(e){var t=e.slideConfig,n=e.slideshowConfig,r=Bu(e,Fu),i=r.config,o=void 0===i?{}:i,a=r.adType,s=function(e){e.redirectUrl=q.generateClickRedirect(e.ctaLink);var t=q.pick.apply(q,[e].concat(["ctaLink","ctaLabel","redirectUrl"]));return q.mergeObjectsWithTypeComparisions({},{string:function(e,t){return t||e}},qu,t)}(o),c=Object.assign(Gu,function(e){return Object.assign({},q.pick.apply(q,[e].concat(["adWrapperClass","advertiser","advertiserLogo","previewImage"])))}(o));c.adType=a;var l=function(e){if(!e)return{};var t=q.pick(e,"baseTrackingUrl","adVersionPlacement","adID","thirdPartyTrackers");return t.fireEngagements=!1,t}(t),u=Object.assign(zu,t);return new Yu({storyConfig:u,trackingConfig:l,slideshowConfig:n,adParams:c,assetDefaults:s})}function Ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ju(r.key),r)}}function Xu(e,t,n){return t&&Ku(e.prototype,t),n&&Ku(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ju(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Zu={CAROUSEL:Yi,STORIES:function(e){var t,n,r=this,i=e.storyConfig,o=e.adParams,a=e.trackingConfig,s=e.uid;window.frameElement?q.getTopWindow():window,this.modalComponent=((n=new To({id:t=s,selectorPrefix:"ntv",attributes:{style:"display: none;",class:"with-effects",tabIndex:"0",oncontextmenu:"return false;"}})).id=t,n),this.params={closable:!0,autoStart:!1};var c,l,u=new Uu(e);if(this.slideViewCallback=u.slideViewCallback,this.storiesViewer=u.storiesViewer,this.data=u.data,this.modalComponent.appendContent(this.storiesViewer.element),i.customCss&&this.modalComponent.modal.element.append((c=i.customCss,(l=document.createElement("style")).textContent=c,l)),this.storiesViewer.on(hu.CLOSE_REQUEST,(function(){r.modalComponent.close()})),this.storiesViewer.on(hu.SLIDE_VIEW,(function(e){var t=e.slideIndex;r.slideViewCallback&&r.slideViewCallback(t)})),this.storiesViewer.on(hu.SLIDE_CHANGE,(function(){r.modalComponent.clearAutoClose()})),this.storiesViewer.on(hu.TIMERS_COMPLETE,(function(){r.modalComponent.startAutoClose()})),this.modalEventHandlers={},Object.keys(So).forEach((function(e){return r.modalEventHandlers[So[e]]=[]})),this.storiesViewer&&this.modalComponent){this.modalTracker=new Ws(this.modalComponent,a,{firstViewTracked:this.data.slideNumberTracked>=0}),this.modalEventHandlers[So.OPEN_COMPLETE].push((function(){r.storiesViewer.onView()})),this.modalEventHandlers[So.CLOSE].push((function(){r.storiesViewer.onHideStart()})),this.modalEventHandlers[So.CLOSE_COMPLETE].push((function(){r.storiesViewer.onHide()})),_l(this.modalComponent,this.modalEventHandlers),function(e){var t=e.doc,n=void 0===t?document:t,r=e.selector,i=e.previewImage;if(n&&r&&i)if("loading"!==n.readyState){var o=q.domQueryUp(r,n);Gs(i,o)}else n.addEventListener("DOMContentLoaded",(function(){var e=q.domQueryUp(r,n);Gs(i,e)}))}({doc:document,selector:".".concat(o.adWrapperClass),previewImage:o.previewImage}),co(i.toutSelector),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,t=e.createElement("meta");t.id="ntv-mobile-scale-tag",t.name="viewport",t.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,viewport-fit=cover",e.getElementsByTagName("head")[0].appendChild(t)}(this.data.document),ao((function(){window.onFocus||r.modalComponent.state.open&&r.modalComponent.close()})),this.data.document.body.append(this.modalComponent.element);var d={open:function(){r.modalComponent.open()},close:function(){r.modalComponent.close()}};return function(e,t){if(e&&t){var n=N("StoriesAds"),r=n.get("instances")||{};r[e]=t,n.set("instances",r)}}(o.adWrapperClass,d),d}},AUTOPLAY_STORIES:Xu((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.adParams,r=new Uu(t),i=document.createElement("ntv-stories"),o=i.attachShadow({mode:"open"});o.innerHTML="\n        <style>\n            :host {\n                all: initial; /* 1st rule so subsequent properties are reset. */\n                display: block;\n            }\n\n            .ntv-stories-autoplay {\n                .ntv-splide-slide {\n                    height: 100%;\n                }\n\n                .stories-viewer-content-wrapper {\n                  width: 100%;\n                  position: relative;\n            \n                  .stories-viewer-content {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                  }\n                }\n\n                &.aspect_9_16 {\n                    .stories-viewer-content-wrapper {\n                        padding-bottom: 178%;\n                    }\n                }\n              }\n        </style>",o.append(r.element),r.element.classList.add("ntv-stories-autoplay","aspect_9_16");var a=".".concat(n.adWrapperClass," "),s=q.domQueryUp(a);s&&s.append(i)}))},$u=q.getRandomInt();function ed(e,t,n){if(n&&Zu[n.type]){var r,i;if(r=n.config.config,i=t,r.adWrapperClass&&""!==r.adWrapperClass||(r.adWrapperClass=i.element.id),""===r.previewImage&&(r.previewImage="https://".concat(CONSTS.RESIZER_DOMAIN,"/image/upload/")),"CAROUSEL"===n.type)return new Zu[n.type](function(e,t,n){return{node:e,ad:t,content:n.content,config:n.config,uid:td()}}(e,t,n));var o=Qu(n.config);return o.slideAssetsFromParsedDynamicAssets(n.content),o.uid=td(),new Zu[n.type](o)}}function td(){return $u++}var nd=1,rd={0:function(e,t){return t.before(e)},1:function(e,t){return t.replaceWith(e)},2:function(e,t){return t.after(e)},3:function(e,t){return t.prepend(e)},4:function(e,t){return t.before(e),q.hide(t),e}};function id(e){var t=e.node,n=e.target,r=e.mode;if(void 0===t)throw new Error("Injection node is not defined");if(void 0===n)throw new Error("Injection target is not defined");if(void 0===r)throw new Error("Injection mode is not defined");if(!rd[r])throw new Error("Injection mode ".concat(r," is not supported"));return rd[r](t,n),t}function od(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ad(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sd(e){var t=cd(e);if(null!=t){var n=e.querySelectorAll("a");if(0!==n.length){var r,i=t.url,o=od(Array.from(n).filter((function(e){return function(e,t){return e===t||(e.indexOf(t)>0||!!e.indexOf(encodeURIComponent(t)>0))}(e.href,i)})));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.dataset.ntvDynamicElementId=e.id,a.addEventListener("click",ld)}}catch(e){o.e(e)}finally{o.f()}}}}function cd(e){var t=zv(e.dataset.ntvId);if(null!=(null==t?void 0:t.dynamicAdTracking)){var n=Number(e.dataset.ntvDynamicAssetIndex);if(null!=n)return t.dynamicAdTracking[n].clickTrackingData}}function ld(e){var t=e.currentTarget.dataset.ntvDynamicElementId,n=q.domQuery("#".concat(t));if(null!=n){var r=cd(n);if(null!=r){var i,o=od(r.clicktrackers);try{for(o.s();!(i=o.n()).done;){var a=i.value;q.appendImage(a)}}catch(e){o.e(e)}finally{o.f()}}}}function ud(e){return function(e){if(Array.isArray(e))return dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fd="EDGE",pd="SAFEFRAME",hd="EXTENDED",vd="DEFAULT",md={[fd]:50,[pd]:100,[hd]:250,[vd]:100},yd=function(e){return fv.setting.isEdge?fd:fv.inSafeFrame?pd:bd(e)?hd:vd},gd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return md[yd(e)]},bd=function(e){return e>=300},wd=function(e){var t=e.selector,n=zv(e.adPlacementId),r=n.toutClickTracker;if(window.Nativo){if(null!=r){var i=r;Nativo.tpc&&Nativo.tpc[t]?n.toutClickTracker=Nativo.tpc[t]+r:Nativo.thirdPartyClickUrl&&(n.toutClickTracker=Nativo.thirdPartyClickUrl+r);var o=new RegExp(q.ntvRegexEscape(i).replace(/(ord=)[^\&]+/,"$1[^\\&]+").replace(/(ntv_az=)[^\&]+/,"$1[^\\&]+").replace(/(ntv_al=)[^\&]+/,"$1[^\\&]+").replace(/(ntv_ak=)[^\&]+/,"$1[^\\&]+").replace(/(ntv_enc_pr=)[^\&]+/,"$1[^\\&]+"),"g");e.html=e.html.replace(o,n.toutClickTracker)}Nativo.atf&&Nativo.atf.indexOf(e.id)<0&&Nativo.atf.push(e.id)}},Ed=function(e){if(q.isiOS()){var t=[];for(re("ntvAds")&&(t=re("ntvAds").split(",")),t.push(e);t.length>10;)t.shift();ie("ntvAds",t.join(","))}},Sd=function(e){var t=e.selector,n=e.dfpType,r=e.parentCount,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var o,a=document;try{if(2==n&&q.isInIframe()){var s=q.breakOutIframe();a=s.document}o=q.domQuery(t,a)}catch(e){q.postError(new Error("getInjectNode() Injection node not found. Selector:".concat(t," in context").concat(a,", Cause:").concat(e.message)))}if(Td(r,n)){var c=q.breakOutIframe();c&&(o=c);for(var l=r;o.parentNode&&l>0;)l--,o=o.parentNode}return o||(i&&fv.safeFrame&&fv.safeFrame.api&&(o=document.body),o)}};function Td(e,t){return e&&2!=t}var kd,Pd,Ad,Id,Cd=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!(i>6e4)){var o=bd(i),a=Sd(t,o);if(i+=r,a)return n(a);q.setTimeout((function(){e(t,n,gd(i),i)}),r)}},Od=function(e){e.viewableWhiteList&&(fv.viewableWhiteList[e.placementId]=e.viewableWhiteList)},_d=function(e,t,n){fv.topWindow.ntvToutAds||(fv.topWindow.ntvToutAds={});var r=q.clientUtils.generateAdPlacementId(t,e);fv.topWindow.ntvToutAds[r]=n},Rd=function(e){return fv.topWindow.ntvToutAds[e]},xd=(kd=[],Pd=0,Ad=0,Id=0,{renderInit:function(e,t){Pd=(kd=t).length,Ad=e},renderComplete:function(e,t,n){if(kd){var r=kd.indexOf(n);-1!==r&&(Id+=e?0:1,kd.splice(r,1),function(e,t,n){q.firePubSubEvent("adRenderingComplete",{success:e,placement:t,id:n})}(e,t,n),0===kd.length&&function(){if(q.firePubSubEvent("allAdsRenderingComplete",{success:0===Id,adCount:Pd,placementCount:Ad}),ntv.postAdsRenderingCallbacks&&Array.isArray(ntv.postAdsRenderingCallbacks))for(;ntv.postAdsRenderingCallbacks.length>0;)ntv.postAdsRenderingCallbacks.pop()()}())}}});function Ld(e,t){var n=q.clientUtils.generateAdPlacementId(e.id,t.id);e.timestamp=Date.now(),e.adPlacementId=n,e.uid="".concat(e.adPlacementId,"-").concat(e.timestamp),e.responseId=t.responseId}var Dd=function(e){var t=!1;q.onDOMContentLoaded((function(){var n=Sd(e);e.injectNode=n,function(){if(!t){var n,r=null==e||null===(n=e.injectNode)||void 0===n?void 0:n.length,i={id:e.id,adLocation:e.selector,injectNode:r?e.injectNode[0]:null};setTimeout((function(){q.firePubSubEvent("noAd",i),q.firePubSubEvent("noad",i)}),0),t=!0}}()}))},Nd=function(e,t){q.ampModeHandler(fv.ampMode)||(Dd(e),!e.isABA&&e.tracking&&function(e,t){fv.inventoryTrackers.push(e);for(var n=0;n<fv.inventoryTrackers.length;n++){var r=fv.inventoryTrackers[n];fv.inventoryTrackersHistory[r.placementID+"_"+r.selector]||(Ft(r,t),fv.inventoryTrackersHistory[r.placementID+"_"+r.selector]=!0)}}(function(e,t){var n=e.tracking||{},r=n.vcpmParams||{},i={};return r.thirdPartyTrackingTags="",r.selector=Ut(e),r.placementID=e.id,r.isInvTracking=!0,i.url=n.trackingBaseUrl,i.selector=Ut(e),i.placementID=e.id,i.prebid=e.prebid,i.adVersionPlacement=n.adVersionPlacement,i.passback=t.passback?t.passback:e.passback,i.vcpmParams=r,i.cpmExtraQS=e.tracking?e.tracking.cpmExtraQS:"",i.foundOnEdge=e.foundOnEdge,i}(e,t),t))},jd=function e(t){var n,r,i=[],o=[];if(!(t instanceof HTMLElement))return i;r=t.getBoundingClientRect(),n={offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,getBoundingClientRect:function(){return r}};for(var a=0;a<t.children.length;a++)o.push.apply(o,ud(e(t.children[a])));return n.children=function(){return o},i.push(n),i},Vd=function(e){var t;try{fv.referencePlacementPositions[e.selector]=jd(q.domQuery(e.selector)),t=k(e.html),Md(e),Ud(e);try{id({mode:e.injectionMode,target:e.injectNode,node:t})}catch(e){return void q.postError(e)}if(e.element=q.toDomElement(t),fv.isPreviewReq&&!fv.autoScrolling){var n=q.getQS(f.CLIENT_OPTIONS);-1!==n.indexOf("s")&&(fv.autoScrolling=!0,hi(t,n).then((function(){fv.autoScrolling=!1})))}e.toRegister&&(fv.adsMap[q.clientUtils.generateAdPlacementId(e.id,e.placementId)]={responseId:e.responseId,node:e.element,type:"ad"}),e.element.dataset.ntvId=e.adPlacementId,xd.renderComplete(void 0!==e.element,e.placementId,e.id)}catch(e){q.postError(e)}finally{return t}};function Md(e){Td(e.parentCount,e.dfpType)&&1==e.injectionMode&&1==e.injectionMode&&(e.injectionMode=4)}function Ud(e){e.injectNode.length&&(e.injectNode=e.injectNode[0])}var Fd=function(e){return new Promise((function(t){Cd(e,(function(n){e.injectNode=n,t(Vd(e))}),gd())}))},Bd=function(e){var t,n,r,i,o=e.tracking;(t=e).thirdPartyJSViewableImpTrackers=q.trackImpressionsInViewability(t.viewableWhiteList,t.thirdPartyJSViewableImpTrackers,t.selector),t.thirdpartyJSImpTrackers=q.trackImpressionsInViewability(t.viewableWhiteList,t.thirdpartyJSImpTrackers,t.selector),function(e){e.viewableWhiteList&&(fv.viewableWhiteList=e.viewableWhiteList),e.whiteListedThirdpartyDomains&&(e.thirdPartyJSViewableImpTrackers&&(fv.thirdPartyJSViewableImpTrackers[e.placementId]={whitelist:e.whiteListedThirdpartyDomains,thirdparty:e.thirdPartyJSViewableImpTrackers}),e.thirdpartyJSImpTrackers&&e.thirdpartyJSImpTrackers.length&&q.filterScripts(e.whiteListedThirdpartyDomains,e.thirdpartyJSImpTrackers))}(e),o&&ke.performance.trackAfterRender(o,1),n=q.domQueryAll(".ntvClickOut",fv.topWindow.document),r=q.queryAllChildren(n,"a"),i=q.queryAllChildren(n,".ntv_clickout_icon"),fv.setupClickOut(ud(r),ud(i))},Hd=function(e){var t=fv.PlacementResponseCache[e];if(t)return t.ads?(t.responseId=q.generateUniqueId(1e7),void qd.renderAds(t)):void At({type:"s2s",params:{adUnits:[t]}})},Wd=function(e){if("function"==typeof e)return void 0===ntv.postAdsRenderingCallbacks&&(ntv.postAdsRenderingCallbacks=[]),ntv.postAdsRenderingCallbacks.push(e)},qd={renderAds:function(e){e.ads.forEach((function(t){var n=!e.infScroll;Ld(t,e),n&&fv.adsMap[t.adPlacementId]&&e.responseId&&fv.adsMap[t.adPlacementId].responseId&&fv.adsMap[t.adPlacementId].responseId!==e.responseId||(!function(e){var t;e.adId=e.id,e.campaignId=e.campaignID,e.advertiserId=null===(t=e.advertiser)||void 0===t?void 0:t.id,e.html=e.preview.html}(t),function(e,t){e.placementId=t.id,e.selector=t.selector,e.injectionMode=t.injectionMode,t.infScroll||(e.parentCount=t.parentCount),e.dfpType=t.dfpType||0,e.tracking=t.tracking}(t,e),t.type=c,t.toRegister=n,Gv(t.adPlacementId,q.pick.apply(q,[t].concat(ud(f.AD_LEVEL_TRACKING_PROPERTIES))),t.responseId),fv.setFilteringByLevel(t),wd(t),_d(e.id,t.id,t),Od(t),qd.renderAd(t),Ed(t.id))}))},renderAd:function(e){ai(e).then((function(t){!function(e,t){var n=zv(e);if(n&&Array.isArray(t)){var r=t.map((function(e){return e.trackers}));n.dynamicAdTracking=r}}(e.adPlacementId,t.content),Fd(e).then((function(n){if("DCO"!==t.type){var r=Object.assign(t,{id:e.id,placement:e.placementId});ed(q.toDomElement(n),e,r)}var i=w(n);i.dataset.ntvDynamicAssetIndex=0,sd(i)}))})).catch((function(t){t!==Xt&&Fd(e)}))}};function Gd(e){return function(e){if(Array.isArray(e))return zd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yd(e){if(!N("pubRenderCallback").initialized){var t={callback:function(e){if(e.origin===location.origin&&e.data.action&&"ntv-pub-inject-complete"===e.data.action){var t=q.domQuery("#".concat(e.data.id));if(null!=t&&!t.dataset.ntvIframeProcessed&&(t.dataset.ntvIframeProcessed=!0,ntv.articles)){var n=Object.values(ntv.articles);0!=n.length&&n[0].articleTracker.processArticleIframe(t)}}},initialized:!0};q.getTopWindow().addEventListener("message",t.callback)}!function(e){var t,n=q.getTopWindow();ntv.PostRelease.pubIframeData||(ntv.PostRelease.pubIframeData=[]);(t=ntv.PostRelease.pubIframeData).push.apply(t,Gd(e)),e.forEach((function(e){n.postMessage({action:"ntv-pub-inject",payload:e},n.location.origin)}))}(function(e){var t,n,r=[],i=function(e){if(e.querySelectorAll){var i=Gd(e.querySelectorAll("iframe")).filter((function(e){return!!e.getAttribute("src")&&"about:blank"!==e.getAttribute("src")})).map((function(e,r){n=[];for(var i,o="ntv-iframe-parent-".concat(r),a=0;a<e.attributes.length;a++)i=e.attributes.item(a),n.push({name:i.name,value:i.value});return n.push({name:"ntv-pub-injected",value:""}),t={element:"iframe",attributes:n,classes:Gd(e.classList).join(),id:e.id,selector:".".concat(o)},e.parentNode.classList.add(o),e.parentNode.removeChild(e),t}));r.push.apply(r,Gd(i))}};if(e.length)for(var o=0;o<e.length;o++)i(e[o]);else i(e);return r}(e))}function Qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jd(r.key),r)}}function Xd(e,t,n){return t&&Kd(e.prototype,t),n&&Kd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jd(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Zd="close";var $d=function(){function e(t){var n=this;Qd(this,e);var r=t.dataset,i=r.ntvSideTabAutoOpen,o=r.ntvSideTabAutoCloseDelay,a=r.ntvSideTabAutoOpenTrigger,s=r.ntvSideTabAutoOpenTriggerValue;this.shouldAutoOpen="true"===i||!0===i,this.shouldAutoOpen&&(this.autoOpenTrigger=a,this.autoOpenTriggerValue=s,this.autoOpenTrigger=ef(this.autoOpenTrigger,this.autoOpenTriggerValue,this.open.bind(this))),this.autoCloseDelay=1e3*+o,this.tabElement=t,this.content=q.domQuery("div.ntv-side-tab--content",this.tabElement),this.closeButton=q.domQuery("button.ntv-side-tab--close-button",this.tabElement),this.tabButton=q.domQuery("button.ntv-side-tab--tab-button",this.tabElement),this.closeButton.addEventListener("click",this.close.bind(this)),this.tabButton.addEventListener("click",this.open.bind(this)),this.autoCloseTimer=void 0,this.content.addEventListener(Zd,(function(){n.autoCloseTimer=setTimeout(n.close.bind(n),n.autoCloseDelay)}))}return Xd(e,[{key:"close",value:function(){null!=this.autoCloseTimer&&clearTimeout(this.autoCloseTimer),this.tabElement.classList.remove("open"),this.tabElement.classList.add("close")}},{key:"open",value:function(){this.autoOpenTrigger&&this.autoOpenTrigger.disable(),this.tabElement.classList.add("open"),this.tabElement.classList.remove("close")}}]),e}(),ef=function(e,t,n){return"timer"===e?new tf(t,n):"scroll"===e?new nf(t,n):void 0},tf=function(){function e(t,n){Qd(this,e),this.duration=1e3*(Number(t)||30),this.timer=void 0,this.onTrigger=n,this.onTriggerHandler=this.onTrigger.bind(this),this.triggered=!1,this.enable()}return Xd(e,[{key:"startTimer",value:function(){this.triggered||null==this.timer&&(this.timer=setTimeout(this.onTriggerHandler,this.duration))}},{key:"stopTimer",value:function(){null!=this.timer&&clearTimeout(this.timer)}},{key:"enable",value:function(){this.startTimer()}},{key:"disable",value:function(){this.stopTimer()}},{key:"trigger",value:function(){this.triggered||(this.onTrigger&&"function"==typeof this.onTrigger&&this.onTrigger(),this.triggered=!0,this.disable())}}]),e}(),nf=function(){function e(t,n){Qd(this,e),this.threshold=Number(t)||.75,this.onTrigger=n,this.onScrollHandler=this.onScroll.bind(this),this.enable()}return Xd(e,[{key:"onScroll",value:function(e){R(e.data.target)>=this.threshold&&(this.trigger(),this.disable())}},{key:"enable",value:function(){fv.internalPubSub.subscribe(l,this.onScrollHandler)}},{key:"disable",value:function(){fv.internalPubSub.unsubscribe(l,this.onScrollHandler)}},{key:"trigger",value:function(){this.triggered||(this.onTrigger&&"function"==typeof this.onTrigger&&this.onTrigger(),this.triggered=!0)}}]),e}();function rf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return of(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sf(r.key),r)}}function sf(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var cf="survey_complete";function lf(e){if(null!=e.documentFragment){var t=e.documentFragment,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mode:"open"},n=document.createElement("ntv-shadow"),r=n.attachShadow(t),i=Array.from(e.children);return r.append.apply(r,i),j(r),n}(t),r=n.shadowRoot;t.append(n);var i=r.querySelector("#ntv-survey");if(null!=i){var o=new uf(i);return o.element.addEventListener(cf,(function(){var e;n.closest("ntv-side-tab")&&(e=Zd,n.dispatchEvent(new Event(e,{bubbles:!0,composed:!0})))})),o}}}var uf=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.id=this.element.id,this.clickTracker=this.element.dataset.ntvSurveyClickTracker,this.curentViewIndex=0,this.viewContainer=this.element.querySelector(".ntv-survey--view-container");var n,r=rf(this.element.querySelectorAll("button.survey-button"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.dataset;i.addEventListener("click",this.handleResponseClick.bind(this,o))}}catch(e){r.e(e)}finally{r.f()}this.initializeViews()}var t,n,r;return t=e,(n=[{key:"initializeViews",value:function(){this.views=this.viewContainer.querySelectorAll(".ntv-survey--view"),this.maxViewIndex=this.views.length-1,this.showView(0)}},{key:"showView",value:function(e){this.viewContainer.style.transform="translateY(-".concat(100*e,"%)")}},{key:"showNextView",value:function(){this.curentViewIndex>=this.maxViewIndex||(this.curentViewIndex++,this.showView(this.curentViewIndex),this.curentViewIndex==this.maxViewIndex&&this.publishEvent(cf))}},{key:"handleResponseClick",value:function(e){this.fireClickTracker(e.id),this.showNextView()}},{key:"fireClickTracker",value:function(e){if(null!=this.clickTracker){var t=this.clickTracker+e;q.appendImage(t)}}},{key:"publishEvent",value:function(e){this.element.dispatchEvent(new Event(e,{bubbles:!0,composed:!0}))}}])&&af(t.prototype,n),r&&af(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function df(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ff(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ff(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ff(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pf(e,t){this.ad=t,this.selector=e.Selector,this.fragmentTemplate=e.FragmentTemplate,this.html=void 0,this.type=e.Type,this.injectionMode=e.Mode,this.injectNode=void 0}var hf=function(e){return"SIDE_TAB"===e.type?function(e){var t=e.documentFragment.querySelector("ntv-side-tab");if(null!=t)return new $d(t)}(e):"SURVEY"===e.type?lf(e):void 0},vf=function(e){e.injectNode||function(e){return q.retryQuery(q.domQueryUp.bind(q),e.selector,document,10,3e5)}(e).then((function(t){t.shadowRoot&&(t=q.domQuery("ntv-shadow-content",t.shadowRoot)),e.injectNode=t,gf(e),function(e){e.html=function(e){var t,n=!1,r=df(mf);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(e.includes(i)){n=!0;break}}}catch(e){r.e(e)}finally{r.f()}n&&(e=e.replaceAll("domQuery","domQueryUp"));return e}(e.html),e.documentFragment=T(e.html)}(e),hf(e),function(e){fv.setting.pubInjection&&Yd(e.documentFragment);var t=bf(e);if(null!=t){var n,r=df(e.documentFragment.children);try{for(r.s();!(n=r.n()).done;){n.value.classList.add(t)}}catch(e){r.e(e)}finally{r.f()}}try{id({mode:e.injectionMode,target:e.injectNode,node:e.documentFragment})}catch(e){q.postError(e)}}(e)})).catch((function(t){q.postError(new Error('Failed to get article fragment inject node "'.concat(e.selector,'"')))}))};var mf=["initializeFBWidget"];var yf=function(e){return e.fragmentTemplate.indexOf("@Content")>-1};var gf=function(e){e.html=function(e,t){if(null==t)return e;var n='<img src="'+t.advertiser.logo+'" border="0">';return e.replace(/@Title/g,t.article.title).replace(/@Datetime/g,t.articleTemplate.displayDate).replace(/@AuthorLogo/g,n).replace(/@Author/g,t.advertiser.name).replace(/@Preview/g,t.preview.text).replace(/@Content/g,'<div id="'+t.id+'" class="'+t.id+'">'+t.article.body+"</div>").replace(/@BottomArticle/g,"").replace(/@TopArticle/g,"").replace(/@RightRail/g,"")}(e.fragmentTemplate,e.ad)},bf=function(e){if(t=e,new RegExp("\\bTOP\\b|\\bRIGHTRAIL\\b|\\bBOTTOMb\\b").test(t.type)&&1!=t.injectionMode){if(3===e.injectionMode&&new RegExp("\\bTOP\\b").test(e.type))return"ntv-companion"}else if("SLIDEMETADATA"==e.type)return"ntv-gallery-metadata";var t};var wf=function(e){var t=e.fragments,n=e.ad;if(t&&n){for(var r,i=t.length,o=0,a=!1,s=0;s<i;s++){var c,l=new pf(t[s],n);vf(l),yf(l)&&(r=null===(c=q.domQuery("#"+n.id))||void 0===c?void 0:c.parentNode),o++}o===i&&(a=!0),e.prxContainerElement=r,e.replaced=a}};function Ef(e){try{var t=document.cookie.split(";").filter((function(t){return t.indexOf(e+"=")>-1}));return t.length?t[0].split("=")[1]:"{}"}catch(e){return"{}"}}var Sf="localStorage",Tf="cookie";function kf(e,t){var n=this;this.name=e;var r=function(){q.setCookie(n.name,Ef(n.name)),n.storageType=Tf};try{!function(e){e===Sf?(localStorage.getItem(n.name)||localStorage.setItem(n.name,"{}"),n.storageType=Sf):r()}(t)}catch(e){r()}this.saveData=function(e){switch(this.storageType){case Tf:q.setCookie(this.name,JSON.stringify(e));break;case Sf:localStorage.setItem(this.name,JSON.stringify(e))}},this.getData=function(){switch(this.storageType){case Tf:return JSON.parse(Ef(this.name));case Sf:return JSON.parse(localStorage.getItem(this.name))}}}function Pf(e){e=e||window.location.origin+window.location.pathname;var t="ntv-session-".concat(e),n=new Date;this.engagementStorage=new kf(t,Sf),this.existingSession=this.engagementStorage.getData(),0===Object.keys(this.existingSession).length&&(this.existingSession=Af(this.engagementStorage,If(t,n))),Boolean(this.existingSession.sessionExperation<n.getTime())&&(this.existingSession=Af(this.engagementStorage,If(t,n)))}function Af(e,t){return t?(e.saveData(t),t):{}}function If(e,t){var n=new Date(t.getTime());return n.setHours(n.getHours()+1),{url:window.location.origin,id:e,lastInteraction:t.getTime(),sessionStart:t.getTime(),sessionExperation:n.getTime()}}function Cf(){(new Pf).incrementRefreshes()}Pf.prototype.incrementRefreshes=function(){if(!this.existingSession.hasOwnProperty("refreshes"))return this.existingSession.refreshes=0,void(this.existingSession=Af(this.engagementStorage,this.existingSession));this.existingSession.refreshes>=3?fv.setting.recordEngagements=!1:(this.existingSession.refreshes++,this.existingSession=Af(this.engagementStorage,this.existingSession))};var Of=q.setTimeout;function _f(e){this.ad=e,this.article=e.article,this.responseId=e.responseId,this.preview=e.preview,this.advertiser=e.advertiser,this.articleTemplate=e.articleTemplate,this.replaced=!1,this.prxContainerElement=void 0,this.adId=e.id,this.isWebview=e.isWebview,this.adPlacementId=e.adPlacementId,e.article&&(this.paginationNextUrl=e.article.paginationNextUrl,this.paginationPreviousUrl=e.article.paginationPreviousUrl,this.title=e.article.title,this.body=e.article.body),e.articleTemplate&&(this.removals=e.articleTemplate.removals,this.fragments=e.articleTemplate.fragments)}function Rf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e.length;r++){var i=e[r],o=q.domQuery(i.Selector);if(o)switch(i.Type){case 1:o.remove();break;case 2:o.style.display="none"}else n.push(i)}n.length>0&&t>0&&(t--,Of((function(){return Uf.executeRemoval(n,t)}),100))}function xf(e,t){e&&(t&&""!=t?(e.setAttribute("href",t),e.setAttribute("style","display:inline-block")):e.setAttribute("style","display:none"))}function Lf(e){var t=e.type,n=e.selector,r=e.rangeStart,i=e.articleId,o=q.domQueryAll(n,document);if(o&&0!==o.length)for(var a,s=zv(i),c=0,l=function(){a=o[c];var e=Number(a.dataset.ntvCustomCta||a.dataset.ntvCustomWidget);if(isNaN(e))return"break";if(e+=r,"cta"===t||!s)return"A"===a.nodeName?(Df(a,e),"continue"):(a.querySelectorAll("a").forEach((function(t){return Df(t,e)})),"continue");var n=function(){q.appendImage(s.baseTrackingUrl+e)};a.addEventListener("click",n,!0),q.domQueryAll("iframe",a).forEach((function(e){!function(e){var t=e.frame,n=e.callback,r=e.once,i={isMouseOver:!1,fired:!1},o=function(){i.isMouseOver&&r&&!1===i.fired&&(n(),i.fired=!0,r&&l())},a=function(){i.isMouseOver=!0},s=function(){i.isMouseOver=!1},c=!1;function l(){q.getTopWindow().removeEventListener("blur",o),t.removeEventListener("mouseover",a),t.removeEventListener("mouseout",s)}c||(q.getTopWindow().addEventListener("blur",o),t.addEventListener("mouseover",a),t.addEventListener("mouseout",s),c=!0)}({frame:e,callback:n})}))};c<o.length;c++){var u=l();if("break"===u)break}}function Df(e,t){e.href=e.href.replace(/(ntv_at)=(\d*\,?)*/,(function(e){return"ntv_at=".concat(q.removeDuplicates(q.modifyQSParamValues(e,String(t),Bv.cta)).join())}))}function Nf(e){arguments.length>1&&void 0!==arguments[1]||window;if(jf(e),e.removals&&e.removals.length>0)try{Rf(e.removals,100)}catch(e){}dv(e.ad.id)}function jf(e){e&&(!function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,i=t.paginationNextUrl,o=t.paginationPreviousUrl;if(!(void 0!==n&&n<100&&++n>=100)){if(i||o){var a=q.domQuery("a.prx_pagination_next"),s=q.domQuery("a.prx_pagination_previous");return a||s?(xf(a,i),void xf(s,o)):void Of((function(){return e(t)}),100)}var c=q.domQuery(".prx_pagination_wrapper");if(c||0!=/loaded|complete/.test(r.readyState)){if(!c&&/loaded|complete/.test(r.readyState))return void 0===n&&(n=0),void Of((function(){return e(t,n)}),100);c.setAttribute("style","display:none !important")}else Of((function(){return e(t)}),100)}}(e),Of((function(){Lf({type:"cta",selector:".ntv-body a[data-ntv-custom-cta]",rangeStart:f.CUSTOM_CTA_RANGE_START,articleId:e.adPlacementId,responseId:e.responseId}),Lf({type:"widget",selector:"[data-ntv-custom-widget]",rangeStart:f.CUSTOM_WIDGET_RANGE_START,articleId:e.adPlacementId,responseId:e.responseId})}),0))}var Vf=function(e){if(e&&!fv.articleCache.has(e.adPlacementId)){Gv(e.adPlacementId,e.tracking),Cf();var t=new _f(e);Mf(t.ad.adPlacementId,t.ad),q.isChrome()?function(e){var t=q.getTopWindow();!0!==t["post-message-render-article-listener"]&&(t.addEventListener("message",(function(n){n.origin===t.location.origin&&"processPlacements"===n.data&&Uf.render(e)}),!1),t["post-message-render-article-listener"]=!0);t.postMessage("processPlacements",t.location.origin)}(t):Uf.render(t)}};function Mf(e,t){fv.articleCache.set(e,t)}var Uf={render:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;t.title=e.title,wf(e),e.replaced&&Nf(e),/loading|interactive|initialize/.test(t.readyState)&&!e.replaced?Of((function(){return Uf.render(e)}),50):e.replaced||Nf(e)},executeRemoval:Rf},Ff=function(e,t){!function(e,t){e.placements.length||q.ampModeHandler(t)}(e,t),xd.renderInit(e.placements.length,e.placements.filter((function(e){return e.selector&&e.ads&&e.ads.length})).map((function(e){return e.ads[0].id}))),e.placements.forEach((function(t){if(t.responseId=e.responseId,t.selector||t.parentCount)!function(e,t){fv.tout=!0,e.ads&&e.ads.length>0?qd.renderAds(e):Nd(e,t)}(t,e);else{var n=t.ads.pop();if(!n)return;Ld(n,t),n.tracking=t.tracking,n.isWebview=e.isWebview||!1,Vf(n)}ke.performance.trackBeforeRender(t.tracking)}))},Bf={true:"Y",false:"N"},Hf=function(e,t){return t?e.substr(0,Zf.OPT_OUT_SALE)+Bf[t]+e.substr(Zf.OPT_OUT_SALE+1):e};function Wf(){Wf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function p(){}function h(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function qf(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zf(r.key),r)}}function zf(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Yf(e,t){return(Yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xf(e);if(t){var i=Xf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kf(this,n)}}function Kf(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yf(e,t)}(s,e);var t,n,r,i,o,a=Qf(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,f.US_PRIVACY)).name="usprivacy",n.consentData=t.consentString||"",n}return t=s,n=[{key:"getConsentData",value:function(){return this.consentData}},{key:"consentDataToQueryValue",value:function(){return this.consentData}}],r=[{key:"Initialize",value:(i=Wf().mark((function e(){var t,n,r=arguments;return Wf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:window,e.next=3,ip();case 3:return n=e.sent,e.abrupt("return",new s(t,{consentString:n}));case 5:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){qf(o,n,r,a,s,"next",e)}function s(e){qf(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&Gf(t.prototype,n),r&&Gf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Fe),Zf={VERSION:0,EXPLICIT_NOTICE:1,OPT_OUT_SALE:2,LSPA_COVERED:3},$f=function(){var e=g();return new Promise((function(t,n){var r=setTimeout((function(){n()}),100);return Ze(Xe,e).then((function(e){clearTimeout(r),t(tp(e.uspString))})).catch((function(e){n()}))}))},ep=function(){var e=g();return new Promise((function(t,n){if(e.__uspapi&&"function"==typeof e.__uspapi){var r=setTimeout((function(){n()}),100);e.__uspapi("getUSPData",1,(function(e,i){clearTimeout(r),i?t(tp(e.uspString)):n()}))}else n()}))};function tp(e){return rp(e),e}var np=function(){y(f.US_PRIVACY_COOKIE)},rp=function(e){m(f.US_PRIVACY_COOKIE,e,365)},ip=function(){return function(){g();return $f().catch((function(){return ep()})).catch((function(){return np()})).then((function(e){if(e)return e}))}().then((function(e){if(e){if("-"===function(e){return e[Zf.OPT_OUT_SALE]}(e))return e;if(function(e){var t=e[Zf.OPT_OUT_SALE],n=e[Zf.LSPA_COVERED];return"Y"===t||"N"===n}(e))return fv.setting.oos=0,e;var t=navigator.globalPrivacyControl;return t?(fv.setting.oos=1,Hf(e,t)):e}}))};function op(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ap(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sp=function(e){var t=e.consentUrl;if(t){var n=[],r=[],i={};!function(e,t,n){var r=e.usPrivacyApplies,i=e.gdprApplies;e.gppApplies?cp(Je.Initialize,f.GPP,e.gppConsentString,t,n):(r&&cp(Jf.Initialize,f.US_PRIVACY,e.usPrivacyConsent,t,n),i&&cp(ut.Initialize,f.GDPR,e.gdprConsentString,t,n))}(e,n,i),Promise.allSettled(n).then((function(e){var n,o=op(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;"fulfilled"===a.status&&r.push(a.value)}}catch(e){o.e(e)}finally{o.f()}if(0!==r.length){var s=function(e,t){var n=e.filter((function(e){var n=e.consentDataToQueryValue();return""!==n&&!function(e,t,n){return null!=n[t]&&n[t]===e}(n,e.name,t)})).map((function(e){return e.getQueryString()}));if(0===n.length)return;for(var r=n[0],i=1;i<n.length;i++)r+="&".concat(n[i]);return r}(r,i);if(void 0!==s)!function(e){q.ajax({method:"get",url:e,success:function(e){},error:function(t){q.postError(new Error("Failed to send consent strings to ad server. ".concat(e)))}})}(t+s)}}))}};function cp(e,t,n,r,i){r.push(e());var o=n;o&&(i[t]=o)}function lp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||up(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(e,t){if(e){if("string"==typeof e)return dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dp(e,t):void 0}}function dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hp(r.key),r)}}function pp(e,t,n){return(t=hp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var vp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pp(this,"params",new Map),pp(this,"qsparams",void 0),pp(this,"url",void 0)}var t,n,r;return t=e,(n=[{key:"addParams",value:function(e){for(var t in e)this.params.set(t,e[t])}},{key:"addParam",value:function(e,t){this.params.set(e,t)}},{key:"removeParams",value:function(e){for(var t in e)this.params.delete(t)}},{key:"removeParam",value:function(e){this.params.delete(e)}},{key:"addQSParams",value:function(e,t){if(t){this.containsRedirectParams()||(this.qsParams=t,this.addParams(t)),t=q.stripLeadingCharacters(t,"&");var n=q.qetQueryStringParams("?".concat(t)),r=q.qetQueryStringParams(e);this.addParams(Object.assign(n.params,r.params)),this.url=r.base,this.qsParams=t}}},{key:"clearQSParams",value:function(){delete this.url,this.removeParams(this.qsParams),delete this.qsParams}},{key:"containsRedirectParams",value:function(){return this.params.has(f.REDIRECT)||this.params.has(f.REQ_REDIRECT)}},{key:"setUrl",value:function(e){this.url=e}},{key:"clearUrl",value:function(){delete this.url}},{key:"makeRequest",value:function(){var e=this;return this.url||(this.url="".concat(q.getProtocol(),"//").concat(f.JDOMAIN,"/t.json?")),this.appendParams(),new Promise((function(t){fetch(e.url).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){q.postError(e)}))}))}},{key:"appendParams",value:function(){var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=up(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.params);try{for(n.s();!(e=n.n()).done;){var r=lp(e.value,2),i=r[0],o=r[1];t.push("".concat(i,"=").concat(o))}}catch(e){n.e(e)}finally{n.f()}t.push("ntv_url=".concat(document.location.href)),this.url=this.url.concat(t.join("&"))}}])&&fp(t.prototype,n),r&&fp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mp(e){return function(e){if(Array.isArray(e))return bp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gp(e,t){if(e){if("string"==typeof e)return bp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bp(e,t):void 0}}function bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sp(r.key),r)}}function Ep(e,t,n){return(t=Sp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sp(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Tp=[.01],kp=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ep(this,"batch",[]),Ep(this,"atf",[]),Ep(this,"config",{}),Ep(this,"placements",[]),Ep(this,"smartLoadObserver",void 0),Ep(this,"initialized",!1),this.resizeListener=this.resizeListener.bind(this)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t,n,r=this;if(!this.initialized&&e.hasOwnProperty("lazyLoadingConfig")&&e.hasOwnProperty("placements")){this.initialized=!0,this.config=e.lazyLoadingConfig,this.placements=e.placements,this.config.triggerThreshold.value=Number(null===(t=this.config.triggerThreshold)||void 0===t?void 0:t.value),this.config.groupingRange.value=Number(null===(n=this.config.groupingRange)||void 0===n?void 0:n.value);var i=this.constructMarginString(this.config.triggerThreshold),o=this.convertGroupingRange(this.config.triggerThreshold,this.config.groupingRange),a=new ka({onThreshold:this.handlePlacementIntersection.bind(this)});this.smartLoadObserver=new Ia({threshold:[.01],rootMargin:i},o),window.addEventListener("resize",this.resizeListener),this.placements.map((function(e){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return new Promise((function(n){if(t.querySelector(e))return n(t.querySelector(e));var r=new MutationObserver((function(i){t.querySelector(e)&&(n(t.querySelector(e)),r.disconnect())}));r.observe(t,{childList:!0,subtree:!0})}))})(e.selector).then((function(t){t&&(t.placementId=e.id,r.smartLoadObserver.addTarget(t,a))}))}))}}},{key:"release",value:function(){window.removeEventListener("resize",this.resizeListener)}},{key:"resizeListener",value:function(){this.smartLoadObserver.groupingRange=this.convertGroupingRange(this.config.triggerThreshold,this.config.groupingRange)}},{key:"constructMarginString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:1.5,unit:"viewport"};switch(e.unit){case"viewport":var t=100*e.value;return"".concat(t,"% 0% ").concat(t,"% 0%");case"pixel":return"".concat(e.value,"px 0px ").concat(e.value,"px 0px");case"percentage":return"".concat(e.value,"% 0% ").concat(e.value,"% 0%")}}},{key:"convertGroupingRange",value:function(e,t){var n={value:0,unit:"pixel"};return"viewport"===t.unit?n.value+=this.viewportToPixel(t.value):"percent"===t.unit?n.value+=this.percentToPixel(t.value):n.value+=t.value,"viewport"===e.unit?n.value+=this.viewportToPixel(e.value):"percent"===e.unit?n.value+=this.percentToPixel(e.value):n.value+=e.value,n}},{key:"handlePlacementIntersection",value:function(e,t){var n=this.constructMarginString(t.groupingRange);if(t.removeTarget(e.target),t.primaryObserver)t.primaryObserver.removeTarget(e.target);else{var r=Array.from(t.primaryObserver?t.primaryObserver.targetOptions.keys():t.targetOptions.keys());if(r.length>0){var i=new ka({onThreshold:this.handlePlacementIntersection.bind(this)}),o=new Ia({THRESHOLD:Tp,rootMargin:n},t.groupingRange);o.primaryObserver=t.primaryObserver?t.primaryObserver:t,r.map((function(e){o.addTarget(e,i)})),setTimeout((function(){o.observer.disconnect()}),500)}}this.addToBatch(e.target.placementId)}},{key:"viewportToPixel",value:function(e){return window.innerHeight*e}},{key:"percentToPixel",value:function(e){return window.innerHeight*(.01*e)}},{key:"startBatch",value:function(e){var t=this;setTimeout((function(){var e=t.generateBatchList(t.batch),n=t.generateBatchList(t.atf),r=new vp,i={};i[f.AD_FILTER]=n,i[f.PTD_FILTER]=e;var o=q.getKeyValuePairs();o&&(i[f.KEY_VALUE_PAIRS]=o),r.addParams(i),r.makeRequest().then((function(e){return t.processBatchResponse(e)})),t.batch=[]}),e)}},{key:"addToBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;0===this.batch.length&&this.startBatch(t),this.batch.push(e)}},{key:"processBatchResponse",value:function(e){e.smartLoading=!0;var t,n=yp(e.placements);try{for(n.s();!(t=n.n()).done;){var r,i=yp(t.value.ads);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.filteringLevel===rv.NO_FILTERING)break;this.atf&&this.atf.indexOf(o.id)<0&&this.atf.push(o.id)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}Up(e)}},{key:"generateBatchList",value:function(e){return mp(new Set(e)).join(",")}}])&&wp(t.prototype,n),r&&wp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Pp=["placementForTracking","trackUserSessionTime"];function Ap(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach((function(t){Rp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xp=q.setTimeout,Lp=new je;D("infiniteScrollManager",Lp);var Dp=function(e){e.safeIframe&&ntv.Tracking.Record()},Np=function(e){if(e){var t=e.gdprConsentUrl;t&&(q.breakOutIframe(),pt().then((function(e){q.appendImage(t+(e.consentString||"")+"&ntv_gdpr_version=".concat(e.apiVersion))})).catch((function(e){q.appendImage(t)})))}},jp=function e(t){var n=t.trackingCode;if(n){var r=ntv.query("body");r.length?r.append(n):xp((function(){return e(t)}),100)}},Vp=function(e){var t={};return e.passback&&(t.passback=e.passback),e.hb?_p({type:"hb",params:e.hb},t):e.s2s?_p({type:"s2s",params:e.s2s},t):void 0},Mp={useMraidViewability:function(e){e&&(fv.useMraidFlag=!0)}};function Up(e,t){try{var n=ntv.PostRelease.ampMode;!function(e){var t=e.placementForTracking,n=e.trackUserSessionTime,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r||ms()||!t||fv.sessionMgmt.initializeSession(t,n)}(e,n),e.responseId=q.generateUniqueId(1e7),q.runWhenDOMIsReady((function(){e.hasOwnProperty("smartLoading")||kp.init(e)})),ke.performance.sendResponsivenessRequest(e.placementForTracking,e.trackUserSessionTime),t||ke.performance.set("getResponse"),qv(e.responseId,e.tracking),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&t){var n=N("resposneFlags");n.set(e,Object.assign({},ae,t))}}(e.responseId,e.flags),function(e){if(null!=e)for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ip(n[t],2),i=r[0],o=r[1];Mp[i]&&Mp[i](o)}}(e.flags),Dp(e),r=e,Lp.setManagers(r),fv.useMraidFlag?function(e){if(ms()){rs=os.MRAID_ENV,(is=(new vs).getMraid()).registerEventListeners();var t=new Promise((function(e){"complete"===os.document.readyState?e():os.addEventListener("load",(function(){e()}))}));Promise.all([t,is.readyPromise()]).then((function(){e()})),os.ntv.Events.PubSub.subscribe("noAds",(function(){is.unload()}))}else q.postError(new Error("MRAID not detected. Skipping MRAID initialization.")),e()}(Fp.bind(this,e,n)):Fp(e,n)}catch(e){q.postError(e)}var r,i,o,a,s,c,l;o=(i=e).placements,a=i.isHeaderBidding,s=void 0!==a&&a,c=i.containsInfScrollPlacements,l=void 0!==c&&c,0!==o.length&&(!(0===o.filter((function(e){return e.ads&&e.ads.length})).length)||s||l||q.onDOMContentLoaded((function(){var e=o.length;q.firePubSubEvent("noAds",e),q.firePubSubEvent("noads",e)})))}function Fp(e,t){var n;Ff(e,t),jp(e),(n=Vp(e))&&n.params.adUnits&&n.params.adUnits.length&&At(n),function(e){var t=e.responseConsent;if(!t)return;sp(t),Np(t),!t.usPrivacyApplies||ep().catch((function(e){}))}(e)}function Bp(e){qv(e.setup.id,e.tracking);var t=e.tracking,n=t.placementForTracking,r=t.trackUserSessionTime,i=Ap(t,Pp);ke.performance.sendResponsivenessRequest(n,r),ke.performance.set("getResponse"),Dp(i),jp(i),Np(i),i.responseConsent.usPrivacyApplies&&ep().catch((function(e){}))}var Hp=function(e){e.isDFP=function(e){var t=fv.viewableImpressionTrackers,n=0,r=e.placementID+"-"+e.adID;if(t instanceof Array&&t.length)do{if(window.ntvToutAds&&r in window.ntvToutAds&&window.ntvToutAds[r].dfpType&&window.ntvToutAds[r].ParentCount)return!0}while(++n<t.length);return!1}(e),e.ampMode=fv.ampMode,function(e){q.adBlocker&&(e.playerCssUrl&&e.renderingParams&&e.renderingParams.cssUrl&&(e.renderingParams.cssUrl=e.renderingParams.cssUrl.replace("sharing-skin-v5.css","sharing-skin-v5.1.css")),e.iframeBody&&(e.iframeBody=e.iframeBody.replace(/ntvVideo/g,"prxVideo"),e.renderingParams.iframeTag&&(e.renderingParams.iframeTag=e.renderingParams.iframeTag.replace(/ntvVideo/g,"prxVideo")),ntv.query("iframe[id^='ntvVideo']").each((function(e,t){t.id=t.id.replace("ntv","prx")}))))}(e);var t,n=e.renderingParams,r=ntv.query,i=r(fv.topWindow.document).find("."+n.outerCssClass);if(0==i.size()&&(i=r(document).find("."+n.outerCssClass)),r(i).find("a.prx_viewable_title"+e.placementID).click((function(){e.titleClicked=!0})),r(i).find("a.ntv-headline-anchor"+e.placementID).click((function(){e.titleClicked=!0})),8==n.videoExecution){i.find(".ntv-play-overlay").remove(),q.adBlocker&&(n.previewImage=n.previewImage.replace(f.ASSETS_PREFIX+q.getServerDomain(),q.getServerDomain()));var o=n.previewImage;-1==n.previewImage.indexOf("fetch")&&(o=(o=n.previewImage.replace("//"+f.ASSETS_DOMAIN+"/","")).replace(/(^\w+:|^)/,""));var a=i.find("img[src*='"+o+"']");0==a.length&&(a=i.find("img[src*='"+encodeURIComponent(o)+"']")),a.length>1&&(a=r(a[0])),a.parent().parent().is("a")&&a.parent().parent().replaceWith(a.parent()),a.parent().is("a")&&a.parent().replaceWith(a),a.replaceWith(n.iframeTag)}var s=ntv.Video,c=s.Player,l=s.Render,u=s.Tracker;switch(e.playerType){case f.YOUTUBE_PLAYER:t=q.generateVideo(e,[c.YouTube,l.IFU,l.Skin,l.YouTubeSkin,l.Mobile],[s.Tracker.Nativo]);break;case f.NATIVO_PLAYER:case f.VAST_PLAYER:t=q.generateVideo(function(e){var t=e.captionUrl||"",n=ntv.query(e.iframeBody),r=n.find("video");return""!==t&&(r[0].setAttribute("crossorigin","anonymous"),r.append('<track kind="captions" src="'.concat(t,'" srclang="en" label="English">'))),e.iframeBody=n[0].outerHTML,e}(e),[c.Nativo,l.IFU,l.Skin,l.Mobile],[u.Nativo,u.MOAT])}fv.videoPlayers.push(t);var d=i.find("."+n.linkCssClass);t.clickedBeforeRendering=!1,d.map((function(){var e=r(this);q.isNotValidHeadlineLink(e)&&(e.click((function(){return t.clickedBeforeRendering=!0,!1})),e.css("cursor","pointer"))}))};function Wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qp(r.key),r)}}function qp(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Gp=new kf("ntvSession"),zp=["click","keypress","focus"],Yp=function(e,t,n){return"&"+f.USER_SESSION_ID+"="+e+"&"+f.SESSION_PL_ID+"="+t+q.buildExperimentUrl(n)},Qp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackUserSessionTime=!1,this.baseTrackingUrl=q.getBaseUrl()}var t,n,r;return t=e,(n=[{key:"initializeSession",value:function(e,t){this.requestNewSessionIfExpired(e,t),this.bindEvents()}},{key:"didSessionEnd",value:function(){var e=Gp.getData(),t=!e||!Object.keys(e).length,n=e&&(new Date).getTime()>=e.sessionEndDate,r=e&&(new Date).getTime()-e.lastInteraction>18e5;return!!t||!(!n&&!r)&&(this.recordSession(),!0)}},{key:"createSession",value:function(e,t){try{var n=new Date;localStorage.removeItem(Gp.name);var r=q.generateUniqueId(1e7),i=fv.setting.experiment||"";Gp.saveData({id:r,placementID:e,lastInteraction:n.getTime(),sessionStart:n.getTime(),sessionEndDate:new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getTime(),trackUserSessionTime:t,experiment:i}),q.appendImage(this.baseTrackingUrl+f.AT+"=394"+Yp(r,e,i))}catch(e){}}},{key:"recordSession",value:function(){if(Gp.getData().trackUserSessionTime){var e=Gp.getData(),t=e.lastInteraction-e.sessionStart,n=this.baseTrackingUrl+f.AT+"=395&"+f.USER_SESSION_DURATION+"="+t+Yp(e.id,e.placementID,e.experiment);q.appendImage(n)}}},{key:"bindEvents",value:function(){var e=this,t=function t(){q.debounce((function(){var n=Gp.getData(),r=n.placementID,i=n.trackUserSessionTime;e.requestNewSessionIfExpired(r,i)||(n.lastInteraction=(new Date).getTime(),Gp.saveData(n)),fv.internalPubSub.unsubscribe(l,t)}),200)};zp.forEach((function(e){document.addEventListener(e,t)})),fv.internalPubSub.subscribe(l,t)}},{key:"requestNewSessionIfExpired",value:function(e,t){return!!this.didSessionEnd()&&(this.createSession(e,t),!0)}}])&&Wp(t.prototype,n),r&&Wp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.open;n(e,t,"status=1,width=600,height=400")}var Xp=function(e){return Kp(e,"share_facebook")},Jp=function(e){return Kp(e,"share_twitter")},Zp=function(e){return Kp(e,"share_linkedin")},$p=function(e){return Kp(e,"share_google")},eh=function(e){return Kp(e,"share_pinterest")},th=function(e){return Kp(e,"share_stumbleupon")},nh=function(e,t){return window.location="mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(t)},rh={17000001:"permutive"};function ih(){if(!fv.setting||!fv.setting.customAudience)return"";var e=fv.setting.customAudience;if(Array.isArray(e)){var t="&".concat(f.CUSTOM_AUDIENCE_SEGMENTS,"=");return e.length<1?"":t.concat(e.join())}if(!e||!q.is("n",e)&&!q.is("s",e))return"";var n=function(e){var t=rh[e],n=t&&ntvConfig&&ntvConfig.keyValues&&ntvConfig.keyValues[t];if(n)return n.substr(1,n.length-2)}(e);return n?"&".concat(f.CUSTOM_AUDIENCE_VENDOR,"=").concat(e,"&").concat(f.CUSTOM_AUDIENCE_SEGMENTS,"=").concat(n):""}function oh(){if(!fv.setting||!fv.setting.liveRamp)return"";var e=function(){try{var e=decodeURIComponent(document.cookie.match("(^|;) *_lr_env=([^;]*)")[2]);return(e=JSON.parse(atob(e)).envelope||window.localStorage.getItem("_lr_env"))&&(e=[{source:"liveramp.com",uids:[{id:e,atype:1}]}]),e=JSON.stringify(e),e=btoa(e)}catch(e){q.postError(e)}}();return e?"&".concat(f.LIVE_RAMP_EIDS,"=").concat(e):""}function ah(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];fv.isPageScrollHandled||(e||sh(),fv.isPageScrollHandled=!0)}function sh(){if(!fv.isPageScrollHandled)try{q.getTopWindow().document.addEventListener("scroll",uh,!1),q.getTopWindow().document.addEventListener("ampScroll",uh,!1)}catch(e){}}function ch(e,t,n){void 0!==e&&null!=t&&null!=n&&n.scrollTo&&(!function(){try{q.getTopWindow().document.removeEventListener("scroll",uh,!1),q.getTopWindow().document.removeEventListener("ampScroll",uh,!1)}catch(e){}}(),setTimeout((function(){n.scrollTo(e,t),sh()}),0))}function lh(e,t,n,r){n-=r,fv.sdkAPI.viewportDimensions={width:window.screen?screen.width:window.clientWidth,height:e},fv.sdkAPI.scrollRect={x:0,y:n,left:0,top:n,right:0,bottom:n+e,width:0,height:t},fv.sdkAPI.contentOffsetY=n,fv.sdkAPI.contentHeight=t,dh()}var uh=q.debounce(dh,100);function dh(e){fv.internalPubSub.publish(l,e)}function fh(){var e=this;this.viewportDimensions={},this.scrollRect={},this.ext={scroll:lh},Object.defineProperty(this,"clientHeight",{get:function(){return e.viewportDimensions.height}}),Object.defineProperty(this,"scrollHeight",{get:function(){return e.viewportDimensions.height}})}function ph(){fv.internalPubSub.subscribe("tracking-fired-viewableImpression",(function e(){!function(e,t){if(window.webkit){return void window.webkit.messageHandlers[e].postMessage(t||"")}if(!window.nativoSDK)return;(0,window.nativoSDK[e])(t)}(hh.TRACKING_STOPPED),fv.internalPubSub.unsubscribe("tracking-fired-viewableImpression",e)}))}fh.prototype.getBoundingClientRect=function(){return{x:0,y:-this.contentOffsetY,left:0,top:-this.contentOffsetY,right:0,bottom:-this.contentOffsetY+this.viewportDimensions.height,width:0,height:this.contentHeight}};var hh={TRACKING_STOPPED:"stoptrack"};function vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mh(r.key),r)}}function mh(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function yh(e,t){return(yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wh(e);if(t){var i=wh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bh(this,n)}}function bh(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wh(e){return(wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yh(e,t)}(o,e);var t,n,r,i=gh(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this)}return t=o,(n=[{key:"publish",value:function(e,t){this.map.getPubSubscribers(e).forEach((function(n){"function"==typeof n&&n(new Event(e),t)}))}}])&&vh(t.prototype,n),r&&vh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(ho),Sh=window.win||window;ntv.events||(ntv.events=new Eh,"function"!=typeof Sh.Object.create&&(Sh.Object.create=function(e){function t(){}return t.prototype=e,new t}));var Th=q.getTopWindow().document,kh=Th.createElement("div"),Ph=[],Ah={PubSub:{subscribe(e,t){var n=this;(e=e.split(" ")).forEach((function(e){-1==(n.unpublishList||Ph).indexOf(e)&&(q.is(t,Array)?t.forEach((function(t){(n.univNode||kh).addEventListener(e,t,!1)})):(n.univNode||kh).addEventListener(e,t,!1))}))},unsubscribe(e,t){(this.univNode||kh).removeEventListener(e,t,!1)},publish(e,t){q.is("f",Event)&&"Event"==Event.prototype.constructor.name&&Event.hasOwnProperty("BUBBLING_PHASE")?this.publish=function(e,t){if(-1==(this.unpublishList||Ph).indexOf(e)){var n=new Event(e);n.data=t||{},(this.univNode||kh).dispatchEvent(n,t)}}:this.publish=function(e,t){if(-1==(this.unpublishList||Ph).indexOf(e)){var n=Th.createEvent("Event");n.data=t||{},n.initEvent(e,!0,!0),(this.univNode||kh).dispatchEvent(n,t)}},this.publish(e,t)},unpublish(e){Ph.push(e)}},SecurePubSub(){function e(){this.doc=q.getTopWindow().document,this.univNode=Th.createElement("div"),this.unpublishList=[]}return e.prototype.subscribe=Ah.PubSub.subscribe,e.prototype.unsubscribe=Ah.PubSub.unsubscribe,e.prototype.on=e.prototype.subscribe,e.prototype.publish=Ah.PubSub.publish,e.prototype.trigger=e.prototype.publish,new e},Types:{Player:{Publish:{Preroll:{ADHEADLINE_CLICK:"player:preroll:adHeadlineCick",VIDEO_END:"player:preroll:videoEnd",VIDEO_START:"player:preroll:videoStart",PROGRESS:"player:preroll:progress",PAUSE:"player:preroll:pause",CLICK:"player:preroll:click",CTA_CLICK:"player:preroll:ctaClick",VOLUME_CHANGE:"player:preroll:volumechange",IGNORE_FIRST_CLICK:"player:preroll:ignoreFirstclick",MUTE:"player:preroll:mute",UNMUTE:"player:preroll:unmute",RESUME:"player:preroll:resume",FULLSCREEN:"player:preroll:fullscreen",EXIT_FULLSCREEN:"player:preroll:exitFullscreen",PREROLL_FETCH_AD_REQUEST:"player:preroll:prerollAdRequest",PREROLL_FETCH_AD_RETURNED:"player:preroll:prerollAdReturned",PREROLL_FETCH_AD_CANCEL:"player:preroll:prerollAdCancel",PREROLL_FETCH_AD_ERROR:"player:preroll:prerollAdError",PREROLL_AD_CANCELED:"player:preroll:videoCanceled",PREROLL_AD_ERROR:"player:preroll:videoError",RESIZE:"player:preroll:resize",BUFFERING:"player:preroll:buffering"},Content:{ADHEADLINE_CLICK:"player:content:adHeadlineCick",VIDEO_END:"player:content:videoEnd",VIDEO_START:"player:content:videoStart",PROGRESS:"player:content:progress",PAUSE:"player:content:pause",CLICK:"player:content:click",VOLUME_CHANGE:"player:content:volumechange",IGNORE_FIRST_CLICK:"player:content:ignoreFirstclick",MUTE:"player:content:mute",UNMUTE:"player:content:unmute",RESUME:"player:content:resume",FULLSCREEN:"player:content:fullscreen",EXIT_FULLSCREEN:"player:content:exitFullscreen",RESIZE:"player:content:resize",BUFFERING:"player:content:buffering",CAN_PLAY:"player:content:canPlay",REPLAY:"player:content:replay"},General:{PLAYER_READY:"player:general:playerReady",USER_ACTIVE:"player:general:userAcitve",USER_INACTIVE:"player:general:userInacitve"}},Subscribe:{RENDER_VIDEO_PLAYER:"player:cmd:renderVideoPlayer",VOLUME_CHANGE:"player:cmd:volumeChange",SEEK:"player:seek",PLAY:"player:cmd:play",PAUSE:"player:cmd:pause",RESUME:"player:cmd:resume",RESET:"player:cmd:reset",MUTE:"player:cmd:mute",UNMUTE:"player:cmd:unmute",TOGGLE:"player:cmd:toggle",USER_ACTIVE:"player:cmd:userAcitve",USER_INACTIVE:"player:cmd:userInacitve",Preroll:{LEARN_MORE_CLICKED:"player:cmd:prerollLearnMorenClicked"},Content:{LEARN_MORE_CLICKED:"player:cmd:learnMorenClicked"},PREROLL_LEARN_MORE_CLICKED:"player:cmd:prerollLearnMorenClicked"}},Tracking:{Events:{Preroll:{ADHEADLINE_CLICK:"tracking:events:preroll:adheadlineCick",VIDEO_END:"tracking:events:preroll:videoEnd",VIDEO_START:"tracking:events:preroll:videoStart",PAUSE:"tracking:events:preroll:pause",CLICK:"tracking:events:preroll:click",CTA_CLICK:"tracking:events:preroll:ctaClick",VOLUME_CHANGE:"tracking:events:preroll:volumechange",IGNORE_FIRST_CLICK:"tracking:events:preroll:ignoreFirstclick",MUTE:"tracking:events:preroll:mute",UNMUTE:"tracking:events:preroll:unmute",RESUME:"tracking:events:preroll:resume",FULLSCREEN:"tracking:events:preroll:fullscreen",EXIT_FULLSCREEN:"tracking:events:preroll:exitFullscreen",PREROLL_FETCH_AD_REQUEST:"tracking:events:preroll:prerollAdRequest",PREROLL_FETCH_AD_RETURNED:"tracking:events:preroll:prerollAdReturned",PREROLL_FETCH_AD_CANCEL:"tracking:events:preroll:prerollAdCancel",PREROLL_FETCH_AD_ERROR:"tracking:events:preroll:prerollAdError",PREROLL_AD_CANCELED:"tracking:events:preroll:videoCanceled",PREROLL_AD_ERROR:"tracking:events:preroll:videoError"},Content:{ADHEADLINE_CLICK:"tracking:events:content:adheadlineCick",VIDEO_END:"tracking:events:content:videoEnd",VIDEO_START:"tracking:events:content:videoStart",PAUSE:"tracking:events:content:pause",CLICK:"tracking:events:content:click",VOLUME_CHANGE:"tracking:events:content:volumechange",IGNORE_FIRST_CLICK:"tracking:events:content:ignoreFirstclick",MUTE:"tracking:events:content:mute",UNMUTE:"tracking:events:content:unmute",RESUME:"tracking:events:content:resume",FULLSCREEN:"tracking:events:content:fullscreen",EXIT_FULLSCREEN:"tracking:events:content:exitFullscreen"}},Progress:{Preroll:{CUMULATIVE:"tracking:progress:preroll:cumulative",POSITION:"tracking:progress:preroll:position",PERCENTILE:"tracking:progress:preroll:percentile",USERACTIVECUMULATIVE:"tracking:progress:preroll:userActiveCumulative",CURRENT_TIME:"tracking:progress:preroll:currentTime"},Content:{CUMULATIVE:"tracking:progress:content:cumulative",POSITION:"tracking:progress:content:position",PERCENTILE:"tracking:progress:content:percentile",USERACTIVECUMULATIVE:"tracking:progress:content:userActiveCumulative",CURRENT_TIME:"tracking:progress:content:currentTime"}}},Modules:{EXECUTE:"modules:execute"},Skin:{READY:"skin:ready",INITIALIZED:"skin:initialized",UPDATE_INFO_BAR:"skin:updateInfoBar",SHOW_INFO_BAR:"skin:showInfoBar",HIDE_INFO_BAR:"skin:hideInfoBar",SHOW_CONTROL_BAR:"skin:showControlBar",HIDE_CONTROL_BAR:"skin:hideControlBar",SHOW_OVERLAY:"skin:showOverlay",HIDE_OVERLAY:"skin:hideOverlay",HIDE_ALL_OVERLAYS:"skin:hideAllOverlays",FULLSCREEN:"skin:fullscreen",EXIT_FULLSCREEN:"skin:exitFullscreen",HIDE_PREVIEW_IMAGE:"skin:hidePreviewImage",SHOW_VIDEO_END_IMAGE:"skin:showVideoEndImage",HIDE_VIDEO_END_IMAGE:"skin:hideVideoEndImage",INFO_BAR_CLICK:"skin:infoBarClicked",CLICK:"skin:click",PAUSE:"skin:pause",PREVIEW_IMAGE_CLICK:"skin:previewImageClick",RENDER_PREROLL_SKIN:"skin:renderPrerollSkin",REMOVE_PREROLL_SKIN:"skin:removePrerollSkin",PLAY:"skin:play",USER_ACTIVE:"skin:userActive",USER_INACTIVE:"skin:userInactive",RESUME:"skin:resume",INFO_BAR_SHOWN:"skin:infoBarShown",INFO_BAR_HIDDEN:"skin:infoBarHidden",OVERLAY_SHOWN:"skin:overlayShown",OVERLAY_HIDDEN:"skin:overlayHidden",PREVIEW_IMAGE_VIDEO_END_SHOWN:"skin:previewImageVideoEndShown",FULLSCREEN_CHANGED:"skin:fullScreenChanged",INFO_BUTTON_CLICKED:"skin:infoButtonClicked",CONTROLBAR_HIDDEN:"skin:controlbarHidden",CONTROLBAR_SHOWN:"skin:controlbarShown",PREVIEW_IMAGE_HIDDEN:"skin:previewImageHidden",ALL_OVERLAYS_HIDDEN:"skin:allOverlayHidden",PREROLL_SKIN_RENDERED:"skin:preRollSkinRendered",PREROLL_SKIN_REMOVED:"skin:preRollSkinRemoved",VIDEO_RESUMED:"skin:videoResumed",RESIZE:"skin:resize",TOGGLE_LEARN_MORE:"skin:toggleLearnMore",Preroll:{LEARN_MORE_CLICKED:"skin:prerollLearnMorenClicked"},Content:{LEARN_MORE_CLICKED:"skin:learnMorenClicked"},PREROLL_LEARN_MORE_CLICKED:"skin:prerollLearnMorenClicked",YouTube:{INITIALIZED:"skin:youTube:initialized",READY:"skin:youTube:ready"},Mobile:{INITIALIZED:"skin:mobile:initialized",READY:"skin:mobile:ready",MOBILE_SHARE_CLOSED:"skin:mobileShareClosed",MOBILE_SHARE_OPENED:"skin:mobileShareOpened",CLOSE_MOBILE_SHARE:"skin:closeMobileShare",OPEN_MOBILE_SHARE:"skin:openMobileShare"}},IFU:{READY:"ifu:ready",INITIALIZED:"ifu:initialized",EXPANDED:"ifu:expanded",COLLAPSED:"ifu:collapsed",TOGGLE_VIDEO:"ifu:toggleVideo",ANCHOR_CLICK:"ifu:anchorClick",COLLAPSE:"ifu:collapse",EXPAND:"ifu:expand",CLICK:"ifu:click",ADHEADLINE_CLICK:"ifu:adHeadlinClick"},Manager:{TOGGLE_VIDEO:"manager:toggleVideo",PLAY:"manager:play",RESUME:"manager:resume",PAUSE:"manager:pause",USER_ACTIVE:"manager:userActive",USER_INACTIVE:"manager:userInactive",PREVIEW_IMAGE_CLICK:"manager:previewImageClick",CLICK:"manager:click",MUTE:"manager:mute",UNMUTE:"manager:unmute",RESET:"manager:reset",ClEAN_UP:"manager:cleanUpRemainingLogic"}},Data:{PLAY_BUTTON:"player:button:play",PAUSE_BUTTON:"player:button:pause",SEEK_BAR:"player:button:seek",VOLUME_SLIDER:"player:slider:volume",MUTE_BUTTON:"player:button:mute",UNMUTE_BUTTON:"player:button:unmute",FULLSCREEN_BUTTON:"player:button:fullscreen",EXIT_FULLSCREEN_BUTTON:"player:button:exitFullscreen",INFO_BUTTON:"player:button:info"}};function Ih(e){return function(e){if(Array.isArray(e))return _h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Oh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ch(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Oh(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oh(e,t){if(e){if("string"==typeof e)return _h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_h(e,t):void 0}}function _h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.freeze(Ah);var Rh="".concat("https://s.ntv.io","/iframes/modalContent.html"),xh="#ntv-lightbox",Lh='\n  <link href="//s.ntv.io/css/clp2.css?v=4.2.8.4" type="text/css" rel="stylesheet">\n  <style>\n    #ntv-content-modal {\n      background-color: rgba(255,255,255,1);\n      width: 100%;\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 2147483647;\n      height: 100vh;\n      overflow-y: scroll;\n\n      display: block;\n      opacity: 1;\n      transition: opacity 0.3s, display 0.3s;\n      font-family: Arial, Helvetica, sans-serif;\n      font-size: 16px;\n    }\n\n    #ntv-content-modal.'.concat("hidden"," {\n      display: none;\n      opacity: 0;\n      will-change: opacity;\n    }\n  </style>\n"),Dh='\n  <div id="ntv-content-modal" class="'.concat("hidden",'"></div>\n');Wd((function(){var e,t=Ch(window.document.getElementsByClassName("ntv-amp-ad"));try{for(t.s();!(e=t.n()).done;){var n,r=Ch(e.value.getElementsByTagName("a"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.getAttribute("onclick");o&&o.includes("PostRelease.OpenContentModal")&&i.removeAttribute("target")}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}}));var Nh=function(){var e,t=function(){var e=window.location.hash.replace(xh,""),t=[],n=N("adsMap");if(void 0!==n)if(e.length>0){var r=n.get(e);r&&t.push(r)}else{var i,o=Ch(n.getNumEntries());try{for(o.s();!(i=o.n()).done;){var a=i.value;t.push(n.get(a))}}catch(e){o.e(e)}finally{o.f()}}return 0===t.length&&t.push(document),t}(),n=Ch(t);try{for(n.s();!(e=n.n()).done;){var r,i=Ch(e.value.querySelectorAll("a"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.getAttribute("onclick");if(a&&a.includes("PostRelease.OpenContentModal"))return void o.click()}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}};function jh(e){if(ms()){var t=Bh(e.adPlacementId);is.expand(null==t?void 0:t.sdkUrl)}else if(!ntv.contentModal||!ntv.contentModal.state.open){void 0===ntv.storedModals&&(ntv.storedModals={}),void 0===ntv.forwardModalCallback&&(ntv.forwardModalCallback=function(e){ntv.contentModalHash&&(window.location.hash=ntv.contentModalHash,delete ntv.contentModalHash),q.getUrlVars().hash.includes(xh)&&Nh()},addEventListener("popstate",ntv.forwardModalCallback));var n=e.clickTracker,r=e.adPlacementId,i=e.selector,o=e.context,a=e.event,s=e.useIframe,c=void 0!==s&&s,l=e.renderOnTop,u=void 0!==l&&l,d=e.HeaderBuffer,f=e.CopyStyles,p=e.MaxIndex,h=e.SeparateContext;o.href="javascript:;";var v=n.indexOf("ntv_at="),m=n.substring(0,v+"ntv_at=".length)+"2"+n.substring(v+"ntv_at=".length+1);q.appendImage(m);var y=null==a?void 0:a.target;if(r in ntv.storedModals){ntv.contentModal=ntv.storedModals[r],ntv.contentModal.state.ad=y;var g=q.getTopWindow().document;ntv.contentModal.state.pageTitle=g.title,ntv.contentModal.resumeArticleTracking()}else{var b=Bh(r);if(!b)return;ntv.contentModal=new Uh({selector:i,renderOnTop:u,HeaderBuffer:d,SeparateContext:h,CopyStyles:f,MaxIndex:p,type:c?"iframe":"standard",ad:y}),ntv.storedModals[r]=ntv.contentModal,ntv.contentModal.state.adPlacementId=r,function(e,t,n){if(r=t,null!==(i=r.dataset)&&void 0!==i&&i.ntvFired)return;var r,i;e&&q.appendImage(e);Zh(n,t),Jh(t)}(n,o,b),ntv.contentModal.buildContentFromCachedData(b)}setTimeout((function(){var e,t;e=ntv.contentModal.modal,(t=e.querySelector(".ntv_share"))&&t.remove(),ntv.contentModal.open()}),0)}}function Vh(){ntv.contentModal&&(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(e.location&&e.location.toString){var t=e.location.toString();if(t.indexOf("#")>0){var n=t.substring(0,t.indexOf("#"));e.history.replaceState({},document.title,n)}}}(window),ntv.contentModal.close())}function Mh(e){return"string"==typeof e&&(e=function(e){var t;switch(null==e||null===(t=e.toLowerCase())||void 0===t?void 0:t.trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:case void 0:return!1;default:return JSON.parse(e)}}(e)),e}function Uh(e){var t=e.selector,n=e.renderOnTop,r=e.type,i=e.zIndex,o=e.ad,a=e.MaxIndex,s=e.HeaderBuffer,c=e.SeparateContext,l=e.CopyStyles,u=e.filterDuplicates;this.topWin=q.getTopWindow(),this.topDoc=this.topWin.document;var d,f={iframe:this.createModalIframe,standard:this.createModalElement};a=Mh(a),s=Mh(s),c=Mh(c),l=Mh(l),this.state={open:!1,hasContent:!1,adPlacementId:void 0,tracker:void 0,headerSelector:void 0,bodyPosition:void 0,bodyWidth:void 0,pageTitle:this.topDoc.title,articleTitle:void 0,wrapperFragmentFound:!1,renderOnTop:n,zIndex:i,ad:o,maxIndex:a,copyStyles:l,separateContext:c,headerBuffer:s,filterDuplicates:u},t=this.processSelector(t),this.state.headerSelector=t,this.injectionNode=function(e,t){return e&&""!==e.trim()&&"@selector"!==e.trim()&&(q.domQuery(e,t)||q.domQuery(e,document))||q.domQuery("body",t)}(t,this.topWin.document),this.injectionMode="afterend",this.injectionNode===this.topWin.document.body&&(t="",this.injectionMode="beforeend"),this.state.headerSelector&&this.state.separateContext&&(this.state.renderOnTop=!0);do{var p;null===(p=d=this.topDoc.getElementById("ntv-content-modal"))||void 0===p||p.remove()}while(d);if(this.topDoc.head.insertAdjacentHTML("beforeend",Lh),t){this.state.header=this.topDoc.querySelector(t);var h=function(e){var t={computed:{},current:{}},n=q.getTopWindow(),r=document.createElement("div");return zh((function(e){t.computed[e]=r.style,t.current[e]=r.style;var i=n.getComputedStyle(e);Array.from(i).forEach((function(n){t.computed[e].setProperty(n,i.getPropertyValue(n),i.getPropertyPriority(n))})),t.current[e]=e.style}),e),t}(this.state.header);this.state.computedHeaderStyles=h.computed,this.state.oldHeaderStyles=h.current}this.state.renderOnTop&&(this.moveInjectionNodeInit(),this.moveInjectionNodeToTop()),this.injectionNode.insertAdjacentHTML(this.injectionMode,Dh),this.preventHashMovement=this.preventHashMovement.bind(this),this.modal=this.injectionNode.parentElement.querySelector("#ntv-content-modal"),this.state.header&&(this.state.maxIndex||(this.injectionNode.style.zIndex?this.modal.style.setProperty("z-index",this.injectionNode.style.zIndex,"important"):this.modal.style.setProperty("z-index","auto","important")),this.modal.style.setProperty("position","relative","important")),this.modal.addEventListener("scroll",Yh,!1),this.type=r,this.creationMethod=f[r],this.hashRemovalDetector=new Fh({hash:"#",context:this.topWin,callback:this.close.bind(this)}),this.lockBodyScrolling=this.lockBodyScrolling.bind(this),this.unlockBodyScrolling=this.unlockBodyScrolling.bind(this)}function Fh(e){var t=e.hash,n=e.callback,r=e.context,i=void 0===r?window:r;function o(e){-1!==e.oldURL.indexOf(t)&&n&&n()}return{enable:function(){i.addEventListener("hashchange",o,!1)},disable:function(){i.removeEventListener("hashchange",o,!1)}}}function Bh(e){if(window.ntvToutAds&&window.ntvToutAds[e])return window.ntvToutAds[e];var t=q.getTopWindow();return t.ntvToutAds&&t.ntvToutAds[e]?t.ntvToutAds[e]:void 0}q.getUrlVars().hash.includes(xh)&&Wd(Nh),Uh.prototype.moveInjectionNodeInit=function(){this.placeholder=this.topDoc.createElement("div"),this.injectionNodeSavedPosition=this.injectionNode.style.position,this.injectionNodeSavedZIndex=this.injectionNode.style.zIndex,this.dummyBody=this.topWin.document.createElement("div"),this.dummyBody.style.width="100vw",this.dummyBody.style.height="100vh",this.dummyBody.style.backgroundColor="white"},Uh.prototype.moveInjectionNodeToTop=function(){this.injectionNode.replaceWith(this.placeholder),this.state.header&&this.state.copyStyles&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["font-family","font-size","font-style","color"];zh((function(t){var r=e[t];r&&(t.savedStyle={},n?n.forEach((function(e){r[e]&&(t.savedStyle[e]={value:t.style.getPropertyValue(e),priority:t.style.getPropertyPriority(e)},t.style.setProperty(e,r.getPropertyValue(e),r.getPropertyPriority(e)))})):Array.from(r).forEach((function(e){t.savedStyle[e]={value:t.style.getPropertyValue(e),priority:t.style.getPropertyPriority(e)},t.style.setProperty(e,r.getPropertyValue(e),r.getPropertyPriority(e))})))}),t)}(this.state.computedHeaderStyles,this.state.header),this.dummyBody.prepend(this.injectionNode),this.topWin.document.head.after(this.dummyBody),this.injectionNode.style.zIndex="2147483647",this.injectionNode.style.position="relative"},Uh.prototype.moveInjectionNodeBack=function(){this.injectionNode.style.zIndex=this.injectionNodeSavedZIndex,this.injectionNode.style.position=this.injectionNodeSavedPosition,this.placeholder.replaceWith(this.injectionNode),this.dummyBody.remove(),this.state.header&&zh((function(e){e.savedStyle&&Array.from(e.savedStyle).forEach((function(t){e.style.setProperty(t,e.savedStyle.value,e.savedStyle.priority)}))}),this.state.header)},Uh.prototype.processSelector=function(e){return e.includes("%")&&(this.state.renderOnTop=!0),e=e.replace(/%/g,"")},Uh.prototype.buildContentFromCachedData=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.tracking,r=e.placementId,i=q.getTopWindow();i.document;i.ntvContentModalFragments||(i.ntvContentModalFragments=[]);var o,a={id:r,injectionMode:2,ads:[e],tracking:n,type:0},s=!1,c=Ch(a.ads);try{for(c.s();!(o=c.n()).done;){var l=o.value;l.articleTemplate.fragments&&l.articleTemplate.fragments.length>0&&"WRAPPER"===l.articleTemplate.fragments[0].Type&&(s=!0),l.articleTemplate.fragments=Gh(l.articleTemplate.fragments),t&&(l.articleTemplate.fragments=l.articleTemplate.fragments.filter((function(e){var t,n=!1,r=Ch(i.ntvContentModalFragments);try{for(r.s();!(t=r.n()).done;){if(Wh(t.value,e)){n=!0;break}}}catch(e){r.e(e)}finally{r.f()}return!n&&(i.ntvContentModalFragments.push(e),!0)})))}}catch(e){c.e(e)}finally{c.f()}return{placements:[a],placementForTracking:r,usp:1,isWebview:!1,wrapperFragmentFound:s}}(e,this.state.filterDuplicates);this.state.wrapperFragmentFound=t.wrapperFragmentFound,this.setArticleIdentification(t),this.creationMethod(t),setTimeout(this.processCerosIframes.bind(this)(),0),this.state.hasContent=!0},Uh.prototype.processCerosIframes=function(){var e=this,t=new MutationObserver((function(){var n=e.modal.getElementsByClassName("ceros-experience"),r=(n=Ih(n)).length,i=0,o={};e.modal.addEventListener("scroll",(function t(){var a,s=Ch(n);try{for(s.s();!(a=s.n()).done;){var c=a.value;q.getElementViewability(c).visible&&!o[c]&&(o[c]=!0,c.replaceWith(c),i++)}}catch(e){s.e(e)}finally{s.f()}i>=r&&e.modal.removeEventListener("scroll",t)})),t.disconnect()}));t.observe(this.modal,{attributes:!1,childList:!0,subtree:!0})},Uh.prototype.createModalElement=function(e){var t=this,n=function(){var e,n,r,i=t.modal.querySelector("#ntv-content-modal-close-btn");if(i&&(i.setAttribute("onclick","PostRelease.CloseContentModal()"),i.style.zIndex="2147483647",i.style.setProperty("color","black","important"),i.style.setProperty("top","".concat(20,"px"))),t.state.header){var o=t.modal.querySelector("#ntv-content-modal-header-buffer"),a=t.modal.querySelector("#ntv-content-modal-head"),s=t.modal.querySelector("#ntv-content-modal-body-wrapper");if(t.state.headerBuffer){for(var c=0,l=t.state.header;l;)isNaN(l.offsetHeight)||l.style&&"hidden"===l.style.visibility||(c+=l.offsetHeight),l=l.previousSibling;for(var u=0,d=t.state.header;d;)isNaN(d.offsetHeight)||d.style&&"hidden"===d.style.visibility||(u+=d.offsetHeight),d=d.nextSibling;var f=c<u?c:u;i.style.setProperty("top","".concat(20+f,"px"),"important"),o.style.height=f+20+"px";var p=t.topWin.getComputedStyle(t.state.header);!p||"fixed"!==p.position&&"sticky"!==p.position||(o.remove(),a.append(o))}var h=t.modal.querySelector("#ntv-content-modal-title");!h||(e=i,n=h.getBoundingClientRect(),r=e.getBoundingClientRect(),n.right<r.left||n.left>r.right||n.bottom<r.top||n.top>r.bottom)||(s.style.paddingTop="".concat(i.clientHeight+5,"px"))}var v=t.modal.querySelector("#ntv-content-modal-sidebar");v&&(v.style.width="100%",v.style.height="100%");var m=t.modal.querySelector("#ntv-content-modal-topbar");m&&(m.style.width="100%",m.style.height="100%");var y=t.modal.querySelector("#ntv-content-modal-footer");y&&(y.style.width="100%",y.style.height="100%")};this.state.wrapperFragmentFound?setTimeout(n.bind(this),100):(this.modal.insertAdjacentHTML("beforeend",'\n  <style>\n    .ntv-content-modal-top-bar {\n      display: flex;\n      flex-direction: row;\n      font-size: 0.9em;\n\n      position: fixed;\n      right: 0;\n      top: 10px;\n\n      background-color: rgba(255, 255, 255, 0.50);\n\n      z-index: 1;\n    }\n\n    .ntv-content-modal-top-bar-title {\n      flex-grow: 1;\n    }\n\n    .ntv-content-modal-close-btn {\n      flex-grow: 0;\n      cursor: pointer;\n\n      display: flex;\n      align-items: center;\n      padding-right: 10px;\n      margin-right: 5px;\n      font-family: "Roboto", Arial, Helvetica, sans-serif;\n\n      position: fixed;\n      right: 0;\n\n      box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.2);\n      border: solid 1px #c2c2c2;\n      background-color: rgba(243, 243, 243, 0.8);\n      border-radius: 2px;\n\n      z-index: 1;\n    }\n\n    .ntv-content-modal-close-btn-label {\n      margin: 10px 0px 10px 10px;\n    }\n\n    .ntv-content-modal-close-btn svg {\n      width: 20px;\n      height: 20px;\n      margin: 5px;\n    }\n\n    .ntv-content-modal-close-btn path {\n      fill: #000000;\n    }\n\n    #ntv-content-modal-body-wrapper {\n      display: flex;\n      flex-direction: column;\n      padding: 16px;\n    }\n\n    #ntv-content-modal-header-buffer {\n      display: block;\n      width: 100%;\n    }\n\n    @media screen and (min-width: 769px) {\n      .ntv-content-modal-close-btn {\n        margin-right: 34px;\n      }\n\n      #ntv-content-modal-body-wrapper {\n        display: grid;\n        grid-template-columns: auto 300px;\n        grid-column-gap: 30px;\n        grid-template-rows: auto;\n        grid-template-areas:\n        "topbar topbar"\n        "body sidebar"\n        "footer footer"\n        "buffer buffer";\n        max-width: 1200px;\n        margin: auto;\n      }\n\n      #ntv-content-modal-topbar-container {\n        grid-area: topbar;\n        margin-bottom: 20px;\n      }\n\n      #ntv-content-modal-topbar {\n        width: 100%;\n        height: 100%;\n      }\n\n      #ntv-content-modal-body {\n        grid-area: body;\n      }\n\n      #ntv-content-modal-sidebar-container {\n        grid-area: sidebar;\n      }\n\n      #ntv-content-modal-sidebar {\n        width: 100%;\n        height: 100%;\n      }\n\n      #ntv-content-modal-footer-container {\n        grid-area: footer;\n      }\n\n      #ntv-content-modal-footer {\n        width: 100%;\n        height: 100%;\n      }\n\n      #ntv-content-modal-header-buffer {\n        grid-area: buffer;\n      }\n\n      #ntv-content-modal-body {\n        max-width: 100%;\n      }\n    }\n  </style>\n\n  <div id="ntv-content-modal-head"></div>\n    \x3c!------------------ CLOSE ICON START ------------------\x3e\n    <div id=\'ntv-content-modal-close-btn\' class=\'ntv-content-modal-close-btn\'>\n     <div class="ntv-content-modal-close-btn-label">CLOSE</div>\n      <?xml version="1.0"?>\n      <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg\n        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="512px" id="Layer_1"\n        style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px"\n        xml:space="preserve">\n        <path\n          d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z" />\n      </svg>\n    </div>\n    \x3c!------------------ CLOSE ICON END ------------------\x3e\n  <div id="ntv-content-modal-body-wrapper">\n    <div id="ntv-content-modal-topbar-container">\n      <div id="ntv-content-modal-topbar"></div>\n    </div>\n    <div id="ntv-content-modal-body"></div>\n    <div id="ntv-content-modal-sidebar-container">\n      <div id="ntv-content-modal-sidebar"></div>\n    </div>\n    <div id="ntv-content-modal-footer-container">\n      <div id="ntv-content-modal-footer"></div>\n    </div>\n    <div id="ntv-content-modal-header-buffer"></div>\n  </div>\n'),n());var r=this.topDoc.querySelector("title");if(r){var i=new MutationObserver((function(){t.state.articleTitle=t.topDoc.title,i.disconnect()}));i.observe(r,{childList:!0})}Up(e)},Uh.prototype.createModalIframe=function(e){var t=this;this.iframe=document.createElement("iframe"),this.iframe.src="".concat(Rh,"?ntvModalId=").concat(this.adPlacementId),this.modal.append(this.iframe),this.iframe.addEventListener("load",(function(){t.iframeWindow=t.iframe.contentWindow;var n={action:"content",data:e};t.iframeWindow.postMessage(JSON.stringify(n),"https://s.ntv.io")})),this.topWin.addEventListener("message",(function(e){if("https://s.ntv.io"===e.origin){var t=function(e){try{return JSON.parse(e)}catch(e){return{}}}(e.data),n=t.action,r=t.id;Hh.hasOwnProperty(n)&&Hh[n](r)}}))},Uh.prototype.setArticleIdentification=function(e){var t=e.placements[0].ads[0];this.adId=t.id,this.articleTrackerName="ntvAT".concat(t.id)},Uh.prototype.clearArticleIdentification=function(){this.adId=void 0,this.articleTrackerName="ntvAT".concat(void 0)},Uh.prototype.preventHashMovement=function(e){e.preventDefault(),window.location.hash="".concat(xh).concat(this.state.adPlacementId)},Uh.prototype.open=function(){var e=this;this.state.hasContent&&(this.state.preventClose=!0,setTimeout((function(){e.state.preventClose=!1}),500),this.topWin.addEventListener("hashchange",this.preventHashMovement),this.state.articleTitle&&(this.topDoc.title=this.state.articleTitle),ch(0,0,this.modal),document.body.style.overflow="hidden",this.modal.classList.remove("hidden"),this.state.open=!0,this.scrollPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return{x:e.scrollX,y:e.scrollY}}(this.topWin),this.pageHeight=this.topDoc.body.scrollHeight,this.topWin.scrollTo({left:0,top:0,behavior:"instant"}),this.lockBodyScrolling(),q.getUrlVars().hash.includes(xh)||this.topWin.history.pushState({type:xh},"","".concat(window.location.toString()).concat(xh).concat(this.state.adPlacementId)),this.hashRemovalDetector.enable(),this.state.header&&(this.state.headerMarginBottomSaved=this.state.header.style.marginBottom,this.state.header.style.marginBottom="0px"),this.state.renderOnTop&&(this.bodyDisplaySaved=this.topDoc.body.style.display,this.topDoc.body.style.display="none",this.state.afterFirstOpen?this.moveInjectionNodeToTop():this.state.afterFirstOpen=!0))},Uh.prototype.close=function(){var e=this;if(this.state.open&&!this.state.preventClose){this.topWin.removeEventListener("hashchange",this.preventHashMovement);var t=function(){ntv.contentModalHash=window.location.hash,document.body.style.overflow="auto",e.topDoc.title=e.state.pageTitle,e.modal.classList.add("hidden"),e.stopArticleTracking(),e.state.open=!1,e.hashRemovalDetector.disable(),e.state.header&&(e.state.header.style.marginBottom=e.state.headerMarginBottomSaved),e.state.renderOnTop&&(e.topDoc.body.style.display=e.bodyDisplaySaved,e.moveInjectionNodeBack())};if(this.unlockBodyScrolling(),this.state.ad){var n,r,i,o=this.modal.style.position;this.modal.style.position="fixed",this.state.header&&(n=this.modal.style.top,r=this.state.header.style.position,i=this.state.header.style.top,this.modal.style.top="".concat(this.state.header.offsetHeight,"px"),this.state.header.style.position="sticky",this.state.header.style.top="0px"),hi(this.state.ad,[],this.topDoc,{initialTimeout:1,startWaitTime:0,scrollIncrement:200,timeoutThreshold:1,lastTimeout:100,isPreview:!0}).then((function(){t(),e.modal.style.position=o,e.state.header&&(e.modal.style.top=n,e.state.header.style.position=r,e.state.header.style.top=i)}))}else this.topWin.scrollTo({top:this.topDoc.body.scrollHeight-this.pageHeight+this.scrollPosition.y,left:this.scrollPosition.x,behavior:"instant"}),t()}},Uh.prototype.resumeArticleTracking=function(){var e=this.state.tracker;e&&(window[this.articleTrackerName]=e,e.disabled=!1,e.resume(),e.onArticleExpand())},Uh.prototype.stopArticleTracking=function(){var e=window[this.articleTrackerName];e&&(this.state.tracker=e,e.onArticleCollapse(),e.stop(),window[this.articleTrackerName]=void 0)},Uh.prototype.clearContent=function(){if(this.state.hasContent){for(;this.modal.children.length;)this.modal.children[0].remove();this.state.hasContent=!1}},Uh.prototype.lockBodyScrolling=function(){var e=q.getTopWindow().document.body.parentElement;this.state.bodyPosition=e.style.position,this.state.bodyWidth=e.style.width,e.style.setProperty("position","fixed","important"),e.style.width="100vw"},Uh.prototype.unlockBodyScrolling=function(){var e=q.getTopWindow().document.body.parentElement;e.style.position=this.state.bodyPosition,e.style.width=this.state.bodyWidth};var Hh={close:Vh};function Wh(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=e[n[i]],a=t[n[i]],s=qh(o)&&qh(a);if(s&&!Wh(o,a)||!s&&o!==a)return!1}return!0}function qh(e){return null!=e&&"object"==typeof e}function Gh(e){var t,n=Ch(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r&&(r.Selector&&!r.Selector.includes("#ntv-content-modal")&&(r.Selector="#ntv-content-modal ".concat(r.Selector)))}}catch(e){n.e(e)}finally{n.f()}var i=function(e){return e&&e.Type&&("TOP"===e.Type||"RIGHTRAIL"===e.Type||"BOTTOM"===e.Type)?1:0};return e.sort((function(e,t){return i(e)-i(t)})),e}function zh(e,t){e(t);var n,r=Ch(t.children);try{for(r.s();!(n=r.n()).done;){zh(e,n.value)}}catch(e){r.e(e)}finally{r.f()}}var Yh=q.debounce((function(e){fv.internalPubSub.publish(d,e)}),100);var Qh=q.setTimeout;q.getTopWindow();function Kh(e,t,n){var r=function(e){if(e.dataset.ntvClickTracker){var t=e.dataset.ntvClickTracker;return delete e.dataset.ntvClickTracker,t}return e.href}(t),i=q.getWindow(t)||window;if(ms())null!=(null==e?void 0:e.sdk)?is.expand(e.sdkUrl):is.open(r);else if(e.obfuscateTracking){var o="<script>window.open(".concat(r,", '_blank')<\/script>");ntv.Tracking.Record(o)}else{if(n&&n.preventDefault(),t.target)return void i.open(r,t.target);switch(q.resolveIframeType(t)){case f.IFRAME_TYPES.FRIENDLY:tv(t,fv.topWindow.document.domain);break;case f.IFRAME_TYPES.SAFE_NO_API:case f.IFRAME_TYPES.SAFE_W_API:t.target="_blank"}i.open(r,t.target||"_top")}}function Xh(e,t,n,r){var i,o,a=zv(r),s=(n.attributes["sync-tracking"]||{}).value,c=a?a.toutClick3rdPartyTracking:[],l=event||((null===(i=top)||void 0===i?void 0:i.event)||fv.topWindow.event),u=l.type;if(s){if(n.isClicked)return;"_blank"!=n.target&&n.addEventListener("click",(function(e){e.preventDefault()}));var d=!1,p=0;n.isClicked=!0,l&&l.preventDefault(),c.push(s);var h=c.length,v=function(){++p===h&&(d=!0,n.href=e,Kh(a,n,l))};c.forEach((function(e){q.appendIframe(e,v)})),Qh((function(){d||(n.href=e,Kh(a,n,l))}),2e3)}else{if(n.dataset.ntvFired)return void("click"==u&&Kh(a,n,l));switch(u){case"onclick":case"click":if(r&&a){Jh(n),Zh(a);var m=n.getAttribute("ntv-click-bypass");if(m)return void q.appendImage(m,a.obfuscateTracking);Kh(a,n,l)}return!1;default:var y=t?e+(q.isOnFocus()?"":"&"+f.FRAUD):e,g=this.clickThrough?y.replace(/@redirectUrl/gi,this.clickThrough):y;-1===(null===(o=n.href)||void 0===o?void 0:o.indexOf("tel:"))?n.dataset.ntvClickTracker=y:(n.setAttribute("target","_self"),n.setAttribute("ntv-click-bypass",g))}}}function Jh(e){e&&e.setAttribute&&e.setAttribute("data-ntv-fired",!0)}function Zh(e,t){var n=e.toutClick3rdPartyTracking,r=e.obfuscateTracking;if(n)for(var i=0;i<n.length;i++)q.appendImage(n[i],r);if(t&&t.attributes){var o=(t.attributes["sync-tracking"]||{}).value;q.appendIframe(o,(function(){}))}}function $h(e,t,n,r,i){var o;if(e&&(!e.hasOwnProperty("length")||0!==e.length)){e=q.toDomElement(e),t=q.toDomElement(t);var a=n+"-"+r;null!==(o=e)&&void 0!==o&&o.insertBefore&&(e.insertBefore(t.parentNode,e.childNodes[0]),t.style.position="absolute",t.style.zIndex="9998",t.classList.add(a),t.style.right="0px",t.style.top="0px",Qh((function(){return t.style.visibility="visible"}),5e3),"undefined"==!i&&(ntv.query(window).on(" ready load resize",$h(e,t,n,r,!0)),ntv.query(e).ready((function(){return $h(e,t,n,r,!0)})),ntv.query(document).ready((function(){return $h(e,t,n,r,!0)})),Qh((function(){"undefined"!=ntv.PostRelease.adChoiceTracksNodeCount&&document.body.children.length==ntv.PostRelease.adChoiceTracksNodeCount||(ntv.PostRelease.adChoiceTracksNodeCount=document.body.children.length,$h(e,t,n,r,!0))}),150)))}}var ev=function(e,t){e&&e.length&&e.length>0&&e.forEach((function(e){tv(e)}))},tv=function(e,t){if(e.hasAttribute&&!e.hasAttribute("ntv-force-target")){var n=q.extractDomain(q.getQS("ntv_r","",e.href));n||(n=q.extractDomain(e.href)),e.setAttribute("aria-label","3rd party ad, opens in a new window"),(t||document.domain).indexOf(n)>=0?e.setAttribute("target","_top"):e.setAttribute("target","_blank")}};function nv(e){this.infScrollReset=!1,e&&e instanceof Object&&(this.infScrollReset=e.infScrollReset||!1,delete e.infScrollReset);var t=!!this.setting.adversionplacementid;this.ampMode=this.setting.ampMode,this.requestUrl=this.setting.requestUrl,fv.inventoryTrackersHistory={},fv.inventoryTrackers=[],fv.viewableImpressionTrackers=[],fv.adsMap={},this.setting.makeAdRequest||ms()?(!function(e,t){var n=function(e,t){return ye(e,function(e){var t="";if(void 0!==e)for(var n in e)t+="&ntv_"+n+"="+e[n];return t}(t))}(fv.setting,e);ip().then((function(e){fv.setting.usprivacy=e,function(e,t,n,r){var i=e.ampMode&&e.requestUrl&&document.referrer.toString().includes(e.requestUrl)?document.referrer:e.requestUrl.toString();if(r&&r.length>0&&(i=q.removeQueryKeyValuePairs(r,i)),0===i.indexOf("http://webcache.googleusercontent.com"))try{i=q.domQuery("div#google-cache-hdr div a").href}catch(e){}var o=q.getServerDomain(),a="https://".concat(o,"/t?");a+="".concat(f.REQ_URL_NTV,"=").concat(encodeURIComponent(i)),a+=t,a+=q.attachFirstPartyCookieQS(n),a+=e.usprivacy?"&".concat(f.US_PRIVACY,"=").concat(e.usprivacy):"",a+=void 0!==e.oos?"&".concat(f.OPT_OUT_SOURCE,"=").concat(e.oos):"",a+=ih()||"",a+=fv.floc.buildFlocQS(),a+=fv.setting.recordEngagements?"":"&prx_ro=s",a+=oh()||"",q.appendScript(a,(function(){})).addEventListener("error",(function(){q.firePubSubEvent("adRequestError")})),ke.performance.set("sendRequest")}(fv.setting,n,fv.firstPartyCookie,t)}))}(e,this.setting.measurement?[f.ARTICLE_TMPL,f.AVP]:[]),this.setting.measurement&&ntv.Tracking.startTrackingArticle(we(this.setting))):t&&ntv.Tracking.startTrackingArticle(we(this.setting))}var rv={ADVERTISER:0,CAMPAIGN:1,AD:2,NO_FILTERING:4},iv={[rv.ADVERTISER]:function(e){fv.advertisersToFilter.indexOf(e)<0&&fv.advertisersToFilter.push(e)},[rv.CAMPAIGN]:function(e){fv.campaignsToFilter.indexOf(e)<0&&fv.campaignsToFilter.push(e)},[rv.AD]:function(e){fv.adsToFilter.indexOf(e)<0&&fv.adsToFilter.push(e)}},ov={[rv.ADVERTISER]:"advertiserId",[rv.CAMPAIGN]:"campaignId",[rv.AD]:"adId"},av=function(e){var t=e.filteringLevel;if(ov[t]){var n=e[ov[t]];sv(n)&&n&&cv(t,n)}},sv=function(e){return q.is("s",e)||q.is("n",e)},cv=function(e,t){iv[e]&&iv[e](t)};function lv(e){m(f.NTV_UID,e,365)}function uv(){m(f.NTV_UID,"",-1)}function dv(e){fv.executeShares&&"function"==typeof fv.executeShares[e]&&fv.executeShares[e]()}var fv=ntv.PostRelease||new function(){try{this.setting=be(),this.ntvUrlVars=q.getUrlVars(),this.firstPartyCookie=y(f.NTV_UID),this.adsToFilter=[],this.campaignsToFilter=[],this.advertisersToFilter=[],this.viewableImpressionTrackers=[],this.videoViewableTrackers=[],this.inventoryTrackers=[],this.videoPlayers=[],this.articleCache=N("articles"),this.ampMode=!1,this.requestUrl="",this.referencePlacementPositions=[],this.inventoryTrackersHistory={},this.thirdPartyJSViewableImpTrackers=[],this.viewableWhiteList={},this.isPreviewReq="s"===q.getQS(f.REQ_OPTIONS),this.InsertAd=Vd,this.PlacementResponseCache={},this.LazyRenderPlacement=Hd,this.postRender=Bd,this.articlePostRender=jf,this.activateISI=mi,this.CloseContentModal=Vh,this.getTopWindow=q.getTopWindow,this.topWindow=q.getTopWindow(),this.GetHrefUrl=Xh.bind(this),this.positionAdChoice=$h,this.OpenShareFacebook=Xp,this.OpenShareTwitter=Jp,this.OpenShareLinkedIn=Zp,this.OpenShareGoogle=$p,this.OpenSharePinterest=eh,this.OpenShareStumbleUpon=th,this.OpenShareEmail=nh,this.OpenContentModal=jh,this.ProcessResponse=Up,this.setupClickOut=ev,this.setupVideo=Hp,this.checkIsAdVisible=zo,this.setFilteringByLevel=av,this.filterAdByFilteringLevel=cv,this.Start=nv.bind(this),this.sessionMgmt=new Qp,this.Passback=Mt,this.trackFirstPartyCookie=lv,this.deleteFirstPartyCookie=uv,this.WindowOpen=K,this.adsMap={},this.sdkAPI=new fh,this.internalPubSub=Ah.SecurePubSub(),this.id=q.generateUniqueId(1e7),this.disableAdsFromElement=function(){}}catch(e){q.postError(e)}};function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hv(r.key),r)}}function hv(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var vv=0,mv=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startPosition=0,this.scrollInitiated=!1,this.trackScrollInit=function(){},this.trackScrollDepth=function(e){},this.trackScrollDepthCheckpoint=function(e){},Object.assign(this,t),this.colorIndex=vv,vv++,this.window=q.getTopWindow(),this.document=this.window.document;this.viewElement=fv.setting.sdk?fv.sdkAPI:n.document.scrollingElement||n.document.documentElement,this.viewHeight=this.viewElement.clientHeight;if(this.trackElement=fv.setting.sdk?fv.sdkAPI:n.trackElement?n.trackElement:n.viewElement,this.setInitVars(),this.scrollPercentageDeltaThreshold=5,this.scrollTimeoutDuration=100,this.isScrolling=null,this.resizeTimeoutDuration=100,this.isResizing=null,this.heightSettleTime=0,this.heightSettleIntervalDuration=100,this.heightSettleTimeout=1e3,this.nextScrollDepthCheckpoint=function(){return n.scrollDepthCheckpoints[0]||null},this.scrollHandler=this.onScroll.bind(this),this.resizeHandler=this.onResize.bind(this),this.enable(),this.init(),!fv.setting.sdk){var r=function e(t){"loading"!==n.document.readyState&&(n.document.removeEventListener("readystatechange",e),n.checkInitScroll())},i=this.getContentHeight(),o=this.getContentHeight();"interactive"!==this.document.readyState&&"complete"!==this.document.readyState?this.document.addEventListener("readystatechange",r):function e(t){setTimeout((function(){if(n.heightSettleTime+=n.heightSettleIntervalDuration,i=n.getContentHeight(),o!==i&&n.heightSettleTime<n.heightSettleTimeout)return o=i,void e(t);n.lockState(),t()}),n.heightSettleIntervalDuration)}(r)}}var t,n,r;return t=e,(n=[{key:"setInitVars",value:function(){this.contentHeight=0,this.contentLocked=!1,this.scrollViewDepth=0,this.scrollViewDepthPercentage=0,this.maxScrollViewDepth=0,this.maxScrollViewDepthPercentage=0,this.scrollViewDepthDelta=0,this.scrollViewDepthDeltaPercentage=0,this.scrollDepthCheckpoints=[{value:25,buffer:0},{value:50,buffer:0},{value:75,buffer:0},{value:100,buffer:100}],this.scrollInitTracked=!1,this.scrollCompletionTracked=!1,this.enabled=!1}},{key:"enable",value:function(){fv.internalPubSub.subscribe(l,this.scrollHandler),fv.internalPubSub.subscribe(d,this.scrollHandler),this.window.addEventListener("resize",this.resizeHandler),this.enabled=!0}},{key:"disable",value:function(){this.window.removeEventListener("resize",this.resizeHandler),this.enabled=!1,this.scrollInitiated&&this.stopScrollTracking()}},{key:"stopScrollTracking",value:function(){fv.internalPubSub.unsubscribe(l,this.scrollHandler),fv.internalPubSub.unsubscribe(d,this.scrollHandler)}},{key:"init",value:function(){this.scrollDepthCheckpoints=this.scrollDepthCheckpoints.sort((function(e,t){return e.value-t.value}))}},{key:"checkInitScroll",value:function(){this.checkScrollState(),100===this.scrollViewDepthPercentage&&this.disable()}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setInitVars(),this.init(),e&&this.enable()}},{key:"unlockState",value:function(){this.contentLocked=!1}},{key:"lockState",value:function(){this.contentLocked=!0}},{key:"checkScrollState",value:function(){this.calculateViewDimensions(),this.updateScrolTracking()}},{key:"calculateViewDimensions",value:function(){this.viewHeight=this.viewElement.clientHeight}},{key:"updateElementRect",value:function(){this.trackElementRect=this.trackElement.getBoundingClientRect()}},{key:"getRawScrollDistance",value:function(){return this.updateElementRect(),this.trackElementRect.top}},{key:"getScrollDistance",value:function(){return this.getRawScrollDistance()-this.startPosition}},{key:"getContentHeight",value:function(){return this.contentLocked||(this.updateElementRect(),this.contentHeight=Math.max(this.trackElementRect.height,this.trackElement.scrollHeight)),this.contentHeight+this.startPosition}},{key:"updateScrollData",value:function(){this.scrollDistance=this.getScrollDistance(),this.scrollViewDepth=this.viewHeight-this.scrollDistance,this.scrollViewDepthPercentage=this.toElementPercentage(this.scrollViewDepth)}},{key:"toElementPercentage",value:function(e){return function(e,t){return isNaN(e)?t:e}(Math.ceil(100*function(e){return Math.max(0,Math.min(1,e))}(e/this.getContentHeight())),0)}},{key:"updateScrolTracking",value:function(){this.updateScrollData(),this.scrollViewDepthPercentage-this.maxScrollViewDepthPercentage<this.scrollPercentageDeltaThreshold&&(100!==this.scrollViewDepthPercentage||100===this.maxScrollViewDepthPercentage)||(this.calculateDeltaAndMax(),this.triggerScrollDepthTracking(),this.checkScrollDepthCheckpoints(),100==this.maxScrollViewDepthPercentage&&(this.scrollCompletionTracked=!0,this.disable()))}},{key:"calculateDeltaAndMax",value:function(){this.scrollViewDepthDelta=this.scrollViewDepth-this.maxScrollViewDepth,this.scrollViewDepthDeltaPercentage=this.scrollViewDepthPercentage-this.maxScrollViewDepthPercentage,this.maxScrollViewDepth=isNaN(this.scrollViewDepthDelta)?this.maxScrollViewDepth:this.scrollViewDepthDelta,this.maxScrollViewDepthPercentage=isNaN(this.scrollViewDepthDelta)?this.maxScrollViewDepthPercentage:this.scrollViewDepthPercentage}},{key:"onScroll",value:function(){this.viewHeight||this.calculateViewDimensions(),this.trackInitScroll(),this.scrollInitiated=!0,this.enabled||this.stopScrollTracking(),clearTimeout(this.isScrolling),this.isScrolling=setTimeout(this.updateScrolTracking.bind(this),this.scrollTimeoutDuration)}},{key:"onResize",value:function(){clearTimeout(this.isResizing),this.isResizing=setTimeout(this.onResizeStop.bind(this),this.resizeTimeoutDuration)}},{key:"onResizeStop",value:function(){this.checkScrollState()}},{key:"checkScrollDepthCheckpoints",value:function(){var e=this.nextScrollDepthCheckpoint();if(e){var t=this.toElementPercentage(e.buffer);e&&this.maxScrollViewDepthPercentage>=e.value-t&&(this.triggerScrollDepthCheckpoint(e.value),this.scrollDepthCheckpoints.shift(),this.checkScrollDepthCheckpoints())}}},{key:"trackInitScroll",value:function(){this.scrollInitTracked||(this.scrollInitTracked=!0,this.trackScrollInit&&this.fire(this.trackScrollInit()))}},{key:"triggerScrollDepthTracking",value:function(){this.trackScrollDepth&&this.fire(this.trackScrollDepth(this.scrollViewDepthDeltaPercentage))}},{key:"triggerScrollDepthCheckpoint",value:function(e){this.trackScrollDepthCheckpoint&&this.fire(this.trackScrollDepthCheckpoint(e))}},{key:"fire",value:function(e){q.appendImage(e)}}])&&pv(t.prototype,n),r&&pv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yv(e){return function(e){if(Array.isArray(e))return gv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bv(e,t,n){for(var r=["ntv_az","ntv_ak","ntv_al"],i=[],o=/(ntv_at=)(\d*\,?)*/,a=[Bv.cta,Bv.companionCta],s=f.CUSTOM_CTA_RANGE_START+1;s<=f.CUSTOM_CTA_RANGE_END;s++)a.push(s);for(s=f.CUSTOM_WIDGET_RANGE_START+1;s<=f.CUSTOM_WIDGET_RANGE_END;s++)a.push(s);var c=new RegExp("(ntv_at=)((?:(?:".concat(a.join("|"),"),?)+)")),l=!1,u=!1,d=!1,p=!1,h=function(){return d&&p},v=function(e,t){return e=e.replace("ntv_at=".concat(t),"ntv_at=".concat(t,",").concat(f.CPE_SCROLL_50)),n&&(e=e.concat(n)),e};function m(){this.fired=!1,this.CPEEngagementEnabled=!!e,this.CPEEngagementEnabled&&(this.defaultEngagementHandler=e.trackEngagement.bind(e)),this.CPEScrollEnabled=!!t,this.CPEScrollEnabled&&(this.defaultScrollInitHandler=t.trackScrollInit.bind(t),this.defaultScrollDepthPercentageHandler=t.trackScrollDepthCheckpoint.bind(t))}return m.prototype.initializeTrackingCPEMetrics=function(){l||(this.CPEEngagementEnabled&&this.addEngagementMetric(),this.CPEScrollEnabled&&this.addScrollMetric(),l=!0)},m.prototype.initializeDOMCPEMetrics=function(){u||(this.addCTAMetric(),u=!0)},m.prototype.removeAllCPEMetrics=function(){this.removeCTAMetric(),this.CPEEngagementEnabled&&this.removeEngagementMetric(),this.CPEScrollEnabled&&this.removeScrollMetric()},m.prototype.addCTAMetric=function(){var e=this;if(!this.fired){var t=a.map((function(e){return String(e)})),r=[String(f.CPE_CTA_CLICK)],o=q.domQueryUp(".ntv-body");if(null!=o){var s=o.ownerDocument;(i=yv(q.domQueryAll("a",s)).filter((function(e){var n=q.getActionTypesFromURL(e.href),i=q.doesArrayContainElements(n,t),o=q.doesArrayContainElements(n,r);return i&&!o}))).forEach((function(t){t.href=t.href.replace(c,(function(e){return"".concat(e,",").concat(f.CPE_CTA_CLICK)})),t.href=function(e,t){if(!t)return e;if(-1===e.indexOf("ntv_r=")&&-1===e.indexOf("prx_r="))return e.concat(t);t=q.stripLeadingCharacters(t,"&");var n=q.qetQueryStringParams("?".concat(t)),r=q.qetQueryStringParams(e);return q.buildQueryStringFromKeyValuePairs(Object.assign(n.params,r.params),r.base)}(t.href,n),t.handleCTAFired=e.handleCTAMetricFired.bind(e),t.addEventListener("click",t.handleCTAFired,{once:!0})}))}}},m.prototype.removeCTAMetric=function(){i&&(i.forEach((function(e){e.href=e.href.replace(o,(function(e){return"ntv_at=".concat(q.modifyQSParamValues(e,[],[f.CPE_CTA_CLICK]).join())})),e.href=q.removeQueryKeyValuePairs(r,e.href),e.removeEventListener("click",e.handleCTAFired,{once:!0}),delete e.handleCTAFired})),i=[])},m.prototype.handleCTAMetricFired=function(){var e=this;this.fired||(this.fired=!0,requestAnimationFrame((function(){e.removeAllCPEMetrics()})))},m.prototype.addEngagementMetric=function(){var t=this;this.fired||(e.trackEngagement=function(e){var r=function(e){if(15e3===e.time)return e.actionType=[e.actionType,f.CPE_ENGAGEMENT_15s],n&&(e.qsParams=n),!0;return!1}(e);t.defaultEngagementHandler(e),r&&(t.fired=!0,t.removeAllCPEMetrics())})},m.prototype.removeEngagementMetric=function(){e.trackEngagement=this.defaultEngagementHandler},m.prototype.addScrollMetric=function(){var e=this;this.fired||(t.trackScrollInit=function(){d=!0;var t=e.defaultScrollInitHandler();return h()?(e.fired=!0,e.removeAllCPEMetrics(),v(t,f.CLP_SCROLL_INITIATED)):t},t.trackScrollDepthCheckpoint=function(t){var n=e.defaultScrollDepthPercentageHandler(t);return 50===t&&(p=!0,h())?(e.fired=!0,e.removeAllCPEMetrics(),v(n,f.CLP_VIEW_DEPTH_50_PERCENT)):n})},m.prototype.removeScrollMetric=function(){t.trackScrollInit=this.defaultScrollInitHandler,t.trackScrollDepthCheckpoint=this.defaultScrollDepthPercentageHandler},new m}function wv(e,t,n){if(e&&!e.getAttribute("src"))try{var r=e.contentWindow;if(!r||!r.ReportingObserver)return;var i=t+f.HEAVY_AD_INTERVENTION;n&&(i+="&".concat(f.AVP,"=").concat(n));var o=r.document;"loading"===o.readyState?o.addEventListener("DOMContentLoaded",Ev.bind(this,r,i)):Ev(r,i),e.setAttribute("ntv-haio","")}catch(e){}}function Ev(e,t){var n=!1;new e.ReportingObserver((function(e,r){n||(n=!0,function(e){q.appendScript(e)}(t))}),{types:["intervention"],buffered:!0}).observe()}function Sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tv(r.key),r)}}function Tv(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var kv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackClickComponent=function(){},this.trackClickLightbox=function(){},this.trackClickLink=function(){},this.trackViewPage=function(){},this.trackPlayVideo=function(){},Object.assign(this,t),this.window=q.getTopWindow(),this.document=this.window.document,this.analyticsHandler=this.analyticsHandler.bind(this),this.setInitVars(),this.enable()}var t,n,r;return t=e,(n=[{key:"setInitVars",value:function(){this.enabled=!1}},{key:"analyticsHandler",value:function(e){switch(e.detail.eventType){case"component-click":this.trackComponentClick();break;case"lightbox-click":this.trackLightboxClick();break;case"link-click":this.trackLinkClick();break;case"page-view":this.trackPageView();break;case"video-play":this.trackVideoPlay()}}},{key:"enable",value:function(){this.document.body.addEventListener("ceros-analytics-event",this.analyticsHandler),this.enabled=!0}},{key:"disable",value:function(){this.document.body.removeEventListener("ceros-analytics-event",this.analyticsHandler),this.enabled=!1}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setInitVars(),e&&this.enable()}},{key:"trackComponentClick",value:function(){this.trackClickComponent&&this.fire(this.trackClickComponent())}},{key:"trackLightboxClick",value:function(){this.trackClickLightbox&&this.fire(this.trackClickLightbox())}},{key:"trackLinkClick",value:function(){this.trackClickLink&&this.fire(this.trackClickLink())}},{key:"trackPageView",value:function(){this.trackViewPage&&this.fire(this.trackViewPage())}},{key:"trackVideoPlay",value:function(){this.trackPlayVideo&&this.fire(this.trackPlayVideo())}},{key:"fire",value:function(e){q.appendImage(e)}}])&&Sv(t.prototype,n),r&&Sv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pv(e){var t=q.toDomElement(e);return!!t&&(!function(e){return null!=e&&null!=e.classList&&e.classList.contains("ntv-do-not-resize")}(t)&&!function(e){return null!=e&&null!=e.closest&&null!=e.closest(f.BLOCK_QUERY_SELECTOR)}(t))}function Av(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Cv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Iv(e){return function(e){if(Array.isArray(e))return Ov(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cv(e,t){if(e){if("string"==typeof e)return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ov(e,t):void 0}}function Ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _v(e,t){q.copyProperties(e,this),this.parent=t,this.secondaryImpressionActionType=2,this.clickActionType=3,this.videoStartActionType=56,this.videoEndActionType=23,this.videoProgress25PercentActionType=39,this.videoProgress50PercentActionType=40,this.videoProgress75PercentActionType=41,this.videoHeadlineClick=48,this.clickToUnMute=55,this.readAndClickActionTypes="2,3",this.articlePageViewActionType=52,this.videoView=22,this.videoBillableView=58,this.videoPlayed15SecondsType=60,this.videoPlayed30SecondsType=61,this.prerollVideoStartType=62,this.prerollVideoEndType=63,this.optVideoByClick=65,this.getUrl=function(e){var t=this.baseTrackingUrl+e;return(this.adVersionPlacement.length>0||this.adID>=1e5)&&(t+="&"+f.AVP+"="+this.adVersionPlacement),t+=q.setURLCache()}}function Rv(e){q.copyProperties(e,this),this.element=null,this.tracker=new _v(e,this),this.resetTimeOnContentVars(),this.maxArticleWidth=0,this.trackType="article",this.init();var t=q.clientUtils.generateAdPlacementId(this.adID,this.placementID);window.ntv.articles&&window.ntv.articles[t]&&(window.ntv.articles[t].articleTracker=this)}function xv(e,t){var n=e.getAttribute("data-original");n&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cropMode:null,width:null,height:null};n.width>0&&(t=q.applyImageResizer(t,n.cropMode,n.width),e.setAttribute("src",t),e.style.width="auto",e.style.height="auto",e.removeAttribute("data-original"))}(e,n,t)}function Lv(e){jv.call(this,e)}Rv.prototype.resetTimeOnContentVars=function(){this.trackTimeOnContent&&(this.tos_w_hidden=ee(!0).ntvStopWatch().ntvTimeOnContentStopWatch(this,34).addStopWatchEventHandlers({node:q.getTopWindow(),type:"visibilitychange",handler:function(){this.preventResume=q.getTopWindow().document.hidden,q.getTopWindow().document.hidden&&this.stop(),q.getTopWindow().document.hidden||this.resume()}}))},Rv.prototype.init=function(){ntv.query||(ntv.query=nQuery.noConflict(!0));var e=this.selector;"string"==typeof this.selector&&(e=(e=this.selector.match(/prdom.query\('([^'\)]*)/))&&e.length?e[1]:this.selector),this.adPlacementId=q.clientUtils.generateAdPlacementId(this.adID,this.placementID),this.element=e===window?e:ntv.query(e)[0],this.contextWin=window,this.contextDoc=document,this.element||(this.element=q.domQuery(e,q.getTopWindow().document),this.contextWin=q.getTopWindow(),this.contextDoc=this.contextWin.document);var t,n,r=this;if(r.videoPlayers={},this.element){t=ntv.query,this.trackTimeOnContent&&fv.internalPubSub.subscribe(l,(function(){r.trackTime()})),t(this.contextWin).bind("resize",(function(){r.resize()})),n=this.processArticleIframes(),t("ntv-video",this.contextDoc).map((function(e){var i=t(this,this.contextDoc);r.renderNativoVideo(i,++n)})),this.trackTime(),this.trackScroll(),this.trackCeros(),this.resize(),this.processArticleImages(),this.cpe=new bv(r.tos_w_hidden,r.scrollTracker,this.cpeSpentQS),this.cpe.initializeTrackingCPEMetrics();q.runWhenDOMIsReady((function(){r.resize(),r.cpe.initializeDOMCPEMetrics()})),setTimeout((function(){r.resize()}),0)}else setTimeout((function(){r.init()}),100)},Rv.prototype.processArticleIframes=function(){var e=0,t=this;return ntv.query("iframe",this.contextDoc).map((function(){e++,this.dataset.ntvIframeIndex=e,t.processArticleIframe(this)})),e},Rv.prototype.processArticleIframe=function(e){var t=ntv.query(e);"prx_full_ad_video"==t.attr("id")||t.hasClass("prx_full_ad_video")||t.hasClass("ntvCLPVideo")?"prx_full_ad_video"==t.attr("id")||t.hasClass("prx_full_ad_video")?this.postProcessIframe(this.renderYouTubeVideo(t,t.data("ntv-iframe-index"))):this.postProcessIframe(this.renderNativoVideo(t,t.data("ntv-iframe-index"))):this.postProcessIframe(t)},Rv.prototype.processArticleImages=function(){var e,t=Av(Iv(document.getElementsByClassName("ntv-body")).map((function(e){return Iv(e.getElementsByTagName("IMG"))})).flat());try{for(t.s();!(e=t.n()).done;){xv(e.value,{width:this.maxArticleWidth})}}catch(e){t.e(e)}finally{t.f()}},Rv.prototype.resume=function(){this.disabled||(this.trackTimeOnContent=this.resumeTrackTimeOnContent,this.tos_w_hidden.resume(),this.scrollTracker&&this.scrollTracker.enable())},Rv.prototype.stop=function(){this.resumeTrackTimeOnContent=this.trackTimeOnContent,this.trackTimeOnContent=!1,this.tos_w_hidden.stopAndTrack(),this.tos_w_hidden.reset(),this.scrollTracker&&(this.scrollTracker.disable(),this.scrollTracker.stopScrollTracking()),this.cerosTracker&&this.cerosTracker.disable(),this.disabled=!0},Rv.prototype.postProcessIframe=function(e){!e||void 0!==e.length&&0===e.length||(e.length&&(e=e[0]),q.isChrome()&&wv(e,this.baseTrackingUrl,this.adVersionPlacement))},Rv.prototype.renderNativoVideo=function(e,t){e.css("visibility","visible"),e.css("display","block"),this.setMaxArticleWidth();var n,r,i,o,a=Math.floor(1e6*Math.random()+1),s="video-wrapper"+this.adID+"_"+a,c=q.getVideoSelectorName()+this.adID+"_"+a,l=e.attr("ntv-video-sources"),u=e.attr("video-closed-caption"),d=e.attr("src"),p=q.getElementDimensions(e),h=ntv.query.extend(!0,{},this);h.trackTimeOnContent=!1,h.tos=null,Pv(e)&&(p=function(e,t){var n=t.w,r=(t.h,t.aspectRatio),i=Math.min(n,e);return{w:i,h:i/r,aspectRatio:r}}(this.maxArticleWidth,p));try{i=JSON.parse(l)}catch(e){i=[]}if((o=document.createElement("div")).setAttribute("class","ntv-video-wrapper"+this.adID+" "+s+" ntv-video-wrapper"),q.wrap(e[0],o),e.attr("allowfullscreen",!0).attr("id",c).attr("frameborder","0"),h.renderingParams={outerCssClass:s,previewImage:e.attr("video-preview-img")?e.attr("video-preview-img"):"",resizeMode:e.attr("resize-mode")?e.attr("resize-mode"):"max",applySmartCropping:!e.attr("apply-smart-cropping")||e.attr("apply-smart-cropping"),article:1,iframeId:c,videoNodeId:"".concat(c).concat("-node")},(n=document.createElement("video")).id=h.renderingParams.videoNodeId,i.forEach((function(e){var t=document.createElement("source");t.src=window.location.protocol+e.url,t.type=e["content-type"],n.width=p.w,n.height=p.h,n.appendChild(t),t=null})),n.width=p.w,n.height=p.h,n.classList.add("video-js"),u){var v=document.createElement("track");v.src=u,v.label="English",v.kind="captions",v.srclang="en",n.appendChild(v),n.crossOrigin="anonymous"}h.iframeBody='<div class="video-wrapper">',h.iframeBody+=h.renderingParams.previewImage?"<div class='video-preview-img' style='height:100%;'><a href='#'></a></div>":"",h.iframeBody+=n.outerHTML+"</div>",h.iframeHead="<style>body{top:0px;left:0px;margin:0;}</style>",h.renderingParams.cssUrl=h.sharingSkinUrl,h.vastUrl="",h.renderingParams.videoExecution=8,h.renderingParams.autoplay=!1,h.renderingParams.ntvCLPVideo=!0,h.renderingParams.mobile=q.isMobile(),0===e.contents().find("body").length&&e.append(n),h.ntvVideoCLP=!0,(d&&d.indexOf("&autoplay=1")>0||e.attr("data-ntvautoplay")&&"true"==e.attr("data-ntvautoplay"))&&(h.autoPlayParams={},h.renderingParams.videoExecution=8),h.iframeIndex=t,h.playerType=f.NATIVO_PLAYER,h.contextWin=this.contextWin,h.contextDoc=this.contextDoc,r=ntv.Video;var m=q.generateVideo(h,[r.Player.Nativo,r.Render.IFU,r.Render.Skin,r.Render.Mobile],[r.Tracker.Nativo]);return this.videoPlayers[a]=m,m.iframe.first()},Rv.prototype.renderYouTubeVideo=function(e,t){e.css("visibility","visible");var n=Math.floor(1e6*Math.random()+1),r="ntv-video-wrapper"+this.adID+"_"+n,i=q.getVideoSelectorName()+"Iframe"+r,o=e.attr("src"),a=q.getElementDimensions(e),s=a.w,c=a.h;e.replaceWith('<div class="ntv-video-wrapper'+this.adID+" "+r+' ntv-video-wrapper"><iframe id="'+i+'" width="'+s+'" height="'+c+'"   frameborder="0" allowfullscreen></iframe></div>');var l=ntv.query.extend(!0,{},this);l.trackTimeOnContent=!1,l.tos=null,o&&o.indexOf("&autoplay=1")>0&&(o=o.replace("&autoplay=1",""),l.playerVarsAutoPlay=1),l.renderingParams={outerCssClass:r,previewImage:e.attr("video-preview-img")?e.attr("video-preview-img"):"",resizeMode:e.attr("resize-mode")?e.attr("resize-mode"):"max",applySmartCropping:!e.attr("apply-smart-cropping")||e.attr("apply-smart-cropping"),article:1,iframeId:i,videoNodeId:"".concat(i).concat("-node")},l.iframeBody='<div class="video-wrapper">',l.iframeBody+=l.renderingParams.previewImage?"<div class='video-preview-img' style='height:100%;'><a href='#'></a></div>":"",l.iframeBody+='<iframe class="ntvVideo'+n+'" frameborder="0" width="'+s+'" height="'+c+'" ntv-aspect-ratio="16:9" id="'+l.renderingParams.videoNodeId+'" src="'+o+'&showsearch=0&showinfo=0&modestbranding=1&autohide=1&egm=0&rel=0&wmode=opaque" type="text/html" style="float:none;clear:both;width:100%;height:100%;max-width:1200px;max-height:'+c+'px" !important" allowfullscreen ></iframe></div>',l.iframeHead="<style>body{top:0px;left:0px;margin:0;}</style>",(o&&o.indexOf("&autoplay=1")>0||e.attr("data-ntvautoplay")&&"true"==e.attr("data-ntvautoplay"))&&(l.autoPlayParams={},l.renderingParams.videoExecution=8);var u=ntv.Video;l.iframeIndex=t,l.playerType=f.YOUTUBE_PLAYER,function(e){window.addEventListener("resize",(function(t){ntv.query("iframe."+q.getVideoSelectorName()+e).css("max-height",ntv.query("iframe."+q.getVideoSelectorName()+e).width()/(16/9)+"px")}),!1)}(n),this.videoPlayers[n]=q.generateVideo(l,[u.Player.YouTube,u.Render.IFU,u.Render.YouTubeSkin,u.Render.Mobile],[u.Tracker.Nativo])},Rv.prototype.trackTime=function(){if(!this.disabled){var e=this;if(q.canExecute((function(){e.trackTime}),"ntvArticleTrackerTrackTime",100))if(this.trackTimeOnContent){if(this.expandableUnit)return;this.tos_w_hidden.resume(),this.trackSecondaryImpression()}else this.trackSecondaryImpression()}},Rv.prototype.trackSecondaryImpression=function(){if(!this.trackedSecondaryImpression){this.trackedSecondaryImpression=!0;var e=null,t=null;null!=(e=this.expandableUnit?[this.tracker.readAndClickActionTypes,this.tracker.articlePageViewActionType]:this.clickoutTracking?[this.tracker.secondaryImpressionActionType,this.tracker.articlePageViewActionType]:this.trackTimeOnContent?[this.tracker.articlePageViewActionType]:null)&&(fv.setting.isEdge&&!e.includes(this.secondaryImpressionActionType)&&this.tracker.baseTrackingUrl.indexOf("ntv_tpvcs")>0&&e.push(this.tracker.secondaryImpressionActionType),t=this.tracker.getUrl(e.join())),q.insertTracking(t,this.secondaryImpressionTags,1)}},Rv.prototype.articleUrlChange=function(){this.disabled||(this.urlActive?(this.trackTime(),this.executeMoat(!0)):(this.tos_w_hidden.onLeave(),this.resetTimeOnContentVars(),this.trackedSecondaryImpression=!1,this.executeMoat(!1)))},Rv.prototype.executeMoat=function(e){try{if(this.moatEnabled)var t=q.domQuery("."+this.moatClass)(e)?t.initMoatTracking():t.stopMoatTracking()}catch(e){}},Rv.prototype.setMaxArticleWidth=function(){var e=ntv.query(this.element);this.maxArticleWidth=e.width();var t=!window.orientation||90!=window.orientation&&-90!=window.orientation?screen.width:screen.height;(-20==this.maxArticleWidth||this.maxArticleWidth>t)&&(this.maxArticleWidth=t-20),this.maxArticleWidth>1200&&(this.maxArticleWidth=1200),this.maxArticleWidth=Math.ceil(this.maxArticleWidth)},Rv.prototype.resize=function(){if(!this.disabled){this.setMaxArticleWidth();var e=this,t=ntv.query;t(this.element).find('iframe:not([class*="ntv-do-not-resize"])').map((function(){if(!this.closest(f.BLOCK_QUERY_SELECTOR)){var n=t(this);n.css("float","none").css("clear","both");var r=n.parent(),i=0===r.length?e.maxArticleWidth:Math.min(e.maxArticleWidth,r.width()),o=q.getElementDimensions(this);if(0==o.w&&i>0)e.setVideoSize(this,i);else{var a=n.attr("id");if(a&&0==a.indexOf(q.getVideoSelectorName()+"Iframe"))return void q.setElementDimensions(n,o,i);if(a&&0==a.indexOf(q.getVideoSelectorName()))return q.setElementDimensions(n,o,i),void q.setElementDimensions(t(this.contentWindow.document).find("#".concat(a).concat("-node")),o,i);q.setElementDimensions(this,o,i)}e.setVideoContainerSize(this),t(this).show()}})).get(),t(this.element).find("video").map((function(){this.closest(f.BLOCK_QUERY_SELECTOR)||(0==q.getElementDimensions(this).w&&e.maxArticleWidth>0&&e.setVideoSize(this,e.maxArticleWidth),e.setVideoContainerSize(this))})).get(),t(this.element).find("img").map((function(){xv(this,{width:e.maxArticleWidth})})).get();var n,r=Av(q.domQueryAll("ntv-shadow-video",this.element));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!Pv(i))return;var o=i.shadowRoot.querySelector("#ntvVideo");0==q.getElementDimensions(i).w&&e.maxArticleWidth>0&&e.setVideoSize(o,e.maxArticleWidth),e.setVideoContainerSize(i.parentElement)}}catch(e){r.e(e)}finally{r.f()}if(e.videoPlayers)for(var a in e.videoPlayers)e.videoPlayers[a].videoRendering&&e.videoPlayers[a].videoRendering.resizeIframe();ntv.Events.PubSub.publish("articleResizerExecuted",[])}},Rv.prototype.setVideoSize=function(e,t){var n=null!=(n=ntv.query(e).attr("ntv-aspect-ratio"))?n.split(":"):[16,9],r=t,i=Math.ceil(n[1]*t/n[0]);ntv.query(e).attr("height",i).attr("width",r).width(r).height(i)},Rv.prototype.setVideoContainerSize=function(e){var t=(e=ntv.query(e)).parent();if(t.attr("class")&&t.attr("class").indexOf("ntv-video-wrapper")>=0){var n=e.attr("height"),r=e.attr("width");n>0&&r>0&&t.width(r).height(n)}},Rv.prototype.onArticleExpand=function(){for(var e in this.scrollTracker?this.scrollTracker.enable():this.trackScroll(),this.cerosTracker?this.cerosTracker.enable():this.trackCeros(),this.tos_w_hidden.resume(),this.trackSecondaryImpression(),this.videoPlayers)this.videoPlayers[e].privateEvent.publish(ntv.Events.Types.Manager.PLAY)},Rv.prototype.onArticleCollapse=function(){for(var e in this.scrollTracker&&this.scrollTracker.disable(),this.tos_w_hidden.stopAndTrack(),this.videoPlayers){this.videoPlayers[e];this.videoPlayers[e].executePlayerCommand("getCurrentTime")>0&&this.videoPlayers[e].privateEvent.publish(ntv.Events.Types.Manager.PAUSE)}},Rv.prototype.trackScroll=function(){var e=this;this.scrollTracker=new mv({trackElement:this.element.self?null:this.element,trackScrollInit:function(){return e.tracker.getUrl(f.CLP_SCROLL_INITIATED)},trackScrollDepth:function(t){var n=e.tracker.getUrl(f.CLP_VIEW_DEPTH_MAX);return n=n.replace("ntv_at=".concat(f.CLP_VIEW_DEPTH_MAX),"ntv_mat=".concat(f.CLP_VIEW_DEPTH_MAX,"*").concat(t))},trackScrollDepthCheckpoint:function(t){var n=f["CLP_VIEW_DEPTH_".concat(t,"_PERCENT")];if(n)return e.tracker.getUrl(n)+"&ntv_av=".concat(t)}})},Rv.prototype.trackCeros=function(){var e=this;this.cerosTracker=new kv({trackClickComponent:function(){return e.tracker.getUrl(f.COMPONENT_CLICK_EVENT)},trackClickLightbox:function(){return e.tracker.getUrl(f.LIGHTBOX_CLICK_EVENT)},trackClickLink:function(){return e.tracker.getUrl(f.LINK_CLICK_EVENT)},trackViewPage:function(){return e.tracker.getUrl(f.PAGE_VIEW_EVENT)},trackPlayVideo:function(){return e.tracker.getUrl(f.VIDEO_PLAY_EVENT)}})},window.ntvArticleTracker=Rv,Lv.prototype=Object.create(jv.prototype),Lv.prototype.init=function(e){var t=this,n=e.selector,r=e.id,i=e.handlers,o=void 0===i?{}:i;Object.keys(o).forEach((function(e){t.addHandler(r,e,o[e])})),this.startListening(n),this.ready=!0},Lv.prototype.startListening=function(e){var t=this;if(!this.listening){this.initialSize={w:1,h:1};try{var n,r=q.getTopWindow().document;e&&(n=r.querySelector(e)),n||(n=r.documentElement);var i=q.getElementDimensions(n);this.initialSize.w=Math.max(this.initialSize.w,i.w),this.initialSize.h=Math.max(this.initialSize.h,i.h)}catch(e){}this.api.ext.register(this.initialSize.w,this.initialSize.h,(function(e,n){if("geom-update"===e)for(var r in t.eventHandlers[Dv.size])t.eventHandlers[Dv.size][r]();if("focus-change"===e&&t.eventHandlers[Dv.focus])for(var i in t.eventHandlers[Dv.focus])t.eventHandlers[Dv.focus][i](t.api.ext.winHasFocus)})),this.listening=!0}},Lv.prototype.stopListening=function(){},Lv.prototype.getViewability=function(){return this.ready?(this.currentGeom=this.api.ext.geom().self,new Io({visible:this.currentGeom.iv>0,ratioInView:this.currentGeom.iv,totalArea:this.currentGeom.w*this.currentGeom.h})):new Io},Lv.prototype.getFocus=function(){if(this.ready)return $sf.winHasFocus};var Dv={size:"size-change",focus:"focus-change"};var Nv=function(e){if(e&&q.isInIframe()){var t={};return t.check=function(e){var t=0;return new Promise((function(n,r){!function i(){var o=e.$sf||q.getTopWindow().$sf;o&&o.ext?n(o):(t+=50)>300?r():setTimeout(i,50)}()}))}(e).then((function(e){var n=e.ext.getVersion?e.ext.getVersion():1;t.api=function(e,t){return 1==t?new Lv(e):void 0}(e,n)})).catch((function(){})),t}};function jv(e){var t=this;this.api=e,this.listening=!1,this.eventHandlers={},Object.keys(Dv).forEach((function(e){t.eventHandlers[Dv[e]]={}}))}jv.prototype.addHandler=function(e,t,n){e&&this.eventHandlers[t]&&(this.eventHandlers[t][e]=n)},jv.prototype.removeHandlers=function(e){for(var t in this.eventHandlers)for(var n in this.eventHandlers[t])n===e&&delete this.eventHandlers[t][e]},jv.prototype.startListening=function(e){},jv.prototype.stopListening=function(){},jv.prototype.getViewability=function(){},jv.prototype.getFocus=function(){};var Vv=["47","304","809"];function Mv(e){var t=this;q.copyProperties(e,this),this.id="".concat(this.adID,"-").concat(this.placementID,"-").concat(this.minimumAreaViewable,"-").concat(this.minimumExposedTime),this.element=q.domQueryUp(this.selector),this.adPlacementId=q.clientUtils.generateAdPlacementId(this.adID,this.placementID);var n=fv.thirdPartyJSViewableImpTrackers,r=fv.viewableWhiteList[e.placementID],i=.01===e.minimumAreaViewable&&1===e.minimumExposedTime,o=this.element.querySelector("ntv-div")||q.domQuery("ntv-div"),a=q.getActionTypesFromURL(e.primaryImpressionURL).some((function(e){return Vv.indexOf(e)>=0}));i||(this.thirdPartyTrackingTags=q.trackImpressionsInViewability(r,this.thirdPartyTrackingTags,this.selector)),this.stopWatch=ee().ntvStopWatch((function(){var r=t.getVideoDimensions();!q.is("o",r)||isNaN(r.width)||isNaN(r.height)||(t.primaryImpressionURL+="&ntv_vw="+r.width+"&ntv_vh="+r.height),t.primaryImpressionURL+=a?"&".concat(f.IFRAME_QS_ID,"=").concat(function(){try{var e;return null!=fv&&null!==(e=fv.safeFrame)&&void 0!==e&&e.api?f.IFRAME_TYPES.SAFE_W_API:q.resolveIframeType()}catch(e){q.postError(new Error("resolveViewableIframeType(), Cause:".concat(e.message)))}}()):"",Ui(t.primaryImpressionURL,t.thirdPartyTrackingTags,1,null,{placementID:e.placementID,adID:e.adID,is70Percent:i,node:document.body||o||t.element}),a&&fv.internalPubSub.publish("tracking-fired-viewableImpression"),n[t.placementID]&&n[t.placementID].whitelist instanceof Array&&n[t.placementID].thirdparty&&q.filterScripts(n[t.placementID].whitelist,n[t.placementID].thirdparty),t.viewabilityMethod.dispose()}),this.minimumExposedTime),this.lastCheck=new Date,this.missedCheck=0,this.checkOnFocus&&q.onFocusEvents.push((function(){q.isOnFocus()||t.stopWatch.reset()})),fv.safeFrame?fv.safeFrame.check.then((function(){if(fv.safeFrame.api.init)try{fv.safeFrame.api.init({selector:e.selector,id:t.id,handlers:{[Dv.size]:fv.checkIsAdVisible,[Dv.focus]:function(e){e||t.stopWatch.reset()}}})}catch(e){q.postError(new Error("SafeFrame API failed to init for id ".concat(t.id)))}})).catch((function(){})).finally((function(){t.setupViewabilityTrackingMethod()})):this.setupViewabilityTrackingMethod()}function Uv(e){if(void 0!==e){var t=e.primaryImpressionURL,n=e.thirdPartyTrackingTags,r=e.placementID,i=e.adID;if(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return void 0===e}))}(t,n,r,i))q.postError(new Error("ntvStandardImpressionTracker: missing required params"));else{Ui(t,n,ji,!1,{placementID:r,adID:i})}}}Mv.prototype.setupViewabilityTrackingMethod=function(){var e,t,n=this;this.viewabilityMethod=new(Ds(se(null==(t=zv((e=this).adPlacementId))?void 0:t.responseId)))(e),this.viewabilityMethod.addViewableEventListener(Ao.IN_VIEW,(function(){n.stopWatch.resume()})),this.viewabilityMethod.addViewableEventListener(Ao.OUT_OF_VIEW,(function(){n.stopWatch.stop()})),this.viewabilityMethod.checkViewability()},Mv.prototype.getVideoDimensions=function(){var e=ntv.query(this.selector).find("iframe");if(e.length&&e[0].contentWindow){if(e[0].src){if(e[0].src.length>0&&(/ntv_at=47/gi.test(this.primaryImpressionURL)||/ntv_at=.*809/gi.test(this.primaryImpressionURL))){var t=ntv.query(e[0]);return{width:t.width(),height:t.height()}}return!1}var n=ntv.query("video",e[0].contentWindow.document);return!(!n.length||!/ntv_at=47/gi.test(this.primaryImpressionURL)&&!/ntv_at=.*809/gi.test(this.primaryImpressionURL))&&{width:n[0].width,height:n[0].height}}return!1},window.ntvViewableImpressionTracker=Mv;var Fv={startTrackingArticle(e){new Rv(e)},startScrollTracking(e){new mv(e)},startCerosTracking(e){new kv(e)},Record:Ui,Time:ee,TrackImpression:Mv,Viewability:Qo,TrackingUrl:_v},Bv={secondaryImpressionActionType:2,clickActionType:3,cta:4,readAndClickActionTypes:"2,3",videoView:22,videoEndActionType:23,timeOnContent:34,slideTimeOnContent:62,storiesCompletion:63,videoProgress25PercentActionType:39,videoProgress50PercentActionType:40,videoProgress75PercentActionType:41,videoHeadlineClick:48,articlePageViewActionType:52,gallery:54,clickToUnMute:55,videoStartActionType:56,videoBillableView:58,companionCta:59,videoPlayed15SecondsType:60,videoPlayed30SecondsType:61,prerollVideoStartType:62,prerollVideoEndType:63,optVideoByClick:65};function Hv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=e+t;return(r.length>0||n>=1e5)&&(i+="&"+f.AVP+"="+r),i+=q.setURLCache()}var Wv=N("trackingMap");function qv(e,t){e&&t&&Wv.set(e,t)}function Gv(e,t,n){e&&t&&(Wv.set(e,t),n&&(Wv.get(e).responseId=n))}function zv(e){return e&&Wv.get(e)||{}}function Yv(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.startTime=(new Date).getTime(),this.tracker=ee(!0).ntvStopWatch().ntvTimeOnContentStopWatch(this,Bv.timeOnContent).addStopWatchEventHandlers({node:q.getTopWindow(),type:"visibilitychange",handler:function(){var t=(new Date).getTime()-r.startTime;r.tracker.preventResume=q.getTopWindow().document.hidden,q.getTopWindow().document.hidden&&r.tracker.stop(),!q.getTopWindow().document.hidden&&e.isOpen&&t<e.trackTimeCap&&r.storiesModalElement.content.offsetParent&&r.tracker.resume()}}),i||(this.tracker.engagements={}),this.tracker.getUrl=function(e){return Hv(t.baseTrackingUrl,e,t.adID,t.adVersionPlacement)+(n?"&".concat(f.SLIDE_ID,"=").concat(n):"")},this.resume=function(){r.tracker.resume()},this.stop=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?r.tracker.stopAndTrack():r.tracker.stop()},o&&this.resume()}function Qv(e,t,n){var r=n.querySelectorAll('[data-index="'.concat(t,'"]')),i=r[0],o=r[1];switch(e){case"active":i.classList.remove("seen"),o.classList.remove("seen"),i.classList.add("active"),o.classList.add("active");break;case"seen":i.classList.add("seen"),o.classList.add("seen"),i.classList.remove("active"),o.classList.remove("active");break;case"reset":i.classList.remove("seen"),o.classList.remove("seen"),i.classList.remove("active"),o.classList.remove("active")}}function Kv(e,t){if(t){var n=!1,r=function(e,t){var n=e;q.adBlocker&&(n=n.replace(f.ASSETS_PREFIX+q.getServerDomain(),q.getServerDomain())),-1==e.indexOf("fetch")&&(e.indexOf(f.ASSETS_DOMAIN)>=0&&(n=e.replace("//".concat(f.ASSETS_DOMAIN,"/"),"")),e.indexOf(f.ASSETS_DOMAIN_DEV)>=0&&(n=e.replace("//".concat(f.ASSETS_DOMAIN_DEV,"/"),"")),n=n.replace(/(^\w+:|^)/,""));var r=t.querySelector('img[src*="'.concat(n,'"]'));return r||(r=t.querySelector('img[src*="'.concat(encodeURIComponent(n),'"]'))),r?{element:r,attribute:"src"}:{element:r=t.querySelector('[data-img-src*="'.concat(n,'"]')),attribute:"data-img-src"}}(e,t),i=r.element,o=r.attribute;if(i&&o)return i.onload=function(){if(!n){var e=i.attributes[o].value.split("assets"),t="".concat(e[0]).concat("l_story_icon/assets").concat(e[1]);i.attributes[o].value=t,n=!0}},i}}var Xv=function(e){var t=e.elementId;return'\n  <div\n    id="'.concat(t,'" \n    class="with-effects"\n    style="display: none;"\n    tabIndex="0"\n  >\n    <div id="ntv-stories-modal-content">\n      <div\n        id="ntv-stories-modal-slider" \n        class="slider"\n      >\n      </div>\n    </div>\n  </div>\n')};var Jv=function(e){var t=e.advertiser,n=e.advertiserLogo,r=e.sponsoredLabel,i=e.link,o=e.closeIcon;return'\n  <div \n    class="story-viewer"\n    data-story-id="'.concat(t,'"\n  >\n    <div class="ntv-stories__head-bg"></div>\n\n    <div class="ntv-stories__head head">\n      <a \n        class="ntv-stories__user"\n        href="').concat(i,'"\n        rel="noopener" \n        target="_blank"\n      >\n        <div class="ntv-stories__user-img">\n          <img\n            lazy="eager"\n            class="profilePhoto"\n            src="').concat(n,'" \n          />\n        </div>\n        <div class="ntv-stories__user-info">\n          <span class="ntv-stories__user-info-name">\n            ').concat(t,'\n          </span>\n          <span class="ntv-stories__user-info-sponsored">\n            ').concat(r,'\n          </span>\n        </div>\n      </a>\n\n      <div class="ntv-stories__close" tabIndex="2">\n        <img src="').concat(o,'" />\n      </div>\n    </div>\n\n    <div class="ntv-stories__timers">\n      <div class="ntv-stories__timers__wrapper"></div>\n    </div>\n  </div>\n')},Zv=function(e){var t=e.index,n=e.id,r=e.length,i=e.isActive,o=e.isSeen,a=e.type;return'\n  <span \n    class="\n      '.concat(o?"seen":""," \n      ").concat(i?"active":"",'" \n      data-index="').concat(t,'" \n      data-item-id="').concat(n,'"\n      data-type="').concat(a,'"\n  >\n    <b style="animation-duration:').concat(""===r?"6":r,'s"></b>\n  </span>')},$v={src:function(e){return[{pattern:/@src/gi,value:e}]},type:function(e){return[{pattern:/@type/gi,value:e}]},id:function(e){return[{pattern:/@id/gi,value:e}]}};var em={fullscreen:function(e){return[{pattern:/@fullscreen/gi,value:e?"no-fullscreen":""}]},src:function(e){return[{pattern:/@src/gi,value:e}]},type:function(e){return[{pattern:/@type/gi,value:e}]}};var tm={src:function(e){return[{pattern:/@src/gi,value:nm(e)}]},type:function(e){return[{pattern:/@type/gi,value:e}]}};function nm(e){var t,n,r=(t=e,(n=document.createElement("a")).href=t,n),i="image/upload/e_blur:3000/assets"+r.pathname;return r.host=f.RESIZER_DOMAIN,r.pathname=i,r.href}function rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return im(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function om(e,t){var n=t.useGestures,r=null,i=null;var o={default:{touchstart:function(t){r=t.touches[0].clientX,i=t.touches[0].clientY,e.onTouchStart(t)},touchend:function(t){e.onTouchEnd(t,r)},mousedown:function(t){e.onTouchStart(t)},click:function(t){e.onTouchEnd(t,null,!0)}},gestures:{touchmove:function(t){e.onTouchMove(t),function(t){if(null!==r&&null!==i){var n=t.touches[0].clientX,o=t.touches[0].clientY,a=r-n,s=i-o;Math.abs(a)>Math.abs(s)?a>2?e.onSwipeLeft(t):a<-2&&e.onSwipeRight(t):s>5?e.onSwipeUp(t):s<-5&&e.onSwipeDown(t),r=null,i=null}}(t)}}};function a(e){Object.entries(o.default).forEach((function(t){var n=rm(t,2),r=n[0],i=n[1];e.addEventListener(r,i)})),n&&Object.entries(o.default).forEach((function(t){var n=rm(t,2),r=n[0],i=n[1];e.addEventListener(r,i)}))}return a(e),{addInteractionHandlers:a}}function am(e){return function(e){if(Array.isArray(e))return sm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cm(e){var t=e.adID,n=e.currentItem,r=e.storyItems,i=e.options,o=void 0===i?{useGestures:!0,useBackgroundBlur:!1}:i,a=zs(lm()),s=o.useGestures,c=o.useBackgroundBlur,l="",u={};r.forEach((function(e,r){var i="stories-slide-".concat(t,"-").concat(r),o=e.type,a=e.media,s=e.link,d=e.description?e.description.html:"",f=e.linkText,p=n===r,h=e.isFullscreen,v=e.seen,m=e.backgroundColor,y=document.createElement("div");y.innerHTML=e.description?e.description.html:"";var g=y.childNodes[0]&&"#comment"===y.childNodes[0].nodeName?y.childNodes[0].nodeValue:"";l+=um({index:r,id:i,type:o,src:a,text:d,link:s,linkText:f,isSeen:v,isActive:p,isFullscreen:h,customStyles:g,useBackgroundBlur:c,backgroundColor:m},u),e.id=i})),a.onTouchStart=function(e){},a.onTouchEnd=function(e){},a.onTouchMove=function(e){},a.onSwipeLeft=function(e){},a.onSwipeRight=function(e){},a.onSwipeUp=function(e){},a.onSwipeDown=function(e){},a.onUnmuteTouchEnd=function(e){};var d=new om(a,{useGestures:s}),f=document.createRange().createContextualFragment(l);a.appendChild(f),function(e,t,n){e.querySelectorAll(".ntv-slide-iframe").forEach((function(e){var r,i=e.id;if(t[i]){var o=t[i],a=document.createElement("iframe");(r=a.classList).add.apply(r,am(e.classList)),a.classList.add("ntv-stories__item-html"),a.id=i,a.setAttribute("frameBorder","0"),a.setAttribute("sandbox","allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups"),e.replaceWith(a);a.onload=function(){q.writeIframe(a,"","<head>".concat("<style>\n        html { overflow: hidden; }\n        body { \n          margin: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        #ntv-slide__content {\n          width: 100%;\n        }\n      </style>\n      ","</head>"),"<body><div id='ntv-slide__content'>".concat(o,"</div></body>")),n.addInteractionHandlers(this.contentWindow.document.body)}}}))}(a,u,d),a.videoElem=a.querySelector("video");for(var p=a.getElementsByClassName("ntv-stories__unmute-icon"),h=0;h<p.length;h++)p[h].addEventListener("touchend",(function(e){e.stopImmediatePropagation(),a.onUnmuteTouchEnd(e)}),!1),p[h].addEventListener("click",(function(e){e.stopImmediatePropagation(),a.onUnmuteTouchEnd(e)}),!1);return a}var lm=function(){return'\n  <div class="ntv-stories-slides slides">\n  </div>\n'},um=function(e,t){var n,r=e.index,i=e.id,o=e.type,a=e.isSeen,s=e.isActive,c=e.src,l=e.text,u=e.customStyles,d=e.isFullscreen,f=e.useBackgroundBlur,p=e.backgroundColor;switch((u?JSON.parse(u.replace(";","")):{}).position){case"top":n="flex-start";break;case"center":n="center";break;case"bottom":n="flex-end"}var h=function(e){var t=e.fullscreen,n=e.backgroundBlur,r=e.id,i=e.type,o=e.src;if(!o&&!i)return;var a=dm[i];return a?a({fullscreen:t,backgroundBlur:n,id:r,type:i,src:o}):""}({fullscreen:d,backgroundBlur:f,id:i,type:o,src:c});if(!h&&"string"==typeof l){var v="ntv-slide-iframe-".concat(r);t[v]=decodeURIComponent(l),h="<span class='ntv-slide-iframe' id=".concat(v,"></span>")}var m=function(e){var t=e.type,n=e.text;return t?n:""}({type:o,text:l}),y="ntv-stories__item--text-block";return""===m&&(y+=" ntv-stories__hidden"),'\n  <div \n    class="ntv-stories__item \n    '.concat(a?"seen":""," \n    ").concat(s?"active":"",'" \n    data-type="').concat(o,'" \n    data-index="').concat(r,'" \n    data-item-id="').concat(i,'"\n  >\n    <div class="ntv-stories__item-media" style="').concat(p?"background-color: ".concat(p,";"):"",'">\n      <div class="ntv-stories__item-media-container">\n        ').concat(h,'\n      </div>\n    </div>\n    <div \n      class="').concat(y,'"\n      style="align-items: ').concat(n,';"\n    >\n      <div class="ntv-stories__item--text" >\n        <span>').concat(m,"</span>\n      </div>\n    </div>\n  </div>\n")},dm={video:function(e){return rr(e,$v,'\n<video \n  class="ntv-stories__item-video"\n  muted\n  webkit-playsinline\n  playsinline\n  preload="auto"\n  src="@src"\n  @type\n  oncontextmenu="return false;"\n  data-video-id=@id\n></video>\n<img \n  class="ntv-stories__unmute-icon" \n  src="//s.ntv.io/img/unmute-icon.svg" \n/>')},photo:function(e){var t=rr(e,em,'\n<img\n  loading="auto"\n  class="ntv-stories__item-img @fullscreen"\n  src="@src" \n  @type\n  oncontextmenu="return false;"\n/>');return e.backgroundBlur&&(t=function(e){return rr(e,tm,'\n<img\n  loading="auto"\n  class="ntv-stories__item-media__bg"\n  src="@src" \n  @type\n  oncontextmenu="return false;"\n/>')}(e)+"\n"+t),t}};function fm(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pm(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){mm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mm(e,t,n){return(t=gm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gm(r.key),r)}}function gm(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var bm={adID:-1,adVersionPlacement:"",advertiser:"",advertiserLogo:"",sponsoredLabel:"",ctaLink:"",ctaLabel:"Learn More",baseTrackingUrl:"",adWrapperClass:"",stories:[],autoCloseTimeout:15,thirdPartyTrackers:{},previewImage:"",elementId:"ntv-stories-modal",stylesId:"ntv-stories-styles",stylesUrl:"//s.ntv.io/css/stories.css",storiesIcon:"//s.ntv.io/img/story-icon.svg",closeIcon:"//s.ntv.io/img/close-icon.svg",slideViewCallback:function(e){},useGestures:!0,useBackgroundBlur:!1},wm=0,Em=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=vm(vm(vm({},bm),t),{},{stories:t.stories}),this.data={[this.options.advertiser]:this.options,currentStory:this.options.advertiser,currentItem:0,currentVideoElement:null,hasBeenOpened:!1,hasBeenUnmuted:!1,isOpen:!1,startTime:0,slideNumberTracked:-1,trackTimeCap:15e4,document:window.frameElement?q.getTopWindow().document:window.document,appliedAnchorSlideIds:!1},this.initializeSlideTracking(),this.setupHeaderElements(),this.setupTimeTracker(),this.setupFocusHandler(),this.storiesModalElement=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document;return q.domQueryAll("#".concat(e)).length<1&&n.body.appendChild(t),t}(this.options.elementId,function(e){var t=e.elementId,n=zs(Xv({elementId:t})),r=n.children[0];n.content=r;var i=r.children[0];return n.slider=i,function(e,t,n){[n.toLowerCase(),"webkit".concat(n),"MS".concat(n),"o".concat(n)].forEach((function(n){return e.addEventListener(n,t,!1)}))}(n,(function(){n.classList.contains("closed")&&(n.style.display="none",n.classList.remove("closed"),n.classList.remove("animated"))}),"TransitionEnd"),n}({elementId:this.options.elementId}),this.data.document),this.createStoryViewer(),this.injectStoryIconToAd(),this.setupVideoDurations(),this.setupVideoTracking(),this.prepAdWrapperLinks()}var t,n,r;return t=e,r=[{key:"_instances",get:function(){var e=N("StoriesAds");return e.get("instances")||e.set("instances",{})}}],(n=[{key:"prepAdWrapperLinks",value:function(){var e=q.domQuery(".".concat(this.options.adWrapperClass));e||(e=q.domQuery("body"));var t=e.getElementsByTagName("a");if(t){var n,r=fm(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.getAttribute("href");i.getAttribute("target")&&-1!==o.indexOf("javascript:")&&i.setAttribute("target","_self")}}catch(e){r.e(e)}finally{r.f()}}}},{key:"initializeSlideTracking",value:function(){var e=this;this.options.stories.map((function(t,n){var r=e.data.slideNumberTracked>0&&n<=e.data.slideNumberTracked;return t.metricsTracked={},t.metricsTracked[Bv.gallery]=r,"video"===t.type&&(t.metricsTracked[Bv.videoEndActionType]=r),t}))}},{key:"handleSlideTracked",value:function(e){this.data.slideNumberTracked=Math.max(this.data.slideNumberTracked,e),this.options.slideViewCallback&&this.options.slideViewCallback(e)}},{key:"open",value:function(){var e=this;this.bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden",this.data.isOpen=!0,window.context&&J(ntv,"PostRelease.ampMode")&&Z({width:J(window,"context.initialIntersection.boundingClientRect.width"),height:J(window,"context.initialIntersection.rootBounds.height",0)-J(window,"context.initialIntersection.intersectionRect.height",0),allowOverflow:!1},context);var t=this.data[this.data.currentStory].stories[0];!this.data.hasBeenOpened&&this.data.slideNumberTracked<0?(this.sendTrackingData([Bv.secondaryImpressionActionType,Bv.clickActionType,Bv.articlePageViewActionType,Bv.gallery],t),this.handleSlideTracked(0),this.data.hasBeenOpened=!0,this.data.startTime=(new Date).getTime()):this.initializeSlideTracking(),this.storiesModalElement.style.display="block",(new Date).getTime()-this.data.startTime<this.data.trackTimeCap&&this.data.isOpen&&this.storiesModalElement.content.offsetParent&&(this.timeTracker.resume(),this.startSlideTimeTracking(t)),setTimeout((function(){e.storiesModalElement.classList.add("animated"),Qv("active",0,e.storiesModalElement);var t=e.options.stories[0];e.updateElementsPerSlide(t),e.playVideoItem(e.storyViewer)}),10)}},{key:"close",value:function(){document.body.style.overflow=this.bodyOverflow,this.data.isOpen=!1,function(e,t,n){for(var r=e.querySelectorAll("[data-index]"),i=0;i<r.length;i++)r[i].classList.remove("seen","active");t&&(t.style.transform="translate3d(0vw,0,0)"),n.currentItem=0}(this.storyViewer,this.modalSlides,this.data),!window.context&&J(ntv,"PostRelease.ampMode")&&Z({width:J(window,"context.initialLayoutRect.width"),height:J(window,"context.initialLayoutRect.height"),allowOverflow:!1},context),this.timeTracker.stop();var e=this.currentSlideToCTracker;e&&e.stop(),this.currentSlideToCTracker=null;for(var t=this.storyViewer.querySelectorAll("video"),n=0;n<t.length;n++)t[n].pause(),t[n].currentTime=0;this.storiesModalElement.classList.add("closed")}},{key:"setupTimeTracker",value:function(){this.timeTracker=new Yv(this.data,this.options)}},{key:"startSlideTimeTracking",value:function(e){this.currentSlideToCTracker&&this.currentSlideToCTracker.stop(),e.timeTracker?e.timeTracker.resume():e.timeTracker=new Yv(this.data,this.options,e.slideID,!1,!0),this.currentSlideToCTracker=e.timeTracker}},{key:"playVideoItem",value:function(e){var t=this.getActiveItem(),n=t.timer,r=t.storyElement,i=n.dataset.index;if(!r||!n)return!1;var o=this.data.currentVideoElement;if(o&&o.pause(),"video"===r.getAttribute("data-type")){var a=r.getElementsByTagName("video")[0],s=r.getElementsByTagName("img")[0];if(!a)return this.data.currentVideoElement=!1,!1;e.classList.contains("paused")||0===parseInt(i)||(a.currentTime=0),this.data.currentVideoElement=a,this.data.currentMuteIcon=s,this.data.hasBeenUnmuted||(a.muted=!0),a.play().catch((function(){}))}else this.data.currentVideoElement=!1}},{key:"pauseVideoItem",value:function(){var e=this.data.currentVideoElement;if(e)try{e.pause()}catch(e){}}},{key:"createStoryViewer",value:function(){var e=this,t=this.options.stories,n={useGestures:this.options.useGestures,useBackgroundBlur:this.options.useBackgroundBlur},r=this.data.currentItem||0,i=cm({adID:this.options.adID,currentItem:r,storyItems:t,options:n});this.modalSlides=i,this.storyViewer=function(e){var t=e.advertiser,n=e.advertiserLogo,r=e.sponsoredLabel,i=e.link,o=e.closeIcon,a=e.currentItem,s=e.storyItems,c=(e.video,zs(Jv({advertiser:t,advertiserLogo:n,sponsoredLabel:r,link:i,closeIcon:o}))),l="";s.forEach((function(e,n){var r=t+"-"+n,i=e.duration||6,o=a===n,s=e.seen;l+=Zv({index:n,id:r,length:i,isSeen:s,isActive:o,type:e.type})})),c.querySelector(".ntv-stories__timers__wrapper").innerHTML=l,c.onClose=function(){};var u=c.querySelector(".ntv-stories__close"),d=c.querySelector(".ntv-stories__close img");function f(e){e.preventDefault(),e.stopImmediatePropagation(),c.onClose()}return u.addEventListener("touchend",f,!1),d.addEventListener("touchend",f,!1),u.addEventListener("click",f,!1),d.addEventListener("click",f,!1),c.onDurationEnd=function(){},c.querySelectorAll(".ntv-stories__timers b").forEach((function(e){e.addEventListener("animationend",(function(){c.onDurationEnd()}),!1)})),c}({advertiser:this.options.advertiser,advertiserLogo:this.options.advertiserLogo,sponsoredLabel:this.options.sponsoredLabel,link:this.options.ctaLink,closeIcon:this.options.closeIcon,currentItem:r,storyItems:t,video:i.videoElem}),this.storyViewer.appendChild(i),this.storyViewer.onClose=function(){e.close()},this.storyViewer.onDurationEnd=function(){e.nextItem(!1,i)},i.onSwipeLeft=function(){e.nextItem(!1,i)},i.onSwipeRight=function(){e.nextItem("previous",i)},i.onSwipeDown=function(){e.close()};var o,a,s,c,l,u,d,f=!1;i.onTouchStart=function(t){if("A"===t.target.nodeName)return!0;q.isiOS()&&t.preventDefault(),f=!1,e.storyViewer&&e.storyViewer.classList.add("paused"),o=setTimeout((function(){e.storyViewer.classList.add("longPress")}),600),a=setTimeout((function(){clearInterval(a),a=!1}),250),e.pauseVideoItem()},i.onTouchMove=function(e){f=!0},i.onTouchEnd=function(t,n,r){if("A"===t.target.nodeName)return!0;t.preventDefault(),o&&clearInterval(o);var s=!1;if(a&&(clearInterval(a),a=!1,!f))if(s=!0,r){var c=t.target;c.offsetWidth/2>t.clientX-c.getBoundingClientRect().left?e.nextItem("previous",i):e.nextItem(!1,i)}else n>q.getTopWindow().innerWidth/2?e.nextItem(!1,i):e.nextItem("previous",i);e.storyViewer&&(e.storyViewer.classList.remove("longPress"),e.storyViewer.classList.remove("paused"),s&&f||!e.data.isOpen||e.playVideoItem(e.storyViewer))},i.onUnmuteTouchEnd=function(t){var n,r;n=e.data.currentVideoElement,r=e.storyViewer,n.muted=!1,n.volume=1,n.removeAttribute("muted"),n.play(),n.paused&&(n.muted=!0,n.play()),r&&r.classList.remove("paused"),e.data.currentMuteIcon.style.opacity="0",e.data.hasBeenUnmuted=!0},this.storiesModalElement.slider.appendChild(this.storyViewer),this.storiesModalElement.slider.appendChild(zs((s={ctaLink:this.options.ctaLink,ctaLabel:this.options.ctaLabel},c=s.ctaLink,l=void 0===c?"":c,u=s.ctaLabel,"\n  ".concat((d=void 0===u?"Learn More":u)?'\n      <div class="ntv-stories__item-link">\n        <a\n          class="ntv-stories__item-link__wrapper"\n          href="'.concat(l,'" \n          rel="noopener" \n          target="_blank"\n        >\n          <div class="ntv-stories__item-link__tag">\n            ').concat(d,"\n          </div>\n        </a>\n      </div>"):"","\n"))))}},{key:"nextItem",value:function(e,t){var n=this;clearTimeout(wm);var r=this.data.currentStory,i=this.data.currentItem,o=(this.data[r].stories[i],"previous"===e?-1:1);if(!this.storyViewer||1===this.storyViewer.touchMove)return!1;var a=i+o,s=this.storyViewer.querySelectorAll('[data-index="'.concat(a,'"]')),c=s[0],l=s[1];if(this.storyViewer&&c&&l){if("previous"===e)!function(e,t,n){var r=e-1;Qv("reset",e,t);var i="-".concat(100*r,"vw");n&&(n.style.transform="translate3d(".concat(i,",0,0)")),Qv("active",r,t)}(i,this.storyViewer,t);else{var u=function(e,t,n){var r=e+1;Qv("seen",e,t);var i="-".concat(100*r,"vw");return n&&(n.style.transform="translate3d(".concat(i,",0,0)")),Qv("active",r,t),r}(i,this.storyViewer,t),d=this.data[r].stories[u];d.metricsTracked[Bv.gallery]||(this.sendTrackingData([Bv.gallery],d),this.handleSlideTracked(u))}this.data.currentItem=i+o;var f=this.options.stories[this.data.currentItem];this.playVideoItem(this.storyViewer),this.updateElementsPerSlide(f),this.startSlideTimeTracking(f)}else wm=setTimeout((function(){n.data.isOpen&&n.close(),clearTimeout(wm)}),1e3*this.options.autoCloseTimeout)}},{key:"updateElementsPerSlide",value:function(e){this.setCtaData(e.ctaLabel||this.options.ctaLabel,this.composeCtaLink(this.options.ctaLink,e)),this.setAnchorSlideId(e.slideID)}},{key:"setAnchorSlideId",value:function(e){var t=this,n=new RegExp("(".concat(f.SLIDE_ID,"=)(\\d*)"));q.domQueryAll("a:not(".concat(".ntv-stories__item-link__wrapper",")"),this.storiesModalElement).forEach((function(r){t.data.appliedAnchorSlideIds?r.href=r.href.replace(n,(function(t,n){return"".concat(n).concat(e)})):r.href=r.href+="&".concat(f.SLIDE_ID,"=").concat(e)})),this.data.appliedAnchorSlideIds=!0}},{key:"sendTrackingData",value:function(e,t){var n=this,r=Hv(this.options.baseTrackingUrl,e.join(),this.options.adID,this.options.adVersionPlacement);t.slideID&&(r+="&".concat(f.SLIDE_ID,"=").concat(t.slideID));var i="";e.forEach((function(e){n.options.thirdPartyTrackers[e]&&(i+=n.options.thirdPartyTrackers[e])})),Mi(r,i,1),e.forEach((function(e){t.metricsTracked.hasOwnProperty(e)&&(t.metricsTracked[e]=!0)}))}},{key:"setupHeaderElements",value:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,t=e.createElement("meta");t.id="ntv-mobile-scale-tag",t.name="viewport",t.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,viewport-fit=cover",e.getElementsByTagName("head")[0].appendChild(t)}(this.data.document),q.ntvAppendStylesheet(this.options.stylesId,this.options.stylesUrl,this.data.document)}},{key:"setupFocusHandler",value:function(){var e=this;q.onFocusEvents.push((function(){window.onFocus||e.data.isOpen&&e.close(),setTimeout((function(){for(var t=e.storyViewer.querySelectorAll("video"),n=0;n<t.length;n++)t[n].pause()}),100)}))}},{key:"injectStoryIconToAd",value:function(){var e=this;if("loading"!==this.data.document.readyState){var t=q.domQuery("."+this.options.adWrapperClass,this.data.document);Kv(this.options.previewImage,t)}else this.data.document.addEventListener("DOMContentLoaded",(function(){var t=q.domQuery("."+e.options.adWrapperClass,e.data.document);Kv(e.options.previewImage,t)}))}},{key:"setupVideoDurations",value:function(){for(var e=this.storyViewer.querySelectorAll('span[data-type="video"]'),t=this.storyViewer.querySelectorAll('div[data-type="video"]'),n=function(n){var r=t[n].getElementsByTagName("video");r.length>0&&r[0].addEventListener("loadedmetadata",(function(){!function(e,t){["animationDuration","webkitAnimationDuration","MSAnimationDuration","oAnimationDuration"].forEach((function(n){e[n]=t}))}(e[n].getElementsByTagName("b")[0].style,"".concat(r[0].duration,"s"))}))},r=0;r<t.length;r++)n(r)}},{key:"setupVideoTracking",value:function(){var e=this;this.options.stories.map((function(t,n){if("video"===t.type&&!t.metricsTracked[Bv.videoEndActionType]){var r=q.domQuery("[data-video-id=".concat(t.id,"]"));r&&r.addEventListener("ended",(function(){e.sendTrackingData([Bv.videoEndActionType],t)}))}}))}},{key:"getActiveItem",value:function(){return{timer:this.storyViewer.querySelector('span[data-index="'.concat(this.data.currentItem,'"].active')),storyElement:this.storyViewer.querySelector('div[data-index="'.concat(this.data.currentItem,'"].active'))}}},{key:"setCtaData",value:function(e,t){e&&(this.storiesModalElement.querySelector(".ntv-stories__item-link__tag").textContent=e),t&&this.storiesModalElement.querySelector(".ntv-stories__item-link__wrapper").setAttribute("href",t)}},{key:"composeCtaLink",value:function(e,t){return t.slideID&&(e+="&".concat(f.SLIDE_ID,"=").concat(t.slideID)),""!==t.ctaLink.trim()&&(e=q.removeQueryKeyValuePairs("ntv_r",e),e+="&".concat(f.REDIRECT,"=").concat(encodeURIComponent(t.ctaLink))),e}}])&&ym(t.prototype,n),r&&ym(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sm(e){for(this.isNtvWrapper=!0,this.push=function(e){return e()};e.length>0;)try{var t=e.shift();"function"==typeof t&&t()}catch(e){}}function Tm(){window.ntv.cmd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.isNtvWrapper||(e=new Sm(e)),e}(window.ntv.cmd)}var km="https://".concat(f.JDOMAIN,"/trk.gif?");function Pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=(new Date).getTime()-e;return isNaN(t)?n:Math.min(n,t)}function Am(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntv=window.ntv||{},t.ntv.cmd=window.ntv.cmd||[],t.ntv.cmd.push((function(){var t="ntv_mat="+Object.keys(e).reduce((function(t,n,r){return t+"".concat(r>0?";":"").concat(n,"*").concat(e[n])}),"");ntv.Util.appendImage(km+t+ntv.Util.buildExperimentUrl(ntv.PostRelease.setting.experiment))}))}function Im(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntv.dfpInitLoadFlag=!0,Am({[f.DFP_INIT_LOAD]:e},t)}function Cm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntv.renderTimeFlag=!0,Am({[f.DFP_FIRST_RENDER]:e},t)}function Om(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;n.ntv.trackFillFlag=!0,Am({[f.DFP_TOTAL_AVAILABLE]:e,[f.DFP_TOTAL_FILLED]:t},n)}function _m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(!e.ntv.processDfpTracking&&ntv.PostRelease.setting.isEdge||"1*101"==ntv.PostRelease.setting.experiment){var t=e.performance.timing.navigationStart;if(e.googletag&&!e.ntv.dfpInitLoadFlag&&Im(Pm(t)),e.googletag&&e.googletag.apiReady){e.ntv.processDfpTracking=!0;var n=googletag.pubads().getSlots().length,r=0,i={};e.googletag.pubads().addEventListener("slotRenderEnded",(function(o){if(e.ntv.renderTimeFlag||Cm(Pm(t)),!i[o.slot.getSlotElementId()]){var a={};i[o.slot.getSlotElementId()]=a,a.isRendered=!o.isEmpty,a.isRendered&&r++,n!=r||e.ntv.trackFillFlag||Om(n,n)}})),setTimeout((function(){e.ntv.trackFillFlag||Om(r,n)}),3e4)}else setTimeout(_m,100)}}var Rm=q.getTopWindow(),xm=window.Nativo||Rm.Nativo||{},Lm=window,Dm=function(e){e.processed=!0;var t=(ntv.MRAID?"https:":q.getProtocol()||q.getProtocol(Rm)||"https:")+"//"+q.getServerDomain()+"/display.js?",n=e.a?"prx_a="+e.a:e.c?"prx_c="+e.c:e.b?"ntv_b="+e.b:"",r=e.mode||0;e.doc=e.doc||Lm.document,Rm.Nativo=Rm.Nativo||Lm.Nativo,n+="&ntv_m="+r,n+=e.z?"&ntv_z="+e.z:"",e.au&&(n+="&ntv_au="+e.au,e.clk&&(xm.tpc["#"+e.au]=e.clk)),xm.pageURL?n+="&prx_url="+encodeURIComponent(xm.pageURL):3!=r&&(n+="&prx_url="+encodeURIComponent(Rm.location.href)),!e.a&&xm.atf.length>0&&(n+="&ntv_atf="+xm.atf.join()),e.pau&&(n+="&ntv_pau="+encodeURIComponent(e.pau)),e.pkv&&(n+="&ntv_pkv="+encodeURIComponent(e.pkv)),e.im&&(n+="&ntv_im="+encodeURIComponent(e.im)),e.w&&(n+="&ntv_dfpw="+encodeURIComponent(e.w)),e.h&&(n+="&ntv_dfph="+encodeURIComponent(e.h)),n+=q.attachFirstPartyCookieQS(fv.firstPartyCookie),n+="&rand="+1e9*Math.random(),ip().then((function(r){q.appendScript(t+n+(r?"&".concat(f.US_PRIVACY,"=").concat(r):""),void 0,void 0,e.doc),ke.performance.set("sendRequest")}))};ntv.MRAID||(xm.tpc=xm.tpc||{},xm.atf=xm.atf||[],xm.ads=xm.ads||[],xm.ads._push=xm.ads._push||xm.ads.push,xm.ads.push=function(e){return Dm(e),this._push(e)});for(var Nm=0;Nm<xm.ads.length;Nm++){var jm=xm.ads[Nm];jm.processed||Dm(jm)}var Vm={},Mm=function(e){e.data.adContentWidgetID&&Vm[e.data.adContentWidgetID]&&(Um(e.data.adContentWidgetID,e.data.eventID),e.stopPropagation())},Um=function(e,t){if(e&&t){var n=Vm[e],r=t,i=n.eventMap[r.toString()]||"";q.insertTracking(n.baseTrackingUrl+r,i,1)}};function Fm(e){var t=JSON.parse(q.decryptUrl(e)),n=JSON.parse(t.data),r=n.adContentWidgetID;for(var i in t.injectionMode=t.injectionMode||0,Vm[r]=t,n.inputs)n.inputs[i]=n.inputs[i].replace(/<\/script>/gi,"<\\/script>");var o="";2==t.injectionMode?o+="<script>ntv.Widget"+r+" = ntv.Widget"+r+" || {}; ntv.Widget"+r+".data="+JSON.stringify(n.inputs)+";ntv.Widget"+r+".data.adContentWidgetID="+n.adContentWidgetID+";ntv.Widget"+r+".trackEvent = function(id) { ntv.Widget.trackEvent(ntv.Widget"+r+".data.adContentWidgetID, id)};<\/script>":o+="<style>body{top:0px;left:0px;margin:0;}"+t.css+"</style><script>ntv.Widget = ntv.Widget || {}; ntv.Widget.data="+JSON.stringify(n.inputs)+";ntv.Widget.data.adContentWidgetID="+n.adContentWidgetID+";<\/script>",t.js.length>0&&(o+="<script>"+t.js+"<\/script>");var a="#ntvContentWidget"+r,s=q.domQuery(a);if(0==t.injectionMode||1==t.injectionMode){0==t.injectionMode&&s.sandbox.forEach(s.sandbox.remove);var c="<html><head>"+o+"</head><body>"+t.template+"</body>";s.contentWindow.postMessage(c,"https://s.ntv.io"),s.removeAttribute("onload"),window.addEventListener("message",Mm,!0)}else 2==t.injectionMode&&(ntv.Widget=ntv.Widget||{},ntv.Widget.trackEvent=Um,ntv.Widget.receiveMessage=Mm,ntv.query(a).append(o+t.template))}var Bm;function Hm(e,t){if(e)try{Wm(e,t)}catch(n){e.addEventListener("readystatechange",(function n(){"interactive"!==e.readyState&&"complete"!==e.readyState||(e.removeEventListener("readystatechange",n),Wm(e,t))}))}}function Wm(e,t){var n=e.contentWindow.document,r=new qm(t);Object.keys(r).forEach((function(e){n.addEventListener(e,r[e],!1)})),checkForCrossdomainIframeClick({frame:e,callback:r.click.callback,once:!0})}function qm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowMultipleClicks:!1},r=!1,i=function(t){r&&!n.allowMultipleClicks||(q.appendImage(e),r=!0,t&&t.currentTarget&&l(t.currentTarget))},o=function(){t=!1},a=function(){t=!0},s=function(n){if(!t){if(q.appendImage(e),!n||!n.currentTarget)return;l(n.currentTarget)}},c={click:i,touchstart:o,touchmove:a,touchend:s},l=function(e){Object.keys(c).forEach((function(t){e.removeEventListener(t,c[t])}))};return c}function Gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qm(r.key),r)}}function Ym(e,t){Xm(e,t),t.add(e)}function Qm(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Km(e,t,n){Xm(e,t),t.set(e,n)}function Xm(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jm(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,$m(e,t,"get"))}function Zm(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,$m(e,t,"set"),n),n}function $m(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var ey="ready",ty="started",ny="completed",ry="timedOut",iy=new WeakMap,oy=new WeakMap,ay=new WeakMap,sy=new WeakMap,cy=new WeakMap,ly=new WeakMap,uy=new WeakSet,dy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;Gm(this,e),Ym(this,uy),Km(this,iy,{writable:!0,value:void 0}),Km(this,oy,{writable:!0,value:void 0}),Km(this,ay,{writable:!0,value:void 0}),Km(this,sy,{writable:!0,value:void 0}),Km(this,cy,{writable:!0,value:void 0}),Km(this,ly,{writable:!0,value:void 0}),Zm(this,sy,t),Zm(this,ly,new fo),this.state=ey,Object.defineProperty(this,"renderTime",{get(){return Jm(this,ay)}})}var t,n,r;return t=e,(n=[{key:"start",value:function(){if(this.state===ey)return Zm(this,iy,Date.now()),Zm(this,cy,setTimeout(function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,uy,fy).bind(this),Jm(this,sy))),this.state=ty,Jm(this,iy)}},{key:"complete",value:function(){if(this.state===ty)return clearTimeout(Jm(this,cy)),Zm(this,oy,Date.now()),Zm(this,ay,Jm(this,oy)-Jm(this,iy)),this.state=ny,Jm(this,ly).publish(e.EVENT.COMPLETE),Jm(this,ay)}},{key:"on",value:function(e,t){Jm(this,ly).subscribe(e,t)}}])&&zm(t.prototype,n),r&&zm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fy(){this.state!==ny&&(this.state=ry,clearTimeout(Jm(this,cy)),Jm(this,ly).publish(Bm.EVENT.TIMEOUT))}function py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vy(r.key),r)}}function hy(e,t,n){return t&&py(e.prototype,t),n&&py(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vy(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}Bm=dy,function(e,t,n){(t=Qm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dy,"EVENT",{COMPLETE:"complete",TIMEOUT:"timeout"});var my=hy((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.tracking=n,this.renderStatus=new dy,this.handlers={},this.iframeElement=void 0})),yy="https://".concat(f.SCRIPTS_DOMAIN),gy="".concat(yy,"/safeFrame/").concat("1-1-1"),by="".concat(gy,"/js/host.js"),wy="".concat(gy,"/html/safeFrame.html");function Ey(e){var t=q.getTopWindow(),n=t.document,r=e.id,i=e.target,o=e.head,a=e.body,s=e.width,c=e.height,l=e.ntvSafeFrame;if(i&&q.isElement(i)&&null!=o&&q.is("s",o)&&null!=a&&q.is("s",a)){var u={scriptInjected:!1,bootloaded:!1,configured:!1,rendered:!1};return function(){var e=Date.now();function r(i){if(Date.now()-e>=3e5&&i(!1),!(void 0!==t.$sf&&null!=t.$sf)||!u.scriptInjected){var o;if(null==t||null===(o=t.$sf)||void 0===o?void 0:o.host)return void i(!0);var a=n.getElementById("ntv-safeframe-host");return a||(a=q.appendScript(by,void 0,"ntv-safeframe-host",q.getTopWindow().document)),a.addEventListener("load",(function(){i(!0)})),void(u.scriptInjected=!0)}setTimeout(r,50)}return new Promise((function(e,t){r((function(n){n?e():t()}))}))}().then((function(){u.bootloaded=!0,t.$sf.host.Config()||new t.$sf.host.Config({renderFile:wy,positions:{},onEndPosRender:Sy}),u.configured=!0;var e=d(),n=e.id;return t.$sf.host.render(e),l.renderStatus.start(),new Promise((function(e,t){l.renderStatus.on(dy.EVENT.COMPLETE,(function(){var t=Ty(n);e(t)})),l.renderStatus.on(dy.EVENT.TIMEOUT,(function(){t(new Error("IAB SafeFrame Render Timeout"))}))}))})).catch((function(e){return e instanceof Error||(e=new Error("IAB SafeFrame Bootload Failed")),Promise.reject(e)}))}function d(){var e,n={w:s||i.getAttribute("width"),h:c||i.getAttribute("height")},l=q.breakOutIframe()||i,u=document.createElement("div");!function(e,t,n){if(!e||!q.isElement(e))return;t&&(e.style.width=t,e.setAttribute("width",t));n&&(e.style.height=n,e.setAttribute("height",n))}(u,n.w,n.h),u.id=r,l!==i&&i.replaceWith(u),l.style.display="none",l.parentNode.insertBefore(u,l),n.id=r,n.dest=r,n.css=(e=o)&&q.is("s",e)?e.replaceAll("<style>","").replaceAll("</style>",""):"";var d=t.$sf.host,f={id:r},p={core:fv.id},h=new d.PosMeta(f,"ntv",p),v=new d.PosConfig(n);return new d.Position(v,a,h)}}function Sy(e){var t=Ty(e);t.wrapper.classList.contains("iab_sf")&&(t.wrapper.style.display="inline-block");var n=N("ntvSafeFrames");if(n.has(e)){var r=n.get(e);r.renderStatus.complete(),r.iframeElement=t.frame}}function Ty(e){var t=q.getTopWindow(),n=t.document,r=t.$sf,i=r.host,o=r.lib,a=i.get(e),s=o.lang.ParamHash(a.meta,"&","=",!1,!0),c=+s.non_shared.ntv.core,l=n.querySelector('[id*="'.concat(e,'"]')),u=l.querySelector("iframe");return{posData:a,meta:s,coreId:c,wrapper:l,frame:u}}function ky(e){var t=N("ntvSafeFrames");if(t.has(e))return t.get(e)}var Py={renderComplete:function(e){var t=ky(e);t&&function(e){var t=e.id,n=e.tracking;if(null==t||null==n)return;var r=n.viewableImpressions;if(!function(e){return null!=e&&(!!Array.isArray(e)&&0!=e.length)}(r))return;r.forEach((function(e){e.selector="#".concat(t);var n=new Mv(e);fv[n.id]=n})),fv.checkIsAdVisible()}(t)},recordStandardImpression:function(e){var t=ky(e);t&&function(e){var t=e.tracking;if(null==t)return;var n=t.standardImpression;if(!function(e){return null!=e&&("object"==typeof e&&0!=Object.keys(e).length)}(n))return;Uv(n)}(t)}},Ay=["0","1"];function Iy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cy(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _y(e){var t,n="",r=Cy(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+='window.ntv.iframe["'.concat(i,'"] = postMessageCall.bind(this, "').concat(i,'");\n')}}catch(e){r.e(e)}finally{r.f()}return n}var Ry=["sfgate.com","sporcle.com"];var xy=function(){if(q.resolveIframeType()===f.IFRAME_TYPES.SAFE_NO_API)return!1;var e=window.location.hostname.replace("www.","");return-1!==Ry.indexOf(e)};function Ly(e){e.safe=!0,Dy(e)}function Dy(e){var t=e.selector,n=e.width,r=e.height,i=e.content,o=e.tracking,a=e.safe;if(t&&i){var s;try{(s=q.domQuery(t,document))||(s=q.domQuery(t,q.getTopWindow().document))}catch(e){q.postError("createIframe selector: ".concat(t,", causing breaking error"))}if(s)return jy(s,function(e){try{return q.decryptUrl(e)}catch(t){return e}}(i),{width:n,height:r,tracking:o,safe:a})}}function Ny(e){var t=e.target,n=e.head,r=e.body,i=e.tracking,o=e.width,a=e.height,s=i.clickTrackerUrl,c=q.getTopWindow(),l="ntv-safe-"+q.getRandomInt(),u="<ntv-safe-creative>\n".concat(r,"\n").concat(function(e){return'<ntv-div style="display: none">\n    '.concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=q.getTopWindow(),n=_y(e);return'<script>\n    (function() {\n      function postMessageCall(type) {\n        const payload = { type: "'.concat("ntv-iframe-message",'", args: arguments };\n        window.top.postMessage(JSON.stringify(payload), "').concat(t.location.origin,'");\n      };\n\n      if(window.ntv === undefined) {\n        window.ntv = {};\n        window.ntv.iframe = {}\n        ').concat(n,"\n      }\n    })();\n  <\/script>")}(["renderComplete","recordStandardImpression","click"]),"\n    ").concat(function(e){return"<script>\n    ".concat(Vy("renderComplete",e),";\n  <\/script>")}(e),"\n    ").concat(function(e){return"<script>\n    ".concat(Vy("recordStandardImpression",e),"\n  <\/script>")}(e),"\n    ").concat(function(e){return'<script>\n    document.body.addEventListener("click", () => {\n      '.concat(Vy("click",e),"\n    });\n  <\/script>")}(e),"\n  </ntv-div>")}(l),"\n</ntv-safe-creative>"),d=N("ntvSafeFrames");c.ntv.PostRelease.hasSafeFrameListener||(c.addEventListener("message",(function(e){if(e.origin==yy){var t;try{t=JSON.parse(e.data)}catch(e){return}var n=t,r=n.type,i=n.args;if("ntv-iframe-message"===r){var o=i[0],a=i[1],s=Iy(i,Ay),c=ky(a).handlers[o];if(c){var l=Object.values(s);c.apply(void 0,[a].concat(l))}}}})),c.ntv.PostRelease.hasSafeFrameListener=!0);var f=new my(l,i);return f.handlers=Object.assign(Py,new qm(s)),d.set(l,f),Ey({id:l,target:t,head:n,body:u,width:o,height:a,ntvSafeFrame:f}).then((function(e){var t;i.viewableImpressions||(t=e,fv.viewableImpressionTrackers.forEach((function(e){e.elements?e.elements.push(t.wrapper):e.elements=[t.wrapper]})),fv.checkIsAdVisible())}))}function jy(e,t,n){if(e&&t&&q.isElement(e)){var r,i=n.tracking,o=n.width,a=n.height,s=n.safe,c={target:e,head:"<style>body{-ms-overflow-style: none;}body,div,span,a,img,video,p,li,ul,em,b,i{padding: 0px 0px 0px 0px !important;margin: 0px 0px 0px 0px !important;}body,div,a,ul,li,p{}</style>",body:t,tracking:i,width:o,height:a};if(void 0===s||s)r=Ny(c);else{if("IFRAME"!==c.target.nodeName){var l=function(e,t,n){var r=document.createElement("iframe");return r.setAttribute("width",t),r.setAttribute("height",n),r.setAttribute("style","border: none; outline: none;"),e.appendChild(r),r}(c.target,o,a);c.target=l}r=function(e){var t=e.target,n=e.head,r=e.body,i=e.tracking.clickTrackerUrl,o="ntv-friendly-"+q.getRandomInt();try{if(t.nodeName)var a=ntv.Util.writeIframe(t,"",n,r)}catch(t){return Promise.reject({config:e})}t.setAttribute("data-enc-script",""),ntv.contentModal&&t.setAttribute("data-ntv-script","");var s=a.defaultView.frameElement;return s.id=o,Hm(s,i),Promise.resolve({frameDoc:a,config:e})}(c)}return r.catch((function(e){q.postError(e,!0)})),r}}function Vy(e,t,n){return n?"window.ntv.iframe.".concat(e,'("').concat(t,'",').concat(JSON.stringify(n),")"):"window.ntv.iframe.".concat(e,'("').concat(t,'")')}function My(e,t){if(e){var n=function(e){if(e&&0!==e.length)return e;if(!e.selector)return;var t=q.getTopWindow().document,n=ntv.query(e.selector,t);if(0!==n.length)return n;var r=ntv.win.document.querySelector(e.selector);return ntv.query(r)}(e);if(n&&0!==n.length){var r=q.toDomElement(n);if(r)if(r.getAttribute("data-enc-script")){var i=q.decryptUrl(r.getAttribute("data-enc-script"));jy(r,i,{tracking:{clickTrackerUrl:t},safe:xy()})}else{if(r.getAttribute("data-ntv-script")&&ntv.contentModal){var o=decodeURIComponent(r.getAttribute("data-ntv-script"));jy(r,o,{tracking:{clickTrackerUrl:t},safe:!0})}Hm(e,t)}}else q.postError(new Error("bindClickIframe() target iframe not found. iframe:".concat(JSON.stringify(e),", clickTrackerUrl:").concat(JSON.stringify(t))))}}function Uy(){var e=ntv.query;function t(t){t.setAttribute("sandbox","allow-same-origin allow-popups allow-popups-to-escape-sandbox");var n=t.contentWindow.document,r=e(n.body),i=function e(t){for(var n=0;n<t.children.length;){if(/img|body|div|iframe/.test(t.children[n].tagName.toLowerCase())&&0!=t.children[n].getBoundingClientRect().width)return t.children[n];if(/iframe/.test(t.children[n].tagName.toLowerCase())&&void 0!==window.getComputedStyle&&""==window.getComputedStyle(t.children[n]).width)return e(t.children[n].contentWindow.document.body);if(/iframe/.test(t.children[n].tagName.toLowerCase())&&void 0!==window.getComputedStyle&&""!=window.getComputedStyle(t.children[n]).width)return t.children[n];if(/iframe/.test(t.children[n].tagName.toLowerCase())&&(void 0===t.children[n].style.width||""==t.children[n].style.width))return e(t.children[n].contentWindow.document.body);if(t.children[n]instanceof HTMLElement&&/div|span|ul/.test(t.children[n].tagName.toLowerCase())&&t.children[n].children.length>0)return e(t.children[n]);if(t.children[n]instanceof HTMLElement&&/img|body|div/.test(t.children[n].tagName.toLowerCase()))return e(t.children[n]);n++}return t.children[n]}(r[0]),o=new RegExp("complete");t.style.display="block",0!=r.length&&(null==i&&(i=e(n.body).children()[0]),r[0].scrollHeight>1&&o.test(n.readyState)?(t.style.height=r[0].scrollHeight+"px",t.style.width=r[0].scrollWidth+"px"):(t.style.width=i.scrollWidth?i.scrollWidth+"px":i.style.width,t.style.height=i.scrollHeight?i.scrollHeight+"px":i.style.height,function e(t){if(t.checkSizeTimeout&&clearTimeout(t.checkSizeTimeout),"iframe"!=t.tagName.toLowerCase()||t.contentWindow){var n=ntv.query(t.contentWindow.document),r=n.width(),i=n.height();if(r>1&&i>1&&r!==i)return t.style.width=r+"px",void(t.style.height=i+"px");Date.now()-t.renderingStart>6e3||(t.checkSizeTimeout=setTimeout((function(){e(t)}),500))}}(t)),!ntv.Util.is("u",i)&&i.getBoundingClientRect().height&&ntv.query(r).find("iframe").length&&i.getBoundingClientRect().height>t.style.height.replace("px","")&&i.getBoundingClientRect().height&&(t.style.height=ntv.Util.is("u",window.getComputedStyle)||isNaN(window.getComputedStyle(i).height)?i.style.height?i.style.height+"px":i.getBoundingClientRect().height+"px":window.getComputedStyle(i).height+"px"))}e.each(e(".ntv-adunit"),(function(n,r){var i,o;r.hasAttribute("ntv-companion-processed")||(r.checkSizeTimeout,r.renderingStart=Date.now(),r.setAttribute("scrolling","no"),void 0===r.rendered&&(!function(t){var n;t.getAttribute("data-enc-script")?n=ntv.Util.decryptUrl(t.getAttribute("data-enc-script")):t.getAttribute("data-ntv-script")&&(n=decodeURIComponent(t.getAttribute("data-ntv-script")),t.contentWindow.ntv=ntv),ntv.Util.writeIframe(e(t),"","<style>body{-ms-overflow-style: none;}body,div,span,a,img,video,p,li,ul,em,b,i{padding: 0px 0px 0px 0px !important;margin: 0px 0px 0px 0px !important;}body,div,a,ul,li,p{}</style>",n)}(r),r.rendered=!0),r.setAttribute("sandbox","allow-same-origin"),t(r),r.addEventListener("load",(function(){t(r)})),(o=(i=r).attributes["ntv-click-tracker"]?i.attributes["ntv-click-tracker"].value:void 0)&&My(i,o),r.setAttribute("ntv-companion-processed",!0))}))}function Fy(e){ntv.Util.copyProperties(e,this),e.slideshow.slides.forEach((function(e){ntv.Util.keysToLowercase(e)}));var t={metadata:"ntv-gallery-metadata",footer:"ntv-gallery-footer",headline:"ntv-gallery-headline",currentSlide:"ntv-gallery-current-slide",totalSlides:"ntv-gallery-total-slides",description:"ntv-gallery-description",date:"ntv-gallery-date",photoCredit:"ntv-gallery-photo-credit",detailInfo:"ntv-gallery-detailinfo"},n={string:!0,number:!0},r=void 0===n[typeof this.slideshowID]?"":"ntv-gallery-".concat(this.slideshowID),i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t[e]?a(t[e],n," "):"".concat(n).concat(r)},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t[e]?a(t[e],n):"".concat(n).concat(r)},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return""===r?"".concat(t).concat(e):"".concat(t).concat(r).concat(n).concat(t).concat(e)},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return""===r?"".concat(t).concat(e):"".concat(t).concat(e).concat(n).concat(t).concat(r)};ntv.Util.adBlocker&&ntv.query("iframe[id^='ntv']").each((function(e,t){t.id=t.id.replace("ntv","prx")}));var c,l=this,u=ntv.query,d=ntv.CONSTS,f=ntv.Util.getProtocol(),p=ntv.Util.adBlockerValidation(f+"//s.ntv.io/css/gallery-footer.css"),h="iframe#"+"".concat(ntv.Util.getPrefix(),"-slideshow").concat(void 0!==n[typeof this.slideshowID]?"-".concat(this.slideshowID):""),v=u(this.outerCssClass).size()>0?u(this.outerCssClass):document,m=u(v).find(h);if(0!==m.length&&!m.attr("ntv-slideshow-initialized")){m.attr("ntv-slideshow-initialized",!0),this.galleryJS=ntv.Util.adBlockerValidation(f+"//s.ntv.io/js/gallery.min.js"),this.galleryCss=ntv.Util.adBlockerValidation(f+"//s.ntv.io/css/gallery.css"),this.thumbnailOptions=k(l.secondarySlideParams),this.galleryOptions=k(l.optionalParams);this.init=function(){for(var e=0;e<l.slideshow.slides.length;e++){var t=l.slideshow.slides[e];t.headline&&(l.showHeadline=!0),t.description&&(l.showDesc=!0),t.date&&(l.showDate=!0),t.photoCredit&&(l.showCredit=!0)}if(l.useLegacyFooter){var n=ntv.Util.getElementDimensions(m);m.replaceWith('<div id="'.concat(s("gallery-wrapper","","-"),'">')+m.prop("outerHTML")+'<div class="'.concat(i("footer"),'">')+function(e){return'\n      <table style="width: 100%"><tbody><tr>\n      <td class="'.concat(i("date"),'"></td>\n      <td style="text-align: right" class="').concat(i("photoCredit"),'"></td>\n    </tr></tbody><tbody><tr>\n        <td class="').concat(i("headline"),'"></td>\n        <td style="text-align: right" class="').concat(i("currentSlide"),'">\n        <span class="').concat(i("currentSlide"),'"></span> / <span class="').concat(i("totalSlides"),'"></span></td>\n      </tr></tbody></table>\n      <p class="').concat(i("description"),'"></p>\n      <table class="').concat(i("detailInfo"),'" ').concat(e.showDate||e.showCredit?"":'style="display: none;"',"></table>\n      ")}(l)+"</div></div>"),m=u(h,v),ntv.Util.setElementDimensions(m,n);m.width();u("#".concat(s("gallery-wrapper","","-")),v).css("margin-left",m[0].style.marginLeft).css("margin-right",m[0].style.marginRight).css("text-align","center"),m.css("width","100%"),m.css("display","inline-block"),c=u("".concat(o("footer",".")),v),ntv.Util.ntvAppendStylesheet("ntv-gallery",p),T()}else q.retryQuery(u,"".concat(o("metadata",".")),v,50,2e3).then((function(e){c=e})).finally((function(){T()}))},ntv.Util.runWithFirefoxIframeProtection(m,(function(){l.init(),wv(m[0],l.baseTrackingUrl,l.adVersionPlacement)}))}function y(e,t){var n=l.baseTrackingUrl+e+"&"+d.AVP+"="+l.adVersionPlacement+ntv.Util.setURLCache();return t&&(n+="&"+d.REDIRECT+"="+t),n}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q.hasWebProtocol(e.image)?e.image:location.protocol+e.image,r="";if(e.clickUrl){var i=ntv.Util.isiOS()?",'location=no'":"";r="onclick=\"window.open('".concat(y(4,e.clickUrl),"','_blank'").concat(i,');"')}var o=t?'data-splide-lazy="'.concat(n,'"'):'src="'.concat(n,'"');return'\n      <li class="'.concat("splide__slide",'" style="').concat(""!==r?"cursor: pointer;":"",'" ').concat(r,'>\n        <img class="ntv-image" ').concat(o,"></img> \n      </li>\n\n      ")}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l.thumbnailOptions,r=n.width,i=void 0===r?100:r,o=n.height,a=void 0===o?60:o,s=q.applyImageResizer(e.image,null,i,a);s=q.applyProtocolToUrl(s);var c=t?'data-splide-lazy="'.concat(s,'"'):'src="'.concat(s,'"');return'\n      <li class="'.concat("splide__slide",'">\n        <img ').concat(c,"></img> \n      </li>\n\n      ")}function w(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="",i=0;i<e.length;i++){var o=e[i];o.enabled&&(r+=n?b(o,!!l.thumbnailOptions.lazyLoad):g(o,!!l.galleryOptions.lazyLoad))}var a=t?'id="'.concat(t,'"'):"";return"<div ".concat(a,' class="').concat("splide",'"><div class="').concat("splide__track",'"><ul class="').concat("splide__list",'">').concat(r,"</ul></div></div>")}function E(e,t){return ntv.query(t,e).andSelf().filter(t)}function S(){var e=ntv.Util.getElementDimensions(m);ntv.Util.setElementDimensions(m,e,m.parent().width())}function T(){m.attr("frameBorder",0).attr("scrolling","no").attr("border","1px solid #000");var e=m.contents()[0]||m[0].contentWindow.document;e.open();var t='<link rel="stylesheet" type="text/css" href="'.concat(l.galleryCss,'"/>\n       <style>\n        body {\n          margin: 0;\n          padding: 0;\n        }\n       </style>\n      ');l.customCss&&(t+="<style>"+l.customCss+"</style>");var n=w(l.slideshow.slides,"ntv-gallery-main");l.secondarySlideParams&&(n+=w(l.slideshow.slides,"ntv-gallery-thumbnail",!0)),e.write('<html style="overflow: hidden"><head>'.concat(t,"</head><body>").concat(n,"</body></html>")),e.close();var r=e.defaultView||e.parentWindow;ntv.Util.appendScript(l.galleryJS,(function(){var e=ntv.MediaExtra.initializeGallery("#ntv-gallery-main",l.galleryOptions,"#ntv-gallery-thumbnail",l.thumbnailOptions);ntv.MediaExtra.onSlideChange(e,P,l),u(r).bind("resize",S),function(e){P(e,!0),S()}(e)}),"ntv-gallery",e)}function k(e){if(e)try{return JSON.parse(e)}catch(e){}}function P(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.index,r=l.slideshow.slides[n];if(c&&I(n,r),ntv.Util.insertTracking(y(Bv.gallery),l.thirdPartyTracking,1),t&&l.refreshCompanionAssets){var i=ntv.PostRelease.articleCache.get(l.adVersionPlacement);if(u(".ntv-companion").remove(),A(i))for(var o=0;o<i.articleTemplate.fragments.length;o++){var a=i.articleTemplate.fragments[o];if(new RegExp("\\bTOP\\b|\\bRIGHTRAIL\\b|\\bBOTTOMb\\b").test(a.Type)){if(1==a.Mode&&(a.InjectNode=ntv.query(a.Selector).first()),3==a.Mode&&"object"==typeof a.RenderHtml&&void 0!==a.RenderHtml.length&&a.RenderHtml.length>0){var s="",d=0;for(a.RenderHtml.length;d<a.RenderHtml.length;d++)s+=void 0!==a.RenderHtml[d]&&a.RenderHtml[d]instanceof HTMLElement?a.RenderHtml[d].outerHTML:a.RenderHtml[d].data;a.RenderHtml=s}ntv.PostRelease.InsertAd(a)}}}if("function"==typeof onNativoSlideChange)try{onNativoSlideChange()}catch(e){window.console&&window.console.log&&window.console.log(e.message)}}function A(e){var t,n;return!(null===(t=adResponse)||void 0===t||null===(n=t.articleTemplate)||void 0===n||!n.fragments)}function I(e,t){l.showHeadline&&E(c,"".concat(o("headline","."))).html(t.headline),E(c,"".concat(o("currentSlide","."))).html(e+1),E(c,"".concat(o("totalSlides","."))).html(l.slideshow.slides.length),l.showDesc&&E(c,"".concat(o("description","."))).html(t.description).children(":not([style*=text-align])").each((function(e,t){t.style.textAlign="left"})),l.showDate||l.showCredit?(l.showDate&&E(c,"".concat(o("date","."))).html(t.date),l.showCredit&&E(c,"".concat(o("photoCredit","."))).html(t.photoCredit)):E(c,"".concat(o("detailInfo","."))).css("display","none")}}function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hy(r.key),r)}}function Hy(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Wy(e){return function(e){if(Array.isArray(e))return qy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){!function(e,t){t.Manager=function(){var n=Ah.Types,r=q.runWithFirefoxIframeProtection;function i(){var t=this.playerType==e.CONSTS.NATIVO_PLAYER||this.playerType==e.CONSTS.VAST_PLAYER,n=this.playerType==e.CONSTS.YOUTUBE_PLAYER;this.state={firstClick:!1,firstPauseIgnored:!1,firstPauseButtonClick:null,isAutoPlay:!!this.autoPlayParams,isPaused:null,isPlaying:null,isPreRollPaused:null,isPreRollPlaying:null,isStarted:null,isEnded:null,isMuted:null,isFullScreen:null,isVideoInView:null,videoPlaying:null,vastAsMainSource:this.vastAsMainSource,canPlayInline:this.renderingParams.mobile&&e.Util.is("b",document.createElement("video").playsInline),isPreRoll:void 0!==this.vastUrl&&this.vastUrl.length>0&&!this.vastAsMainSource,prerollPlaying:null,mainContentPlaying:null,currentPreRollAdFetchState:null,ignoreResumeForMoat:null,preRollUnMuteTrackedOnMainContent:null,previousVolumeLevel:null,unMuteOnReplay:null,resume_pause_check_UserClickedOnPlayer:null,fullscreenButtonClickedWhileMuted:null,preloadingVastState:null,preloadVastStateBeginTimestamp:null,preloadVastStateEndTimestamp:null,returnedMetricValue:null,firstClickOnAutoPlayVideo:null,autoPlayTracker:null,pauseButtonFirstClicked:null,userInteracted:null,onAutoPlayerUserInteraction:null,minViewableArea:.5,clickedBeforeRendering:null,NativoPlayer:t,YouTubePlayer:n,dontShowOverlay:null,ignoredFirstPaused:null,ignoredFirstPause:null,ignoreFistPlay:null,ignoreFirstClick:!0,ignoreFirstResume:!0,autoPlayCheck:!1,autoPlayOn:!1,defaultVolume:0,autoPlayStopWatch:null,initializedModules:[],preRollFetchStatus:null,videoRenderingInitialized:!1,windowScrollHandler:null,renderVideoDelayOffset:800,currentTime:null,duration:null,viewableImpressionFired:!1,isDFP:this.isDFP?this.isDFP:!!this.renderingParams.isDFP&&this.renderingParams.isDFP,IFU:{showHiddenWrappers:this.renderingParams.autoplay&&this.renderingParams.article,isExpandableTogglable:!!this.autoPlayParams,useIframeId:this.renderingParams.autoplay&&this.renderingParams.article&&this.NativoPlayer},Skin:{useIframeId:this.NativoPlayer&&this.renderingParams.article,permanentlyShowControls:1==this.renderingParams.article,isNativoPlayer:t,isYouTubePlayer:n,showPreviewImageAtEnd:t},Player:{previousPrerollVolume:null},MRAID:{firstClicked:!1}},Object.seal(this.state)}function o(t){this.stopWatch.reset(),function(t){if(!t.adID||0===t.adID)return;if(t.trackTimeOnContent){var n=PostRelease.ampMode?e.Util.getTopWindow():fv.topWindow;t.tos_w_hidden=(new e.Tracking.Time).ntvStopWatch().ntvTimeOnContentStopWatch(t,34).addStopWatchEventHandlers({node:PostRelease.ampMode?n:n.document,type:"visibilitychange",handler:function(){this.preventResume=n.document.hidden,n.document.hidden&&this.stop(),!n.document.hidden&&this.parent.state.isPlaying&&this.resume()}})}}(this),this.player=q.is("o",t.data)?t.data:null;var n=this.parameters;n.clickedBeforeRendering=this.state.clickedBeforeRendering,n.renderingParams.IFU=this.state.IFU,n.renderingParams.Skin=this.state.Skin,n.renderingParams.Player=this.state.Player,this.privateEvent.publish(e.Events.Types.Modules.EXECUTE,n)}function a(){var e=void 0;switch(this.playerType){case f.YOUTUBE_PLAYER:e=this.player.element;break;case f.VAST_PLAYER:case f.NATIVO_PLAYER:e=this.player.el_||this.player.L}var t,n={"[video_width]":e.clientWidth,"[video_height]":e.clientHeight},r=this.tracker.videoTracking.map;Object.keys(this.tracker.videoTracking.map).forEach((function(e){(t=r[e]).hasOwnProperty("third")&&(t.third=q.insertMacrosIntoString(t.third,n))}))}function s(e){e.privateEvent.subscribe(n.Player.Publish.General.PLAYER_READY,(function(t){o.call(e,t),a.call(e,t)}))}function c(t){!function(t){t.iframe=t.iframe.length>0?t.iframe:prdom.query("iframe#"+e.Util.getVideoSelectorName()+"Iframe"+t.adID),t.renderingParams.article&&!isNaN(t.iframeIndex)&&t.iframe[t.iframeIndex]&&(t.iframe=e.query(t.iframe[t.iframeIndex]))}(t),t.iframeDoc=e.Util.writeIframe(t.iframe,'style="overflow: hidden"',t.iframeHead+"<style>.VPAIDContainer iframe{display:none !important;}</style>",t.iframeBody),t.iframe.attr("scrolling","no"),t.iframeContent=e.query(t.iframeDoc),t.iframeBodyElement=t.iframeContent.find("body")}function u(t){var n=t||this;(function(t){var n=t||this,r=e.query(n.iframe.contents()[0]||n.iframe[0].contentWindow.document).find("body");return 0==e.query(r).length||0==e.query(r).children().length})(n)&&m(n)}function d(e){var t=e.parameters;if(t.isPreRoll=e.state.isPreRoll,t.isAutoPlay=e.state.isAutoPlay,t.iframeContent=e.iframeContent,t.iframe=e.iframe,t.iframeBodyElement=e.iframeBodyElement,t.isShadow=!!e.isShadow,t.inDesignBlock=null!=e.designBlock,e.state.videoRenderingInitialized=!0,e.privateEvent.publish(n.Player.Subscribe.RENDER_VIDEO_PLAYER,t),t.renderingParams.autoplay){var r=q.domQuery("video",t.iframe[0]);r&&(r.setAttribute("playsinline",""),r.setAttribute("muted",""))}}function p(e){fv.internalPubSub.unsubscribe(l,e.state.windowScrollHandler)}function h(e){e.state.windowScrollHandler=v.bind(e),fv.internalPubSub.subscribe(l,e.state.windowScrollHandler)}function v(e){!this.state.videoRenderingInitialized&&q.getElementViewability(this.iframe[0],e,this.state.renderVideoDelayOffset).visible?(d(this),p(this)):this.state.videoRenderingInitialized&&p(this)}function m(e){var t=e||this;try{c(t),function(e){q.getElementViewability(e.iframe[0],{target:window},e.state.renderVideoDelayOffset).visible&&!e.state.videoRenderingInitialized?d(e):h(e)}(t)}catch(e){setTimeout(m,100,t)}}function y(t){var n=t||this;!function(t){var n=t||this;n.doc=e.query(e.Util.getTopWindow().document).find("."+n.renderingParams.outerCssClass),n.iframe=1==n.renderingParams.article?n.doc.find("iframe[id='"+n.renderingParams.iframeId+"']"):n.doc.find("iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+n.adID+"']")}(n),s(n),r(n.iframe,m.bind(n),u.bind(n))}function g(t){var n=t||this;s(n),function(t){var n,r=q.toDomElement(t.rootNode);if(!r)return;var i=document.createElement("ntv-shadow-video"),o=i.attachShadow({mode:"open"}),a=document.createElement("div");a.classList.add("ntv-shadow-content"),b.forEach((function(e){r.hasAttribute(e)&&a.setAttribute(e,r.getAttribute(e))})),(n=a.classList).add.apply(n,Wy(r.classList.values())),o.appendChild(a);var s=document.createRange().createContextualFragment(t.iframeBody);a.insertAdjacentHTML("beforeend",t.iframeHead),a.append(s),r.replaceWith(i),t.isShadow=!0,t.iframe=e.query(o.firstChild),t.iframeContent=e.query(a),t.iframeBodyElement=t.iframeContent}(n),d(n)}var b=["width","height"];return function(){function r(n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.id=n,q.copyProperties(o,this),this.parameters=o,i.call(this),this.createPubSubs(),this.setupBusinessLogic(t.Logic.Business),this.registerDependencies(a),this.stopWatch=(new e.Tracking.Time).ntvStopWatch(),this.tracker=new e.Tracking.TrackingUrl(this,this),this.designBlock=q.getDesignBlock(this.rootNode),this.setupVideoByType()}var o,a,s;return o=r,(a=[{key:"setupVideoByType",value:function(){var e,t=".".concat(this.renderingParams.outerCssClass),n=q.domQueryUp(t);this.rootNode=q.domQuery("ntv-video",n);var r=null===(e=this.rootNode)||void 0===e?void 0:e.tagName;r&&"NTV-VIDEO"===r?g(this):y(this)}},{key:"registerDependencies",value:function(e){var t=this;(e instanceof Array||Array.isArray(e))&&e.forEach((function(e){"function"==typeof e&&e(t.privateEvent)}))}},{key:"registerSubscription",value:function(e,t){this.privateEvent.subscribe(e,t)}},{key:"setupBusinessLogic",value:function(e){var t=this;e.forEach((function(e){!function(e,t){var n=e;e.registerSubscription(t.event,function(e,n){if(function(e,t,n){if(n.handlers)for(var r=0;r<n.handlers.length&&!n.handlers[r](e,t,n);r++);}(this,e,t),"a"==e.tagName&&e.target.getAttribute&&(null==e.target.getAttribute("href")||!e.target.getAttribute("href")||"#"==e.target.getAttribute("href"))){if("function"!=typeof e.preventDefault)return!1;e.preventDefault()}}.bind(n))}(t,e)}))}},{key:"createPubSubs",value:function(){this.publicEvent=e.Events.PubSub,this.privateEvent=e.Events.SecurePubSub()}},{key:"executePlayerCommand",value:function(e,t){return this.player?this.executePlayerCommand=function(e,t){if(!q.is("u",this.player[e])){var n=this.player[e](t);return n||!isNaN(n)&&0==n?n:void 0}}:this.executePlayerCommand=function(e,t){this.privateEvent.publish(n.Player.Subscribe[e.toUpperCase()],t)},this.executePlayerCommand(e,t)}},{key:"canShowRenderingOverlays",value:function(){return!this.state.autoPlayTracker||this.state.pauseButtonFirstClicked||this.state.userInteracted}}])&&By(o.prototype,a),s&&By(o,s),Object.defineProperty(o,"prototype",{writable:!1}),r}()}()}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));var Gy=1,zy=3;function Yy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ky(e){return function(e){if(Array.isArray(e))return Xy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){!function(e,t){!function(e,t){t.Behavior=function(){var t=Ah.Types,n=Ah.Data,r=e.query;function i(){if(this.lastIntersection&&!(this.autoPlayParams.onOutOfScreen===zy&&this.state.viewableImpressionFired||this.state.firstPauseButtonClick&&!this.state.firstClick&&this.player.paused())){var e=this.lastIntersection.intersectionRatio;e>=this.state.minViewableArea&&q.isOnFocus()?(this.state.isVideoInView=!0,this.state.firstClick||!this.state.autoPlayOn||this.state.isPlaying||f.play(this,null,!0),this.state.autoPlayStopWatch.resume(),this.state.isVideoInView=!0):this.state.autoPlayStopWatch.reset(),!(e<=.5)&&q.isOnFocus()||(this.state.autoPlayStopWatch.eventFired=!1,(this.state.isPlaying||this.player.playing)&&(this.state.isVideoInView=!1,l.onPlayerOutOfScreen(this)))}}function o(e){!function(e){e.state.onAutoPlayerUserInteraction=i.bind(e);var t=new ka({onAnyThreshold:c.bind(e)});xa(Ca).addTarget(e.iframeBodyElement[0],t),r(q.getTopWindow()).unbind("ready.autoPlay load.autoPlay ntvOnFocusChange.autoPlay").bind("ready.autoPlay load.autoPlay ntvOnFocusChange.autoPlay",e.state.onAutoPlayerUserInteraction)}(e),function(e){setTimeout(i.bind(e),100)}(e)}function a(e){return e.type.toLowerCase().split(":")}function s(e){var t=e.isIntersecting,n=e.intersectionRatio;this.lastIntersection={isIntersecting:t,intersectionRatio:n}}function c(e){s.call(this,e),i.call(this)}var l={checkAutoplay(e){if(l.isNotAutoPlay(e)||e.ampMode)return!0},updatePlayerReference(e,t){q.is("u",e.player)&&q.is("f",t.data.play)&&(e.player=t.data)},setAutoPlayState(e){e.state.autoPlayCheck=!0,e.state.isAutoPlay=!0,e.executePlayerCommand("mute"),f.setMutedState(e)},isAutoPlay:e=>e.state.autoPlayCheck&&e.state.isAutoPlay,verifyAutoPlayIsOff:e=>!l.isAutoPlay(e),bindHandlers(e){switch(p.isMRAID()){case!0:p.visibiltyHandler(e);break;default:o(e)}},hidePreviewImage(e){e.iframeBodyElement.find(".video-preview-img").css("visibility","hidden")},isNotAutoPlay:e=>!e.autoPlayParams||8!=e.renderingParams.videoExecution,copyParamsToScope(e){e.lastVolume=e.player?e.player.getVolume():.5,e.autoPlayParams&&(e.autoPlayParams.playerElement=e.iframe[0],e.state.autoPlayOn=!0),q.copyProperties(e.autoPlayParams,this)},notShowEndScreenOrShowEndScreenAndDidntPlayOnce(e){var t=1;return e.onVideoEnd!=t||e.onVideoEnd==t&&!playedOnce},stopWatch(t,n){var r=t.player&&"function"==typeof t.player.play?t.player:q.is("o",n.data)&&"function"==typeof n.data.play?n.data:null;t.state.autoPlayStopWatch=e.Tracking.Time().ntvStopWatch((function(){l.notShowEndScreenOrShowEndScreenAndDidntPlayOnce(t)&&(!r.userInteracted&&r.videoRendering&&r.videoRendering.hideControlBar(),r.play())}),t.autoPlayParams?t.autoPlayParams.minViewableAreaTime:0)},onPlayerOutOfScreen(e){f.pause(e)},turnOffAutoPlay(e,n){e.state.firstPauseButtonClick&&!e.state.firstClick||!e.state.autoPlayOn||(!function(e){xa(Ca).removeTarget(e.iframeBodyElement[0]),r(q.getTopWindow()).unbind("ready.autoPlay load.autoPlay ntvOnFocusChange.autoPlay",e.state.onAutoPlayerUserInteraction),e.state.onAutoPlayerUserInteraction=null}(e),e.state.autoPlayOn=!1,n.data&&(!n.data||n.data.keepMuted)||n.type==t.Player.Publish.Content.VIDEO_END?n.type==t.Player.Publish.Content.VIDEO_END&&(e.state.unMuteOnReplay=!0):(e.player.setVolume(e.state.defaultVolume),e.privateEvent.publish(t.Manager.UNMUTE)),n.type!=t.Player.Publish.Content.VIDEO_END&&e.privateEvent.publish(t.Manager.PLAY))},firstClick(e,t){var n=e.state;if(!n.firstClickOnAutoPlayVideo&&n.isAutoPlay)return n.firstClickOnAutoPlayVideo=!0,e.executePlayerCommand("unmute"),!0},ignoreFirstClick(e,t){if(t.data&&"button"==t.data.tagName.toLowerCase()&&e.state.isAutoPlay&&e.state.NativoPlayer&&!e.state.ignoredFirstPaused&&t.data.classList.contains("vjs-playing"))return e.state.ignoredFirstPause=!0,e.state.dontShowOverlay=!0,!0},checkShowOverlay(t,n){if(-1!=t.state.initializedModules.indexOf(e.Events.Types.Skin.INITIALIZED))return t.state.dontShowOverlay?(t.state.dontShowOverlay=!1,!0):!(!t.state.isPlaying||!t.state.autoPlayOn||p.isMRAID())||void 0},checkClick(e,t){if(e.state.autoPlayCheck){if(q.is("s",t.data)&&t.data==n.PAUSE_BUTTON)return e.state.firstPauseButtonClick=!0,!0;e.state.firstClick=!0,e.player.setVolume(1)}},checkPause(e,t){if(e.state.isEnded||e.player.ended&&e.player.ended())return!0;if(e.state.autoPlayCheck&&e.state.autoPlayOn){if(e.autoPlayParams.onOutOfScreen===Gy&&e.isAutoPlayTriggered)return!1;if(e.state.isPreRoll&&!e.state.prerollPlaying&&e.state.firstPauseButtonClick&&e.state.ignoreFirstClick)return e.state.ignoreFirstClick=!1,!1;if(e.state.firstPauseButtonClick&&e.state.ignoreFirstClick)return e.state.ignoreFirstClick=!1,!0;if(!e.state.firstPauseButtonClick&&!e.state.firstClick)return!0}else{if(e.state.firstClick&&!e.state.autoPlayOn&&!e.state.firstPauseIgnored&&!e.state.firstPauseButtonClick)return e.state.firstPauseIgnored=!0,!0;if(e.state.isPreRoll&&!e.state.prerollPlaying&&e.state.isPlaying)return!0;if(!e.executePlayerCommand("duration")&&0==e.executePlayerCommand("duration"))return!0}},checkResume(e,t){if(e.state.autoPlayCheck){if(e.autoPlayParams.onOutOfScreen===Gy&&e.isAutoPlayTriggered)return!1;if(!e.state.firstPauseButtonClick&&!e.state.firstClick)return!0;if(e.state.ignoreFirstResume)return e.state.ignoreFirstResume=!1,!0;if(!q.is("u",t.data)&&t.data instanceof HTMLElement&&t.data.classList.contains("learn-more-control-hover"))return!0}else if(e.vastAsMainSource&&(!e.executePlayerCommand("getCurrentTime")||null===e.executePlayerCommand("getCurrentTime")))return!0}},u={trackPreRollAdFetch(e,t,n){var r=e.state;r.preloadingVastState=t,r.preloadVastStateEndTimestamp=(new Date).valueOf(),r.returnedMetricValue=r.preloadVastStateEndTimestamp-r.preloadVastStateBeginTimestamp},preRollAdRequest(e,t){e.state.preRollFetchStatus="sending",u.trackPreRollAdFetch(e,"sending","PREROLL_FETCH_AD_REQUEST")},disableVastPlugin(e){e.player.vastPlayer.disable()},prerollAdReturned(e,t){e.state.preRollFetchStatus="done",u.trackPreRollAdFetch(e,"done","PREROLL_FETCH_AD_RETURNED")},prerollAdCancel(t,n){t.state.isPreRoll&&(e.query(e.Util.getTopWindow()).trigger("ntvVideoCanceled",[t.adID,t.player.getVolume()]),u.disableVastPlugin(t)),t.state.preRollFetchStatus="cancelled",u.trackPreRollAdFetch(t,"cancelled","PREROLL_FETCH_AD_CANCEL")},prerollAdError(e,t){e.state.isPreRoll&&u.disableVastPlugin(e),e.state.preRollFetchStatus="error",u.trackPreRollAdFetch(e,"error","PREROLL_FETCH_AD_ERROR")},fullscreen(e,n){e.privateEvent.publish(t.Skin.FULLSCREEN,!0)},exitFullscreen(e,n){e.privateEvent.publish(t.Skin.EXIT_FULLSCREEN,!1)},renderPreRollSkin(n,r){r.data&&r.data.clickthrough&&(r.data.clickThrough=function(t,n){return t.tracker.getUrl(95)+"&"+e.CONSTS.REDIRECT+"="+n}(n,r.data.clickthrough)),n.privateEvent.publish(t.Skin.RENDER_PREROLL_SKIN,r.data)},removePreRollSkin(e,n){e.privateEvent.publish(t.Skin.REMOVE_PREROLL_SKIN,n.data)},disabledTracking(e,t){e.trackingEnabled=!e.vastAsMainSource},enableTracking(e,t){e.trackingEnabled=e.vastAsMainSource},preRollLearnMoreClicked(e,n){e.privateEvent.publish(t.Player.Subscribe.Preroll.LEARN_MORE_CLICKED,n.data)},setPreRollPlaying(e,t){e.state.prerollPlaying=!0},unsetPreRollPlaying(e,t){e.state.prerollPlaying=!1,e.state.AOLPlayer||(e.state.Player.previousPrerollVolume=e.executePlayerCommand("getVolume"))},trackAsVastAsMainSource(e,t){if(f.isVastAsMainSource(e))return e.privateEvent.publish(t.type.replace("preroll","content"),t.data),!0},checkMuteForPlay(e,t){if(e.state.autoPlayCheck){if(!e.state.firstClick&&!e.state.firstClickOnAutoPlayVideo&&!e.state.pauseButtonFirstClicked&&e.state.ignoreFirstClick&&e.state.isPreRoll)return!0}else{if(e.state.preRollFetchStatus&&("cancelled"==e.state.preRollFetchStatus||"error"==e.state.preRollFetchStatus)&&e.state.isPreRoll&&0==e.executePlayerCommand("getCurrentTime"))return!0;if(e.state.isPreRoll&&!e.state.prerollPlaying&&e.state.preRollFetchStatus&&"done"==e.state.preRollFetchStatus)return!0}},isVpaidStart:e=>e.state.NativoPlayer&&!e.executePlayerCommand("isMuted")&&!e.executePlayerCommand("getCurrentTime")&&e.state.isPreRoll&&"done"===e.state.preRollFetchStatus&&e.player.vast&&e.player.vast.adUnit&&"VPAID"===e.player.vast.adUnit.type,isVpaidAutoplayStart:e=>u.isVpaidStart(e)&&e.state.isAutoPlay,checkUnmuteForPlay:(e,t)=>!(!e.state.preRollFetchStatus||"cancelled"!=e.state.preRollFetchStatus&&"error"!=e.state.preRollFetchStatus||!e.state.isPreRoll||0!=e.executePlayerCommand("getCurrentTime"))||(u.isVpaidAutoplayStart(e)?(e.executePlayerCommand("mute"),!0):void 0)},d={showOverlay(e,n){null==e.state.dontShowOverlay||l.checkShowOverlay(e,n)?e.state.dontShowOverlay=!1:e.privateEvent.publish(t.Skin.SHOW_OVERLAY)},showVideoEndImage(e,n){e.privateEvent.publish(t.Skin.SHOW_VIDEO_END_IMAGE)},hideVideoEndImage(e,n){e.privateEvent.publish(t.Skin.HIDE_VIDEO_END_IMAGE)},fullscreen(e,n){e.privateEvent.publish(t.Skin.FULLSCREEN,!0)},exitFullscreen(e,n){e.privateEvent.publish(t.Skin.EXIT_FULLSCREEN,!1)},setVideoStateToPlaying(e,t){isNaN(e.state.Player.previousPrerollVolume)||!e.state.Player.previousPrerollVolume||e.player.isMuted()||e.executePlayerCommand("setVolume",e.state.Player.previousPrerollVolume),e.state.mainContentPlaying=!0},unsetVideoStateToPlaying(e,t){e.state.mainContentPlaying=!1},checkVideoIsPlaying(e,t){if(!e.state.mainContentPlaying)return!0},checkVideoStart(e,t){var n=e.state;if(n.NativoPlayer&&n.isPreRoll&&"done"===n.preRollFetchStatus&&null===n.prerollPlaying)return!0},checkVastAsMainSourceMOATTracking(t,n){t.state.NativoPlayer&&t.state.vastAsMainSource&&n.data.vastAsMainSource&&e.Video.Tracker.InstantiateMOAT&&e.Video.Tracker.InstantiateMOAT(n.data.videoUrl)},checkLearnMore(e,n){e.ctaUrl&&!/(ntv_r=null)/gi.test(e.ctaUrl)||e.privateEvent.publish(t.Skin.TOGGLE_LEARN_MORE,"hide")}},f={fireVideoMangerEvent(e,n){var r=n.type.split(".");r=r[r.length-1],e.privateEvent.publish(t.Manager[r],e)},setPlayingState(e,t){e.state.isPlaying=t},toggleVideo(e,t){e.executePlayerCommand("toggle",e.state.isPlaying)},checkVastPreloadState:(e,t)=>(e.player&&e.player.preloadVastExecuted&&null==e.state.preRollFetchStatus||e.state.preRollFetchStatus&&"sending"==e.state.preRollFetchStatus)&&e.state.isPreRoll,play:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=n;i.isAutoPlayTriggered=r,f.checkVastPreloadState(i,o)?setTimeout(e,0,i,o):i.state.vastAsMainSource&&!q.is("u",i.executePlayerCommand("getCurrentTime"))&&0===i.executePlayerCommand("getCurrentTime")?i.executePlayerCommand("triggerPlay"):i.state.isAutoPlay&&i.state.isPreRoll||i.executePlayerCommand("play")},pause(e,t){e.executePlayerCommand("pause")},resume(e,t){e.executePlayerCommand("resume")},reset(e,t){e.executePlayerCommand("reset")},click(e,t){e.executePlayerCommand("click")},mute(e,t){e.executePlayerCommand("mute"),f.setMutedState(e)},unmute(e,t){e.executePlayerCommand("unmute"),f.unsetMutedState(e)},hidePreviewImage(e,n){e.privateEvent.publish(t.Skin.HIDE_PREVIEW_IMAGE)},showInfoBar(e,n){e.privateEvent.publish(t.Skin.SHOW_INFO_BAR)},hideInfoBar(e,n){q.is("s",n.data)&&"fast"==n.data?e.privateEvent.publish(t.Skin.HIDE_INFO_BAR,"fast"):e.privateEvent.publish(t.Skin.HIDE_INFO_BAR)},hideInfoBarFast(e,n){e.privateEvent.publish(t.Skin.HIDE_INFO_BAR,"fast")},setUserActive(e){e.privateEvent.publish(t.Player.Subscribe.USER_ACTIVE,!0)},setUserInactive(e){e.privateEvent.publish(t.Player.Subscribe.USER_INACTIVE,!1)},verifyThatVideoStarted:(e,t)=>null==e.state.isPlaying,startTimeTracking(e,t){f.setPlayingState(e,!0),e.parameters.trackTimeOnContent&&(e.tos&&e.tos.resume(),e.tos_w_hidden&&e.tos_w_hidden.resume(),e.stopWatch.resume())},stopTimeTracking(e,t){f.setPlayingState(e,!1),e.parameters.trackTimeOnContent&&(e.tos&&e.tos.stopAndTrack(),e.tos_w_hidden&&e.tos_w_hidden.stopAndTrack("content"==a(t)[1]&&e.state.isEnded),e.stopWatch.stop())},isVastAsMainSource(e){if(e.state.vastAsMainSource)return!0},forceResize(e,n){e.executePlayerCommand("isFullscreen")&&e.privateEvent.publish(t.Skin.RESIZE)},checkAnchorClick(n,r){var i=r.data;if(q.isNotValidHeadlineLink(r.data)){if(!n.state.isPlaying)return;return n.privateEvent.publish(t.IFU.TOGGLE_VIDEO,n.state.isPlaying),i.css("cursor","pointer"),!0}q.isNotValidHeadlineLink(i)||(e.query(i).attr("data-ntv-redirect","true"),n.privateEvent.publish(t.IFU.ADHEADLINE_CLICK,i[0]))},updatePlayingState(e,t){var n=Yy(a(t),3),r=(n[0],n[1]),i=n[2];switch(i){case"videoend":case"pause":switch(e.state.isPlaying=!1,i){case"videoend":e.state.isEnded=!0,e.state.isPaused=!1,e.state.isPreRollPlaying=("preroll"!==r||!e.state.isPreRoll)&&null;break;case"pause":e.state.isPaused=!0,e.state.isPreRollPaused=!("preroll"!==r||!e.state.isPreRoll)||null}break;case"videostart":case"resume":case"progress":e.state.isPlaying=!0,e.state.isEnded=!1,e.state.isPaused=!1,e.state.isPreRollPlaying=!("preroll"!==r||!e.state.isPreRoll)||null,e.state.isPreRollPaused=("preroll"!==r||!e.state.isPreRoll)&&null,isNaN(t.data.currentTime)||isNaN(t.data.duration)||(e.state.currentTime=Math.ceil(t.data.currentTime),e.state.duration=Math.floor(t.data.duration))}},openMobileShare(e){e.mobileShareParams&&e.privateEvent.publish(t.Skin.Mobile.OPEN_MOBILE_SHARE,[])},closeMobileShare(e){e.mobileShareParams&&e.privateEvent.publish(t.Skin.Mobile.CLOSE_MOBILE_SHARE,[])},toggleMobileShare(e,n){switch(n.type){case t.Skin.Mobile.MOBILE_SHARE_OPENED:e.state.isPlaying&&e.executePlayerCommand("pause");break;case t.Skin.Mobile.MOBILE_SHARE_CLOSED:}},checkReplayState(e,t){e.state.unMuteOnReplay&&(e.executePlayerCommand("unmute"),e.state.unMuteOnReplay=!1)},checkToggle(e,t){if((e.mobile||!e.autoplay)&&e.state.YouTubePlayer)return!0},hideOverlay(e,n){e.privateEvent.publish(t.Skin.HIDE_OVERLAY)},moduleInitialized(e,t){e.state.initializedModules.push(t.type)},setMutedState(e,t){e.state.isMuted=!0},unsetMutedState(e,t){e.state.isMuted=!1},notifyToCleanUp(e,n){var r=e;setTimeout((function(){r.privateEvent.publish(t.Manager.ClEAN_UP,r)}),1e3)},adHeadlineClickRedirect(e,t){var n=t.data;!n.dataset.ntvFired&&n.dataset.ntvRedirect&&n.target&&"_blank"==n.target&&K(n.href,n.target)}},p=function(){function t(){return"object"==typeof e.MRAID}function n(e,t){var n=t||this;l.isAutoPlay(n)&&n.state.autoPlayOn&&(e.data&&q.is("b",e.data)?(n.state.isVideoInView=!0,n.state.firstClick||f.play(n),n.state.autoPlayStopWatch.resume()):(n.state.isPlaying||n.player.playing)&&(n.state.autoPlayStopWatch.reset(),n.state.isVideoInView=!1,l.onPlayerOutOfScreen(n)))}function r(e){(function(e){var n=e.executePlayerCommand("isFullscreen");return t()&&!e.state.MRAID.firstClick&&"booleean"==typeof n&&!n})(e)&&(e.state.MRAID.firstClick=!0)}return{isMRAID:t,visibiltyHandler(t){!function(t){n({data:window.mraid.isViewable()},t),e.Events.PubSub.subscribe("mraidViewabilityChange",n.bind(t))}(t)},click(e){t()&&(!q.isiOS()||e.state.isFullscreen||e.state.MRAID.firstClicked||e.player.toggleFullscreen(),e.state.MRAID.firstClicked=!0,r(e))}}}();return{autoPlay:l,preRoll:u,content:d,general:f,mraid:p}}()}(e,e.Video.Logic||(e.Video.Logic={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){var n=Ah.Types,r=n.Tracking.Events.Preroll,i=n.Tracking.Events.Content,o=n.Tracking.Progress;function a(e){return e.player.isMuted()?0:e.executePlayerCommand("getVolume")}function s(e,t,n){return{NTVEvent:e,contentType:t,eventType:n,volume:a(this)}}function c(e,t){switch(t){case"u":return e.toUpperCase();case"l":return e.toLowerCase();case"c":return(e=e.split(""))[0]=e[0].toUpperCase(),e.join("")}}function l(e,t,n){"object"==typeof t.data&&(t.data.contentType=n,t.data.tos=e.tos,t.data.tos_w_hidden=e.tos_w_hidden,t.data.volume=a(e),t.data.callback=function(t){t(e)},function(e,t){if(!q.isEmptyVideoTracking(e)){var n=e.videoTracking.progress[t.contentType].percentile;for(var r in n)parseInt(r)<=Math.round(100*t.currentTime)/Math.round(t.duration)&&t.currentTime!=t.duration&&(t.eventType="progress",t.progressSection="percentile",t.NTVEvent=r,t.volume=a(e),e.publicEvent.publish(e.id+":"+o[c(t.contentType,"c")].PERCENTILE,t))}}(e,t.data),function(e,t){t.eventType="progress",t.progressSection="currentTime",e.publicEvent.publish(e.id+":"+o[c(t.contentType,"c")].CURRENT_TIME,t)}(e,t.data))}t.Tracking=function(){var e=[{metric:"pause",event:"PAUSE"},{metric:"videoStart",event:"VIDEO_START"},{metric:"videoEnd",event:"VIDEO_END"},{metric:"click",event:"CLICK"},{metric:"adHeadlineClick",event:"ADHEADLINE_CLICK"},{metric:"resume",event:"RESUME"},{metric:"mute",event:"MUTE"},{metric:"unmute",event:"UNMUTE"},{metric:"volumechange",event:"VOLUME_CHANGE"},{metric:"fullscreen",event:"FULLSCREEN"},{metric:"exitFullscreen",event:"EXIT_FULLSCREEN"}],t={prerollFetchAdRequest(e,t){var n;switch(e.state.preloadingVastState){case"sending":n="PREROLL_FETCH_AD_REQUEST";break;case"done":n="PREROLL_FETCH_AD_RETURNED";break;case"cancelled":n="PREROLL_FETCH_AD_CANCEL";break;case"error":n="PREROLL_FETCH_AD_ERROR"}e.publicEvent.publish(e.id+":"+r[n],[e.state.returnedMetricValue])},progress(e,t){l(e,t,"preroll")}};e.forEach((function(e){t[e.metric]=function(t,n){t.publicEvent.publish(t.id+":"+r[e.event],s.call(t,e.metric,"preroll","events"))}}));var n={progress(e,t){l(e,t,"content")}};e.forEach((function(e){n[e.metric]=function(t,n){t.publicEvent.publish(t.id+":"+i[e.event],s.call(t,e.metric,"content","events"))}}));var o={click(e,t){e.publicEvent.publish(e.id+":"+i.CLICK,s.call(e,"click","content","events"))},adHeadlineClick(e,r){e.state.isPreRoll&&e.state.prerollPlaying?t.adHeadlineClick(e,r):n.adHeadlineClick(e,r)},notifyPublicPlayerIsReady(e,t){e.publicEvent.publish("ntvVideoRenderingReady",[e.placementID+"_"+e.adID,e.iframeContent])},notifyPublicMobilePlayerIsReady(e,t){e.publicEvent.publish("ntvMobileShareReady")},checkVideoEnd(e){if(null===e.state.currentTime||isNaN(e.state.currentTime)||isNaN(e.state.duration)||e.state.currentTime<e.state.duration-1)return!0}};return{autoPlay:{},preRoll:t,content:n,general:o}}()}(0,e.Video.Logic||(e.Video.Logic={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){var n=Ah.Types,r=Ah.Types.Player.Publish,i=r.Content,o=r.Preroll,a=r.General,s=Ah.Types.Manager,c=n.IFU,l=n.Skin,u=e.Video.Logic.Behavior,d=e.Video.Logic.Tracking,f=[{event:o.PREROLL_FETCH_AD_REQUEST,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.preRollAdRequest,d.preRoll.prerollFetchAdRequest]},{event:o.PREROLL_FETCH_AD_RETURNED,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.prerollAdReturned,d.preRoll.prerollFetchAdRequest]},{event:o.PREROLL_FETCH_AD_CANCEL,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.prerollAdCancel,d.preRoll.prerollFetchAdRequest]},{event:o.PREROLL_FETCH_AD_ERROR,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.prerollAdError,d.preRoll.prerollFetchAdRequest]},{event:o.ADHEADLINE_CLICK,handlers:[u.preRoll.trackAsVastAsMainSource,u.autoPlay.firstClick,u.general.toggleVideo]},{event:o.VIDEO_END,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.stopTimeTracking,u.preRoll.disabledTracking,u.preRoll.removePreRollSkin,u.preRoll.unsetPreRollPlaying,u.general.updatePlayingState,u.general.openMobileShare,d.general.checkVideoEnd,d.preRoll.videoEnd]},{event:o.VIDEO_START,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.hidePreviewImage,u.preRoll.enableTracking,u.preRoll.renderPreRollSkin,u.preRoll.setPreRollPlaying,u.general.updatePlayingState,u.general.closeMobileShare,d.preRoll.videoStart]},{event:o.PROGRESS,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.hideOverlay,u.general.updatePlayingState,d.preRoll.progress]},{event:o.PAUSE,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.updatePlayingState,u.autoPlay.checkPause,u.general.openMobileShare,d.preRoll.pause]},{event:o.BUFFERING,handlers:[]},{event:o.CLICK,handlers:[u.preRoll.trackAsVastAsMainSource,u.autoPlay.checkClick,u.autoPlay.turnOffAutoPlay,d.preRoll.click,u.mraid.click]},{event:o.CTA_CLICK,handlers:[u.preRoll.trackAsVastAsMainSource]},{event:o.VOLUME_CHANGE,handlers:[u.preRoll.trackAsVastAsMainSource,d.preRoll.volumechange]},{event:o.IGNORE_FIRST_CLICK,handlers:[u.preRoll.trackAsVastAsMainSource]},{event:o.MUTE,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.checkMuteForPlay,d.preRoll.mute]},{event:o.UNMUTE,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.checkUnmuteForPlay,d.preRoll.unmute]},{event:o.RESUME,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.hidePreviewImage,u.autoPlay.checkResume,u.general.updatePlayingState,u.general.closeMobileShare,d.preRoll.resume]},{event:o.FULLSCREEN,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.fullscreen,d.preRoll.fullscreen]},{event:o.EXIT_FULLSCREEN,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.exitFullscreen,d.preRoll.exitFullscreen]},{event:o.PREROLL_AD_CANCELED,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.disabledTracking]},{event:o.PREROLL_AD_ERROR,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.disabledTracking]},{event:o.RESIZE,handlers:[u.general.forceResize]},{event:i.ADHEADLINE_CLICK,handlers:[]},{event:i.VIDEO_END,handlers:[u.content.showVideoEndImage,u.autoPlay.turnOffAutoPlay,u.content.checkVideoIsPlaying,u.content.unsetVideoStateToPlaying,u.general.updatePlayingState,u.general.stopTimeTracking,u.general.openMobileShare,d.content.videoEnd]},{event:i.VIDEO_START,handlers:[u.content.checkVideoStart,u.general.hidePreviewImage,u.general.hideOverlay,u.content.checkLearnMore,u.content.setVideoStateToPlaying,u.general.checkReplayState,u.general.updatePlayingState,u.general.closeMobileShare,d.content.videoStart]},{event:i.REPLAY,handlers:[u.content.hideVideoEndImage]},{event:i.PROGRESS,handlers:[u.general.verifyThatVideoStarted,u.general.startTimeTracking,u.general.hideOverlay,u.general.updatePlayingState,d.content.progress]},{event:i.PAUSE,handlers:[u.content.showOverlay,u.general.hideInfoBarFast,u.general.stopTimeTracking,u.general.updatePlayingState,u.autoPlay.checkPause,u.general.openMobileShare,d.content.pause]},{event:i.BUFFERING,handlers:[u.general.stopTimeTracking]},{event:i.CLICK,handlers:[u.autoPlay.checkClick,u.autoPlay.turnOffAutoPlay,d.content.click,u.mraid.click]},{event:i.VOLUME_CHANGE,handlers:[d.content.volumechange]},{event:i.IGNORE_FIRST_CLICK,handlers:[]},{event:i.MUTE,handlers:[u.preRoll.checkMuteForPlay,d.content.mute]},{event:i.UNMUTE,handlers:[u.preRoll.checkUnmuteForPlay,d.content.unmute]},{event:i.RESUME,handlers:[u.general.hidePreviewImage,u.autoPlay.checkResume,u.general.updatePlayingState,u.general.closeMobileShare,d.content.resume]},{event:i.FULLSCREEN,handlers:[u.content.fullscreen,d.content.fullscreen]},{event:i.EXIT_FULLSCREEN,handlers:[u.content.exitFullscreen,d.content.exitFullscreen]},{event:i.RESIZE,handlers:[u.general.forceResize]},{event:i.CAN_PLAY,handlers:[u.content.checkVastAsMainSourceMOATTracking]},{event:a.PLAYER_READY,handlers:[u.autoPlay.checkAutoplay,u.autoPlay.updatePlayerReference,u.autoPlay.copyParamsToScope,u.autoPlay.setAutoPlayState,u.autoPlay.stopWatch,u.autoPlay.bindHandlers,u.autoPlay.hidePreviewImage]},{event:a.USER_ACTIVE,handlers:[u.general.showInfoBar]},{event:a.USER_INACTIVE,handlers:[u.general.hideInfoBar]},{event:l.INITIALIZED,handlers:[u.general.moduleInitialized]},{event:l.INFO_BAR_CLICK,handlers:[u.general.toggleVideo]},{event:l.CLICK,handlers:[u.autoPlay.turnOffAutoPlay,u.general.click]},{event:l.PLAY,handlers:[u.general.play]},{event:l.PAUSE,handlers:[u.general.pause]},{event:l.RESUME,handlers:[u.general.resume]},{event:l.USER_INACTIVE,handlers:[u.general.setUserInactive]},{event:l.USER_ACTIVE,handlers:[u.general.setUserActive]},{event:l.PREVIEW_IMAGE_CLICK,handlers:[d.general.click]},{event:l.Preroll.LEARN_MORE_CLICKED,handlers:[u.preRoll.preRollLearnMoreClicked]},{event:l.READY,handlers:[d.general.notifyPublicPlayerIsReady]},{event:l.USER_ACTIVE,handlers:[u.general.setUserActive]},{event:l.Mobile.MOBILE_SHARE_CLOSED,handlers:[]},{event:l.Mobile.MOBILE_SHARE_OPENED,handlers:[u.general.toggleMobileShare]},{event:c.INITIALIZED,handlers:[]},{event:c.READY,handlers:[]},{event:c.EXPANDED,handlers:[u.general.play]},{event:c.COLLAPSED,handlers:[u.general.pause,u.general.hideOverlay]},{event:c.TOGGLE_VIDEO,handlers:[u.general.toggleVideo,u.autoPlay.turnOffAutoPlay,u.autoPlay.verifyAutoPlayIsOff]},{event:c.CLICK,handlers:[u.general.fireVideoMangerEvent]},{event:c.ANCHOR_CLICK,handlers:[u.general.checkAnchorClick]},{event:c.ADHEADLINE_CLICK,handlers:[d.general.adHeadlineClick,u.general.adHeadlineClickRedirect]},{event:s.PLAY,handlers:[u.general.play]},{event:s.PAUSE,handlers:[u.general.pause]},{event:s.RESUME,handlers:[u.general.resume]},{event:s.RESET,handlers:[u.general.reset]},{event:s.MUTE,handlers:[u.general.mute]},{event:s.UNMUTE,handlers:[u.general.unmute]},{event:s.TOGGLE_VIDEO,handlers:[u.general.toggleVideo]},{event:s.USER_INACTIVE,handlers:[u.general.setUserInactive]},{event:s.USER_ACTIVE,handlers:[u.general.setUserActive]},{event:s.PREVIEW_IMAGE_CLICK,handlers:[d.general.click]},{event:s.ClEAN_UP,handlers:[]}];t.Business=f,Object.seal(t.Business)}(e,e.Video.Logic||(e.Video.Logic={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));function Jy(e,t){e.addEventListener("click",(function(){var e=t.vastClickTrackings;e&&e.forEach((function(e){q.appendImage(e)}))}))}!function(e){!function(e,t){!function(e,t){t.Nativo=function(){var t=Ah.Types,n=t.Player.Publish,r=t.Player.Subscribe;function i(i){var o,a,s,c=i,l=e.query,u=e.Events.Data,d={bigPlayButton:!1,textTrackSettings:!1,controlBar:{playToggle:{},progressControl:{seekBar:{mouseTimeDisplay:!1,playProgressBar:{timeTooltip:!1}}},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},volumePanel:{inline:!1},fullscreenToggle:{},liveDisplay:!1,seekToLive:!1,remainingTimeDisplay:!1,pictureInPictureToggle:!1,subsCapsButton:!0,children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay","subsCapsButton","volumePanel","fullscreenToggle"]},inactivityTimeout:1e3};function p(e){void 0!==this.titleClicked&&this.titleClicked&&e.play()}function h(){var e=o.player;e.getVolume=function(){return o.player.volume()},e.setVolume=function(e){o.player.volume(e)},e.toggle=function(){o.playing?o.player.pause():o.player.play()},e.resume=o.player.play,e.unMute=function(){o.player.muted(!1)},e.unmute=o.player.unMute,e.mute=function(){o.player.muted(!0)},e.isMuted=function(){return o.player.muted()},e.reset=o.player.reset,e.triggerPlay=function(){o.player.trigger("play")},e.toggleFullscreen=function(){return e.isFullscreen()?e.exitFullscreen():e.requestFullscreen(),e.isFullscreen()},e.getCurrentTime=function(){return o.player.vpaidProgress?o.player.vpaidProgress:o.player.vpaidEnded&&o.player.vpaidEndTime?o.player.vpaidEndTime:o.player.currentTime()}}function v(e,t){q.is("b",o.prerollPlaying)&&o.prerollPlaying?c.publish(n.Preroll[e],t):c.publish(n.Content[e],t)}function m(){return o.renderingParams.mobile&&q.is("b",document.createElement("video").playsInline)}function y(e){var t=e.target.classList.contains("vjs-playing");e.target.classList.contains("vjs-icon-placeholder")&&(t=e.target.parentNode.classList.contains("vjs-playing")),v("CLICK",t?u.PAUSE_BUTTON:null)}function g(e){o.startX=e.touches[0].pageX||document.body.scrollTop,o.startY=e.touches[0].pageY||document.body.scrollLeft}function b(e){o.endX=e.touches[0].pageX||document.body.scrollTop,o.endY=e.touches[0].pageY||document.body.scrollLeft,o.touchMoved=!0}function E(e){(o.startX==o.endX&&o.startY==o.endY||!o.touchMoved)&&y(e),o.endX=0,o.endY=0,o.startX=0,o.startY=0,o.touchMoved=!1}function S(){if(void 0===o.previousPosition){if(o.previousPosition=o.player.currentTime(),isNaN(o.player.currentTime()))return!0}else{if(o.previousPosition==o.player.currentTime()&&o.buffering)return!0;o.buffering=!1}return o.previousPosition=o.player.currentTime(),!1}function T(){return!isNaN(o.player.duration())&&o.player.duration()>0}function k(){o.playerStarted=!0,o.playerEnded=!1}function P(){o.playerStarted=!1,o.playerEnded=!0}function A(){return q.is("b",o.playerStarted)&&o.playerStarted}function I(){return q.is("b",o.playerEnded)&&o.playerEnded}function C(e,t){var n=l(o.iframeBodyElement[0]).find("div.video-js");e.data?(n.removeClass("vjs-user-inactive").addClass("vjs-user-active"),o.player.trigger("useractive"),o.player.userActive(e.data),t&&t.active.forEach((function(e){e.classNames.forEach((function(t){e.node.classList.add(t)}))}))):(n.removeClass("vjs-user-active").addClass("vjs-user-inactive"),o.player.trigger("userinactive"),t&&t.inactive.forEach((function(e){e.classNames.forEach((function(t){e.node.classList.remove(t)}))})))}function O(){c.subscribe(t.Player.Subscribe.PLAY,o.player.play),c.subscribe(t.Player.Subscribe.USER_ACTIVE,C),c.subscribe(t.Player.Subscribe.USER_INACTIVE,C)}function _(){c.publish(t.Player.Publish.General.PLAYER_READY,o.player)}function R(){return o.vastAsMainSource}function x(){return o.isPreRoll}function L(){return o.vpaidPlaying}function D(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.prerollPlaying=e,o.vpaidPlaying=t}function N(){var e=[],t=w(o.iframe),n=null!=t.contentWindow?t.contentWindow.document:t;e.push.apply(e,Ky(n.querySelectorAll("video")));for(var r=0,i=e;r<i.length;r++){i[r].setAttribute("preload","auto")}if(!o.vastUrl||0==o.vastUrl.length){o.vastUrl=void 0;var a=o.vastXML;o.vastXML=function(e){setTimeout((function(){e(null,a)}),0)}}}function j(){var e=""!==document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"'),t=q.getElementDimensions(o.iframe),n={adTagUrl:q.is("s",o.vastUrl)&&o.vastUrl.length?o.vastUrl.replace("[video_width]",t.w).replace("[video_height]",t.h):null,adTagXML:o.vastXML,playAdAlways:!0,isPreRoll:x(),adsEnabled:!0,autoResize:!0,timeout:4e6,ntvVastAsMainSource:o.vastAsMainSource};e&&(n.preferredTech="video/webm"),o.vastPlayer=o.player.vastClient(n)}function V(){(o.vastUrl||o.vastXML&&o.vastAsMainSource)&&o.vastPlayer&&o.vastPlayer.preLoadVast&&(o.pubSub=c,o.preRollRequestEvents=e.Events.Types.Player.Publish.Preroll,o.player.preloadVastExecuted=!0,o.player.vastPlayer=o.vastPlayer,o.vastPlayer.preLoadVast(o))}function M(e){if(q.is("s",e.advertiser))return e.advertiser;if(!(e.ads instanceof Array&&e.ads.length))return"Advertisement";var t=e.ads.filter((function(e){return inLine&&inLine.advertiser}));return t&&t.length?t[0].inLine.advertiser:void 0}function U(){o.vastAsMainSource&&o.player.on("canplay",(function(e){c.publish(n.Content.CAN_PLAY,{vastAsMainSource:o.vastAsMainSource,videoUrl:o.player.src()})}))}function F(){var t=this,i=this,o=(i.iframeContent,i.player);if(i.playing=!1,i.trackingEnabled=!i.vastAsMainSource,i.resize&&i.resize(),h(),i.vastUrl.length>0||i.vastXML){N(),j(),U(),V();var a=q.domQuery(".ntv-headline");a&&Jy(a,i),o.on("vast.adStart",(function(t){o.on("timeupdate",(function t(){var a;o.off("progress",t),D(),o.isPreRoll=!0,o.vast.vastResponse.clickThrough?a=o.vast.vastResponse.clickThrough:o.vast.vastResponse.clickThroughURLTemplate&&(a=VASTUtil.resolveURLTemplates([o.vast.vastResponse.clickThroughURLTemplate],{CACHEBUSTER:Math.round(1e10*Math.random()),CONTENTPLAYHEAD:o.vastTracker.progressFormated()})[0]);var s=w(i.iframeBodyElement);if(a){PostRelease.clickThrough=a;for(var l=e.Util.domQueryAll(".ntvClickOut a",i.context),u=e.Util.domQueryAll("a",s),d=[],f=0;f<l.length;f++)d.push(l[f]);for(var p=0;p<u.length;p++)d.push(u[p]);d.forEach((function(e){e&&e.getAttribute("href")&&e.setAttribute("href",e.getAttribute("href").replace(/@redirectUrl/gi,a))}))}var h=e.Util.domQuery(".learn-more-control-hover",s);h&&Jy(h,i),k(),c.subscribe(r.Preroll.LEARN_MORE_CLICKED,(function(){o.vastTracker.trackURLs([clicktrackers])})),R()?c.publish(n.Content.VIDEO_START):c.publish(n.Preroll.VIDEO_START,{clickThrough:i.player.vast.vastResponse.clickThrough,advertiser:M(i.player.vast.vastResponse),ad:i.player.vast.vastResponse.ads[0],clickthrough:a,clickTrackers:o.vast.vastResponse.clickTrackers})}))})),o.on("vast.adsCanceled",(function(){D(!1),c.publish(n.Preroll.PREROLL_AD_CANCELED,{playerElement:o.el()})})),o.on("vast.adError",(function(){i.autoPlayParams?(o.pause(),o.play()):(k(),c.publish(n.Content.VIDEO_START)),c.publish(n.Preroll.PREROLL_AD_ERROR,{playerElement:o.el()})})),o.on("vast.adEnd",(function(){o.isPreRoll=!1,D(!1),i.playerStarted=!1,R()?(P(),c.publish(n.Content.VIDEO_END),i.vastAsMainSourceEnded=!0):c.publish(n.Preroll.VIDEO_END,{playerElement:o.el()});var e=o.L||o.el();"video"==e.tagName.toLowerCase()||(e=e.firstElementChild),e.setAttribute("playsinline","true"),e.setAttribute("muted","true"),e.onloadstart=function(e){i.autoPlayParams&&(e.target.volume=0,e.target.muted=!0),i.wasMuted||(e.target.volume=1,e.target.muted=!1),R()||e.target.play()}})),o.on("vast.contentStart",(function(e){i.wasMuted&&o.mute()})),o.on("vpaid.AdClickThru",(function(e){o.trigger("click"),e.target.children[0].pause()}));o.lastTimeupdate=null,o.on("vpaid.AdVideoStart",(function(r){i.vpaidVideoUrl=o.src(),o.isPreRoll=!0,D(!0,!0);var a=i.iframe[0].contentWindow.document,s=a.querySelector(".vjs-control-bar"),l=e.Util.domQuery(".VPAID-Container",a),u=[],d={active:[{node:s.parentElement,classNames:["vjs-has-started"]}],inactive:[{node:s.parentElement,classNames:["vjs-has-started"]}]},f=function(){C({data:!0},d)};Array.prototype.slice.call(l.querySelectorAll("iframe")).forEach((function(e,n){e.contentWindow.document.body.addEventListener("mousemove",f.bind(t,u,n))})),k(),c.publish(n.Preroll.VIDEO_START,{clickThrough:i.player.vast.vastResponse.clickThrough,advertiser:M(i.player.vast.vastResponse),ad:i.player.vast.vastResponse.ads[0],clickthrough:"",clickTrackers:o.vast.vastResponse.clickTrackers})})),o.on("vpaid.AdVideoComplete",(function(e){i.vpaidVideoUrl&&o.src(i.vpaidVideoUrl),o.isPreRoll=!1,D(!1),o.vpaidEnded=!0,o.vpaidEndTime=o.lastTimeupdate,o.lastTimeupdate=null})),o.on("vpaid.AdPaused",(function(e){i.playing=!1,v("PAUSE",{playing:!1,vpaid:!0})})),o.on("vpaid.AdPlaying",(function(e){i.playing=!0,v("RESUME",{playing:!0,vpaid:!0})})),o.on("vpaid.AdTimeupdate",(function(e){!isNaN(o.vpaidProgress)&&o.vpaidProgress>0&&o.vpaidProgress<=o.vpaidDuration&&!isNaN(o.vpaidProgress)&&(null==o.lastTimeupdate||o.lastTimeupdate!=o.vpaidProgress)&&(v("PROGRESS",{playing:i.playing,duration:o.vpaidDuration,currentTime:o.vpaidProgress}),o.lastTimeupdate=o.vpaidProgress),o.lastTimeupdate==o.vpaidProgress&&v("BUFFERING")}))}!function(t){if(!t.bound){t.bound=!0,O();var r=t.player;r.muted()&&(t.wasMuted=!0),r.on("volumechange",(function(){T()&&(r.muted()?(v("MUTE"),t.wasMuted=!0):r.muted()||1!=t.wasMuted||(v("UNMUTE"),t.wasMuted=!1),v("VOLUME_CHANGE"))})),r.on("play",(function(){if(0!=r.duration()||!R()){l(t.iframeContent).click(y);var e=r.currentTime();t.playing=!0,I()&&v("REPLAY"),!isNaN(e)&&0!=e&&e!=t.player.duration()&&A()||R()?L()||v("RESUME"):(k(),c.publish(n.Content.VIDEO_START)),this.isFullscreen()&&v("RESIZE")}})),r.on("pause",(function(){t.playing=!1,L()||v("PAUSE",{playing:!1})})),r.on("ended",(function(){R()&&!t.vastAsMainSourceEnded||(t.playing=!1,t.autoPlayTracker&&t.autoPlayParams&&t.autoPlayTracker.turnOffAutoPlay(!0,!0),x()&&!t.firstClickOnAutoPlayVideo&&t.autoPlayParams?r.muted()?r.muted(!0):r.muted(!1):!x()||t.firstClickOnAutoPlayVideo||t.autoPlayParams||t.clickToMute||(r.muted()?r.muted(!0):r.muted(!1)),P(),v("VIDEO_END",{playing:!1}))})),t.player.on("timeupdate",(function(){S()||(t.prerollPlaying&&(Math.ceil(t.curpos)<Math.floor(r.currentTime())&&t.player.currentTime(t.curpos),Math.floor(t.curpos)>Math.ceil(r.currentTime())&&r.currentTime(t.curpos),t.curpos=r.currentTime()),!isNaN(r.currentTime())&&r.currentTime()>0&&r.currentTime()<r.duration()&&v("PROGRESS",{playing:t.playing,duration:r.duration(),currentTime:r.currentTime()}))})),r.on("useractive",(function(e){c.publish(n.General.USER_ACTIVE)})),r.on("userinactive",(function(){c.publish(n.General.USER_INACTIVE)})),r.on("fullscreenchange",e.Util.debounce((function(){r.isFullscreen()?v("FULLSCREEN"):v("EXIT_FULLSCREEN")}),100)),r.on("prerollAdRequest",(function(){c.publish(n.Preroll.PREROLL_FETCH_AD_REQUEST)})),r.on("prerollAdReturned",(function(){c.publish(n.Preroll.PREROLL_FETCH_AD_RETURNED)})),r.on("prerollAdCancel",(function(){c.publish(n.Preroll.PREROLL_FETCH_AD_CANCEL)})),r.on("prerollAdError",(function(){c.publish(n.Preroll.PREROLL_FETCH_AD_ERROR)})),t.player.on("touchstart",g),t.player.on("touchmove",b),t.player.on("touchend",E),t.player.on("click",y),t.player.on("waiting",(function(){t.buffering=!0,v("BUFFERING")})),t.player.on("stalled",(function(){t.buffering=!0,v("BUFFERING")})),t.player.on("suspend",(function(){t.buffering=!0,v("BUFFERING")}))}}(i),function(e,t){setTimeout((function(){var e=t.el().querySelector(".vjs-duration-display"),n=e.childNodes&&e.childNodes.length>1?t.el().querySelector(".vjs-duration-display").childNodes[1].textContent:t.el().querySelector(".vjs-duration-display").textContent;"0:00"==(n=n.trim())&&t.duration()>0&&t.duration(Math.floor(t.duration()))}),0)}(0,o),p.call(i,o),_()}function B(){var e,t;s=s||window;var n=this,r=n.renderingParams.videoNodeId,i=s.document.getElementById(r);i||(i=null==n?void 0:n.iframeBodyElement[0].querySelector("#".concat(r))),q.is("u",null===(e=i)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.controls)&&i.setAttribute("controls",!0),m()&&!q.is("u",n.autoPlayParams)&&(i.setAttribute("playsinline",!0),i.setAttribute("muted",!0)),(s.ntv_videojs||q.getTopWindow().ntv_videojs)(i,d).ready((function(e){n.player=this,n.isShadow&&function(e){var t=e.renderingParams.iframeId,n=q.domQuery(".vjs-styles-defaults"),r=q.domQueryAll(".vjs-styles-dimensions").filter((function(e){return-1!==e.textContent.indexOf(t)}))[0];n&&H(e.iframeContent,n);r&&H(e.iframeContent,r)}(n),q.adBlocker&&n.player.hls&&function(e){e.player.hls.xhr.beforeRequest=function(e){var t=e.uri.replace(q.adBlockerDomain,f.ASSETS_DOMAIN);return e.uri="https://".concat(q.adBlockerDomain,"/").concat(q.encryptUrl("proxyTracking/".concat(t))),e}}(n),q.is("b",this.el().children[0].playsInline)&&this.pause(),F.call(n)}))}function H(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&e.append(t.cloneNode(n))}return{init:function(e){(o=e.data).preRollRequest=c,o.context=q.toDomElement(o.iframe).ownerDocument,q.loadFontFromBase64("VideoJS","data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA=="),o.isShadow?function(e){var t=e.iframeContent[0];e.playerCssUrl&&q.appendStylesheetToContext(e.playerCssUrl,t,"ntvPlayerCss"),q.appendScriptToContext(e.videojsUrl,t,{onReadyEvent:B.bind(e),id:"ntv-videojs"})}(o):function(e){a=e.iframeContent[0],s=a.defaultView||a.parentWindow,e.playerCssUrl&&ntvAppendStylesheet("ntvPlayerCss",e.playerCssUrl,a),q.appendScript(e.videojsUrl,B.bind(e),"ntv-videojs",a)}(o)}}}return function(e){var n=i(e);e.subscribe(t.Player.Subscribe.RENDER_VIDEO_PLAYER,n.init.bind(this))}}()}(e,e.Video.Player||(e.Video.Player={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.YouTube=function(){var t=Ah.Types,n=t.Player.Publish;t.Player.Subscribe;function r(r){var i,o,a,s,c,l=r,u=e.Util,d=e.query;function f(){l.publish(t.Player.Publish.General.PLAYER_READY,i)}function p(e,t){e.data==YT.PlayerState.ENDED&&(c=!0,l.publish(n.Content.VIDEO_END),function(e){e.clearProgressTimeout=!0,setTimeout((function(){e.clearProgressTimeout=!1}))}(t))}function h(e,t){e.data==YT.PlayerState.PLAYING&&(s?(s=!1,l.publish(n.Content.RESUME),t.mouseover&&l.publish(n.Content.CLICK)):(u.is("u",s)||c)&&(c=!1,l.publish(n.Content.VIDEO_START),function e(t){s||c||t.getCurrentTime()==t.getDuration()||l.publish(n.Content.PROGRESS,{playing:!0,duration:t.getDuration(),currentTime:t.getCurrentTime()}),t.clearProgressTimeout||setTimeout(e,0,t)}(t)))}function v(e){h(e,this),function(e){e.data,YT.PlayerState.BUFFERING}(e),p(e,this),function(e,t){e.data==YT.PlayerState.PAUSED&&(s=YT.PlayerState.PAUSED,l.publish(n.Content.PAUSE),t.mouseover&&l.publish(n.Content.CLICK))}(e,this)}function m(e){a.addEventListener("onStateChange",v.bind(i),!1)}function y(){l.subscribe(t.Player.Subscribe.PLAY,i.play)}function g(){i.isPaused=function(){return i.isPlayerPaused},i.play=function(){a.playVideo(),i.videoPlaying=!0},i.resume=i.play,i.pause=function(){a.pauseVideo(),i.videoPlaying=!0},i.reset=function(){a.seekTo(0),a.pauseVideo()},i.toggle=function(e){i.togglePlayState(e)},i.togglePlayState=function(e){e&&isNaN(i.getCurrentTime())?i.play():e?i.pause():i.play()},i.isSeeking=function(){return 2!=state},i.isFullScreen=!1,i.setUserActive=function(e){e?i.triggerEvent("ntvUserActive"):i.triggerEvent("ntvUserInactive")},i.getCurrentTime=function(){return a.getCurrentTime()||NaN},i.getDuration=function(){return a.getDuration()||NaN},i.mute=function(){i.clickToMute=!0,a.mute()},i.unMute=function(){i.clickToMute=!1,a.unMute()},i.unmute=i.unMute,i.setVolume=function(e){a.setVolume(100*e)},i.getVolume=function(){return a.getVolume?a.getVolume()/100:100},i.isMuted=function(){return!i.getVolume()},i.bindAutoPlayerUserInteraction=function(e){o.bind("ntvUserInteracted",e)},i.unbindAutoPlayerUserInteraction=function(){o.unbind("ntvUserInteracted")}}function b(){var e=this;u.is("u",a)&&(e.element=d(o).find("#".concat(e.renderingParams.videoNodeId))[0],a=new YT.Player(e.element,{height:"390",width:"640",events:{onReady:function(t){g(),m(),y(),f(),function(e){d(e.iframe).on("mouseenter mouseover",(function(){l.publish(n.General.USER_ACTIVE),e.mouseover=!0})),d(e.iframe).on("mouseout mouseleave",(function(){l.publish(n.General.USER_INACTIVE,"fast"),e.mouseover=!1}))}(e),function(e){e.element.style.visibility="visible"}(e)}}}))}function w(){"undefined"!=typeof YT?YT.ready(b.bind(this)):setTimeout(w.bind(this),100)}function E(e){o=e.iframeContent[0],o.defaultView||o.parentWindow,e.playerCssUrl&&ntvAppendStylesheet("ntvPlayerCss",e.playerCssUrl,o),u.appendScript("https://www.youtube.com/player_api",w.bind(e),"ntv-yt-api")}return{init:function(e){E(i=e.data)}}}return function(e){var n=r(e);e.subscribe(t.Player.Subscribe.RENDER_VIDEO_PLAYER,n.init.bind(this))}}()}(e,e.Video.Player||(e.Video.Player={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.IFU=function(){var t=Ah.Types;function n(n){var r,i,o,a,s,c,l,u=n,d=e.Util,f=e.query,p=4,h=8,v=f(d.getTopWindow().document);function m(){l.css("visibility","visible")}function y(){r.hasClass("ntvExpanded")?(r.removeClass("ntvExpanded"),u.publish(t.IFU.COLLAPSED,[])):(r.addClass("ntvExpanded"),setTimeout((function(){r.hasClass("ntvExpanded")?u.publish(t.IFU.EXPANDED,[]):u.publish(t.IFU.COLLAPSED,[])}),1e3),u.publish(t.IFU.EXPANDED,[])),u.publish(t.IFU.CLICK)}function g(){r.addClass("ntvExpanded"),u.publish(t.IFU.EXPANDED,[])}function b(){r.removeClass("ntvExpanded"),u.publish(t.IFU.COLLAPSED,[])}return{init:function(n){switch(i=n.data,r=v.find("."+i.renderingParams.outerCssClass),o=r.find("."+i.renderingParams.linkCssClass),a=i.iframe?i.iframe:i.renderingParams.IFU.useIframeId?v.find("iframe[id='"+i.renderingParams.iframeId+"']"):v.find("iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+i.adID+"']"),s=a.contents()[0],s.defaultView||s.parentWindow,c=s.body,l=r.find(".ntv-video-wrapper"+i.adID),i.renderingParams.videoExecution){case h:m(),o.map((function(){var e=f(this);e.attr("target","_blank"),e.click((function(){return u.publish(t.IFU.ANCHOR_CLICK,e),!1}))})),i.clickedBeforeRendering&&u.publish(t.IFU.TOGGLE_VIDEO,[]),f(c).click((function(e){u.publish(t.IFU.CLICK,e.target)}));break;case p:!function(){r.addClass("ntvExpandable").find(".ntv-video-frame").css("transition-duration",i.renderingParams.expandSpeed).css("-webkit-transition-duration","width "+i.expandSpeed);var e=l.parent();"ntv-video-container"==e.attr("class")&&e.css("height","inherit").css("padding-bottom","inherit"),m(),o.map((function(){var e=f(this);d.isNotValidHeadlineLink(e)&&e.removeAttr("onclick").click((function(){return y(),!1}))})),i.clickedBeforeRendering&&y()}()}i.renderingParams.IFU.showHiddenWrappers&&(m(),u.publish(t.IFU.EXPANDED,[])),u.subscribe(t.IFU.EXPAND,g),u.subscribe(t.IFU.COLLAPSE,b),u.publish(t.IFU.READY,i)}}}return function(e){var r=n(e);e.subscribe(t.Modules.EXECUTE,r.init.bind(this)),e.publish(t.IFU.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.Mobile=function(){var t=Ah.Types;function n(n){var r,i,o,a,s=0,c="",l=n,u=e.query,d=e.Util,f=d.getTopWindow().document;function p(e){90==window.orientation||-90==window.orientation?f.body.scrollTop=s:e.preventDefault()}function h(e){u(i.contentWindow.document.body)[e]("touchmove",p)}function v(n){h("unbind"),u(i).css("display","none"),u("body").css("overflow","inherit"),u("head").find("meta[name=viewport]").length||u("head").find("meta[name=viewport]").attr("content",c),f.querySelector("#"+e.Util.getVideoSelectorName()+"Iframe"+r.adID).scrollIntoView(!0),f.body.scrollTop-=window.screen.availHeight/2,l.publish(t.Skin.Mobile.MOBILE_SHARE_CLOSED)}function m(){!function(){if(u("head").find("meta[name=viewport]").length)return;var e=u("head").find("meta[name=viewport]");0==e.size()?u("head").append(u('<meta name="viewport" id="ntvviewport" content="">')):c=u(e[0]).attr("content")}(),s=f.body.scrollTop,h("bind"),u("head").find("meta[name=viewport]").length||u("head").find("meta[name=viewport]").attr("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"),u("body").css("overflow","hidden"),u(i).css("display","block"),l.publish(t.Skin.Mobile.MOBILE_SHARE_OPENED)}return{init:function(n){n.data.mobileShareParams&&(!function(e){r=e.data,r.iframe,r.iframeWindow,r.iframeContent;var t=d.getTopWindow().document;i=d.domQuery("#ntvShareIframe"+r.adID,t)||r.iframeContent.find("#ntvShareIframe"+r.adID)[0]}(n),d.getTopWindow().document.body.appendChild(i),o=d.writeIframe(u(i),"",r.mobileShareParams.headHtml,r.mobileShareParams.bodyHtml),u(o).find("a#ntv_cancel").click(v),u(o).find("#ntv-share-background").click(v),(a=u(o).find("body")).find("#ntv_video, .ntv_video-title, .fa-play").click((function(){v()})),l.subscribe(t.Skin.Mobile.CLOSE_MOBILE_SHARE,v),l.subscribe(t.Skin.Mobile.OPEN_MOBILE_SHARE,m),l.publish(t.Skin.Mobile.READY),e.Events.PubSub.publish("ntvMobileShareReady",[r.placementID+"_"+r.adID,a]),u(r.iframeContent).trigger("ntvMobileShareReady",[r.placementID+"_"+r.adID,a]))}}}return function(e){var r=n(e);e.subscribe(t.Modules.EXECUTE,r.init.bind(this)),e.publish(t.Skin.Mobile.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.Skin=function(){var t=Ah.Types;function n(n){var r,i,o,a,s,c,l,u,d,f,p=0,h=0,v=n,m=4,y=e.query,g=e.Util,b=g.getTopWindow(),w=y(b.document);function E(e,n,r){l.animate({opacity:n},r,(function(){l.css("display",1==n?"inline-block":"none"),!e&&n?v.publish(t.Skin.INFO_BAR_SHOWN,"inline-block"==l.css("display")):v.publish(t.Skin.INFO_BAR_HIDDEN,"none"==l.css("display"))}))}function S(e){e?v.publish(t.Skin.USER_ACTIVE):v.publish(t.Skin.USER_INACTIVE)}function T(){l&&E(!1,1,0)}function k(e){l&&E(!0,0,g.is("s",e.data)&&"fast"==e.data?0:1100)}function P(){d.css("display","none"),v.publish(t.Skin.CONTROLBAR_HIDDEN,"none"==d.css("display"))}function A(){d.css("display","flex"),v.publish(t.Skin.CONTROLBAR_SHOWN,"flex"==d.css("display"))}function I(){u.css("display","none"),v.publish(t.Skin.PREVIEW_IMAGE_HIDDEN,"none"==u.css("display"))}function C(){N(),u.css("display","none"),v.publish(t.Skin.ALL_OVERLAYS_HIDDEN,"none"==u.css("display")&&l&&"none"==l.css("display"))}function O(e){switch(e.data){case"hide":y(s).find('button[class~="learn-more-control-hover"]').addClass("force-hide");break;case"show":y(s).find('button[class~="learn-more-control-hover"]').removeClass("force-hide");break;default:y(s).find('button[class~="learn-more-control-hover"]').toggleClass("force-hide")}}function _(e){C(),v.publish(t.Skin.PLAY,e)}function R(){v.publish(t.Skin.PAUSE,!0)}function x(){C(),v.publish(t.Skin.RESUME,!0),i.iframeMouseEventsBound||i.iframe.mouseenter((function(){S(!0)})).mouseleave((function(){S(!1)})).mousemove((function(e){e.target.tagName||e.relatedTarget?S(!0):S(!1)})),i.iframeMouseEventsBound=!0,v.publish(t.Skin.VIDEO_RESUMED,i.iframeMouseEventsBound)}function L(e,t,n){return e.attr("height",n).attr("width",t).css("height",n).css("width",t)}function D(e){f.css("display",e)}function N(){"none"!=f.css("display")&&(D("none"),v.publish(t.Skin.OVERLAY_HIDDEN,!0))}function j(){"inline-block"!=f.css("display")&&(D("inline-block"),v.publish(t.Skin.OVERLAY_SHOWN,!0))}function V(){y("div.share-overlay",s).css("z-index","999").css("display","inline"),u.css("visibility","visible").css("display","block").find("a").css("display","none"),y("div.share-overlay > div.center-table > div > table > tbody > tr:nth-child(4) td",c[0]).css("display","block"),y("div.share-overlay > div.center-table > div > table > tbody > tr:nth-child(4) td div.video-rewind",c[0]).css("display","block"),i.isVideoEndImageSetup=!0,c.find("#"+i.renderingParams.videoNodeId+" > div.vjs-control-bar").css("visibility","visible").css("display","flex").css("opacity","1"),v.publish(t.Skin.PREVIEW_IMAGE_VIDEO_END_SHOWN,!0)}function M(){c.find("#"+i.renderingParams.videoNodeId+" > div.vjs-control-bar").removeAttr("style")}function U(){return void 0===i.isFullScreen&&(i.isFullScreen=!1),i.isFullScreen}function F(e){i.isFullScreen=!i.isFullScreen,i.isFullScreen;var n=U()?"none":"inline-block";c.find("div.share-btn-bottom").map((function(){y(this).hasClass("top-share-btn")||y(this).css("display",n)})),c.find(".control-spliter").map((function(){"right"==y(this).css("float")&&y(this).css("display",n)})),setTimeout(K,200),v.publish(t.Skin.FULLSCREEN_CHANGED,{isFullscreen:U(e.data),overlayDisplay:n})}function B(){y(c).find(i.infoButtonSelector).click((function(e){return j(),e.stopImmediatePropagation(),v.publish(t.Skin.INFO_BUTTON_CLICKED,!0),!1}))}function H(){o.css("position","relative"),p=o.attr("width")||o.width(),h=o.attr("height")||o.height(),0==p&&0==h&&(p=16,h=9),o.attr("width","100%")}function W(){u=c.find("div[class*='video-preview-img']"),f=c.find(".share-overlay")}function q(e){var t=e.find(".vjs-captions-button"),n=i.iframe.attr("video-closed-caption")||!!i.captionUrl,r=null==i.captionsEnabled||i.captionsEnabled;if(t.length>0){var o=i.player.textTracks()[0];n&&o&&r?(o.mode="showing",t.addClass("vjs-ntv-caption-on")):(o&&(o.mode="disabled"),t.addClass("vjs-ntv-caption-off")),t.css("display","inline-block");var a=t[0].querySelector(".vjs-captions-button > .vjs-menu");if(a&&t[0].removeChild(a),!function(e){return e.find("track")[0]&&e.find("track")[0].src!==window.location.href}(e))return void t.addClass("vjs-ntv-no-caption");t[0].addEventListener("click",(function(e){e.stopPropagation(),"showing"===o.mode?(o.mode="hidden",t.removeClass("vjs-ntv-caption-on"),t.addClass("vjs-ntv-caption-off")):(o.mode="showing",t.removeClass("vjs-ntv-caption-off"),t.addClass("vjs-ntv-caption-on"))}))}}function G(e){e.preventDefault()}function z(e){if(i.renderingParams.Skin.isNativoPlayer&&!i.prerollSkinRendered){var n=y(s),r=g.applyImageResizer(i.renderingParams.previewImage,"crop",100,62);e.data&&!e.data.clickThrough&&n.find('button[class~="learn-more-control-hover"]').addClass("force-hide"),i.postPreRollInfoBar=n.find(".info-bar")[0].innerHTML;var o='<div id="ntv-video-info"><div><p> Up Next </p></div><img src="'+r+'"></div>';i.previewImage=n.find(".vjs-play-control").parent().append(o);var a=e.data.advertiser;y(n.find(".info-bar div.info-txt div.title")[1]).text(""),y(n.find(".info-bar div.info-txt div.advertiser")[1]).text(a).addClass("advertiser-preroll"),y(n.find(".info-bar .info-btn")[1]).css("visibility","hidden").addClass("preroll-advertiser"),y(n.find(".info-bar")).addClass("adverstier-preroll-infobar"),n.find(".info-bar").parent().append(f),i.mainVideoClickThrough=n.find('a[class~="ntvLearnMore"]').attr("href"),e.data.clickThrough&&(n.find("a.vast-blocker").bind("click",G),n.find('a[class~="ntvLearnMore"]').attr("href",e.data.clickThrough));var c=n.find("video").parent();c.addClass("preroll"),c.parent().addClass("preroll"),n.find(".vast-skip-button").css("z-index",10).css("cursor","pointer").css("position","absolute"),n.find('a[class~="ntvLearnMore"]').click((function(){e.data.clicktrackers&&n.find("video").parent().addCl,v.publish(t.Skin.Preroll.LEARN_MORE_CLICKED)})),v.publish(t.Skin.PREROLL_SKIN_RENDERED,n.find("video").parent().hasClass("preroll")),i.prerollSkinRendered=!0}}function Y(){if(i.renderingParams.Skin.isNativoPlayer&&i.prerollSkinRendered){var e=y(s);e.find('a[class~="ntvLearnMore"]').attr("href",i.mainVideoClickThrough),e.find('button[class~="learn-more-control-hover"]').removeClass("force-hide"),e.find("video").parent().removeClass("preroll"),e.find("video").parent().parent().removeClass("preroll"),g.is("u",i.postPreRollInfoBar)||(e.find(".info-bar").removeClass("adverstier-preroll-infobar"),e.find(".info-bar").html(i.postPreRollInfoBar),B()),c.find("#ntv-video-info").remove(),U()&&(y(i.iframeBodyElement).find("video")[0].style.cssText=""),v.publish(t.Skin.PREROLL_SKIN_REMOVED,!e.find("video").parent().hasClass("preroll")),i.prerollSkinRendered=!1}}function Q(){var e=r.find(".ntv-video-wrapper"+i.adID);e.css("height","auto"),e.css("background","none"),i.isImageLoaded=!0}function K(e){try{var n=c.find("#".concat(i.renderingParams.videoNodeId)),s=n.width(),l=n.height();if(i.handleResize&&s>0){var d=r.find(".ntv-video-wrapper"+i.adID).andSelf().filter(".ntv-video-wrapper"+i.adID).width();i.isImageLoaded||c.find("div[class*='video-wrapper']").css("background","#000"),d>0&&(s=d),U()&&(s=a.innerWidth);l=Math.ceil(h*s/p);if(isNaN(l))return;if(L(o,"100%",l).css("margin",0),L(n,s,l=o.height()),L(c.find("video"),s,l),i.overrideInfoIcon){var f=s>480?100:50;c.find("#aut-info-btn").attr("src",i.renderingParams.advertiserLogoUrl+"?mode=max&width="+f+"&height=30")}i.isImageLoaded||r.find(".ntv-video-wrapper"+i.adID).css("height",l+"px")}e&&function(e,n){if(u&&u.length&&"hidden"!=u.css("visibility")){var r=u.css("display"),o=document.createElement("img"),a=g.applyImageResizer(i.renderingParams.previewImage,i.renderingParams.resizeMode,e,n,i.applySmartCropping);a=g.applyProtocolToUrl(a),o.onload=Q,o.onerror=Q,o.src=a,u.css("background-image",g.applyProtocolToUrl(a)).css("background-repeat","no-repeat").css("background-size","cover").css("display",r),u[0].style.backgroundImage="url('"+a+"')",u[0].style.backgroundRepeat="no-repeat",u[0].style.backgroundSize="cover",u[0].style.zIndex=1,u[0].style.display=r,u[0].addEventListener("click",(function(e){v.publish(t.Skin.CLICK)}),!1)}}(s,l)}catch(e){}}function X(){if(i.renderingParams.videoExecution)!function(){var e=c.find("#".concat(i.renderingParams.videoNodeId));if(q(e),i.renderingParams.cssUrl){if(g.ntvAppendStylesheet("ntvSharingCss",i.renderingParams.cssUrl,s),c.find(".video-wrapper").append(i.renderingParams.html),W(),i.renderingParams.videoExecution!=m||i.renderingParams.article||u.css("visibility","hidden"),c.find('a[class ~="replayIcon"]').removeClass("replayIcon").addClass("playIcon"),i.handleResize=!i.inDesignBlock,i.handleResize&&H(),y(window).bind("ready load resize orientationchange",K),y(a).bind("ready load resize orientationchange",K),i.renderingParams.infoButtonSelector=".info-btn a",i.renderingParams.overrideInfoIcon){var n=c.find(".info-btn");n.find("a").remove(),n.removeClass("info-btn"),n.addClass("img-info-btn");var r=e.width();r=r>480?100:50,n.prepend('<img id="aut-info-btn" src="'+i.renderingParams.advertiserLogoUrl+"?mode=max&width="+r+'&height=30">'),i.infoButtonSelector=".img-info-btn"}B(),c.find("div.share-overlay").click((function(e){(e.target.style.cssText&&-1==e.target.style.cssText.indexOf("ntvLearnMore")||e.target.classList.contains("btn-bkg"))&&x()})),c.find("div.share-btn-bottom").click((function(e){return j(),e.stopImmediatePropagation(),!1})),c.find("div[class ~='video-preview-img'] a").click((function(e){e.preventDefault()})),c.find("a[class ~='play'], div.share-close-btn a, div.info-close-btn a").click((function(){return x(),!1})),u.click((function(e){_(e.target),v.publish(t.Skin.PREVIEW_IMAGE_CLICK)})),c.find("div[class ~='video-preview-img'], div[class ~='video-preview-img'] a").click((function(e){_(e.target)})),y(" div.vjs-volume-menu-button",c[0]).mouseenter((function(){y("#ntv-video-info",c[0]).hide(150)})),y("div.vjs-volume-menu-button",c[0]).mouseleave((function(){y("#ntv-video-info",c[0]).show(150)})),K(!0),setTimeout(K,1e3)}}();else{if(W(),!i.handleResize)return;H(),y(window).bind("resize",K),y(a).bind("resize",K),K()}}return{init:function(n){!function(t){(i=t.data).isImageLoaded=!1,r=w.find("."+i.renderingParams.outerCssClass),o=i.iframe?i.iframe:i.renderingParams.Skin.useIframeId?w.find("iframe[id='"+i.renderingParams.iframeId+"']"):w.find("iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+i.adID+"']"),s=i.isShadow?o[0]:o.contents()[0],a=i.isShadow?b:s.defaultView||s.parentWindow,c=i.isShadow?o:o.contents().find("body"),d=y(".vjs-control-bar",s)}(n),g.retryQuery(y,".video-wrapper > .info-bar",s).then((function(e){(l=e).length&&!i.infoBarHandlerSet&&(l.css("z-index",1),l.click((function(e){e.target.classList.contains("btn-bkg")&&v.publish(t.Skin.INFO_BAR_CLICK,!0)})).on("mousover mouseenter",(function(){v.publish(t.Skin.USER_ACTIVE,!0)})),i.infoBarHandlerSet=!0)})).catch((function(e){})),X(),c.find("a.btn-bkg").click((function(e){_(e.target)})),c.find("div.center-table").click((function(e){(e.target.classList.contains("center-table")||e.target.classList.contains("center-cell")||e.target.classList.contains("info-txt")||"td"==e.target.tagName.toLowerCase())&&x()})),v.subscribe(t.Skin.SHOW_INFO_BAR,T),v.subscribe(t.Skin.HIDE_INFO_BAR,k),v.subscribe(t.Skin.SHOW_CONTROL_BAR,A),v.subscribe(t.Skin.HIDE_CONTROL_BAR,P),v.subscribe(t.Skin.SHOW_OVERLAY,j),v.subscribe(t.Skin.HIDE_OVERLAY,N),v.subscribe(t.Skin.HIDE_ALL_OVERLAYS,C),v.subscribe(t.Skin.FULLSCREEN,F),v.subscribe(t.Skin.EXIT_FULLSCREEN,F),v.subscribe(t.Skin.HIDE_PREVIEW_IMAGE,I),v.subscribe(t.Skin.SHOW_VIDEO_END_IMAGE,V),v.subscribe(t.Skin.HIDE_VIDEO_END_IMAGE,M),v.subscribe(t.Skin.RENDER_PREROLL_SKIN,z),v.subscribe(t.Skin.REMOVE_PREROLL_SKIN,Y),v.subscribe(t.Skin.TOGGLE_LEARN_MORE,O),v.subscribe(t.Skin.RESIZE,K),function(){if(i.renderingParams.Skin.isNativoPlayer){var e=y(s);if(!("#document-fragment"===o[0].nodeName?o[0].firstElementChild:o[0]).classList.contains("ntvCLPVideo")){var t='<button class="learn-more-control-hover" style="display:block;position:absolute !important">'.concat(i.ctaText||"LEARN MORE","</button>");e.find(".vjs-play-control").parent().prepend(t);var n=e.find(".vjs-play-control").parent().find("button.learn-more-control-hover");e.find('a[class~="ntvLearnMore"]').on("click","button.learn-more-control-hover",null);var a=r.find(".ntv-headline");if(i.isAutoPlay&&e.find(".vjs-volume-level").css("height",0),n.click((function(e){e.preventDefault(),setTimeout((function(){R()}),0);var t=y('a[class*="ntvLearnMoreLabel"]',s)[0];PostRelease.ampMode?t.click():g.getTopWindow().open(t.href,t.target||"_self")})),a.click((function(e){setTimeout((function(){R()}),0),PostRelease.ampMode?a[0].click():g.getTopWindow().open(a[0].href,a[0].target||"_self")})),i.isAutoPlay){var c=!1,l=e.find(".vjs-unmute-icon");e.find(".vjs-control-bar").before('<div class="vjs-unmute-icon"></div>'),e.width()<360&&l.css({top:10}),e.on("click",(function(){c||(c=!0,(l=e.find(".vjs-unmute-icon"))&&l.remove(),i.player.setVolume(1))}))}e.find(".vjs-fullscreen-control").after('<div class="control-spliter" style="float:right"></div><div class="share-btn-bottom vjs-control"></div><div class="control-spliter" style="float:right"></div>'),e.find(".vjs-big-play-button").remove(),e.find(".top-share-btn").remove(),e.find(".vjs-control-bar").on("click",(function(t){if(i.userInteracted=!0,!t.target.classList.contains("vjs-volume-menu-button")&&!t.target.classList.contains("vjs-fullscreen-control"))var n=e.find(".share-overlay")[0];n&&"none"!=n.style.display&&(n.style.display="none",t.target.classList.contains("learn-more-control-hover")||_(t.target))}))}(i.renderingParams.Skin.permanentlyShowControls||i.renderingParams.article)&&A()}}(),v.publish(t.Skin.READY,["ready"])}}}return function(e){var r=n(e);e.subscribe(t.Modules.EXECUTE,r.init.bind(this)),e.publish(t.Skin.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.YouTubeSkin=function(){var t=Ah.Types;function n(n){var r,i,o,a,s,c,l=n,u=e.query,d=e.Util,f=u(d.getTopWindow().document);return{init:function(n){var d;!function(t){(i=t.data).isImageLoaded=!1,r=f.find("."+i.renderingParams.outerCssClass),r.find("."+i.renderingParams.linkCssClass),o=i.iframe?i.iframe:i.renderingParams.Skin.useIframeId?f.find("iframe[id='"+i.renderingParams.iframeId+"']"):f.find("iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+i.adID+"']"),a=o.contents()[0],a.defaultView||a.parentWindow,s=o.contents().find("body"),u(s[0]).find("div[class*='video-preview-img']"),c=u(a).find("div.share-overlay")}(n),i.renderingParams.autoplay||u(".video-preview-img",a).css("display","none"),(d=c.find("div.center-table")).addClass("YT"),d.find("div.center-cell").addClass("YT"),d.find("div > table > tbody > tr:nth-child(3)").css("display","table-row"),u(s[0]).find(".video-wrapper .share-overlay + .info-bar").click((function(e){e.target.classList.contains("btn-bkg")&&l.publish(t.Skin.PAUSE)}))}}}return function(e){var r=n(e);e.subscribe(t.Modules.EXECUTE,r.init.bind(this)),e.publish(t.Skin.YouTube.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){function n(t,n){var r,i,o,a=e.Events,s=e.Util,c=(0,e.query)(s.getTopWindow()),l=(s.is,t),u=n.adID,d=a.PubSub,f=a.Types.Tracking;function p(e,t){var n,a=function(e){var t;return{eventType:(t=e.type.split(":"))[2],contentType:t[3],NTVEvent:t[4]}}(e);if(n=a.contentType,!r&&n&&(r=n),function(e){return r==e}(a.contentType))switch(a.NTVEvent){case"click":c.trigger("ntvVideoClick",[u,e.data.volume]);break;case"videoStart":if(void 0!==i||void 0!==o||"boolean"==typeof i&&"boolean"==typeof o&&i&&!o)return;i=!0,o=!1,c.trigger("ntvVideoStart",[u,e.data.volume]);break;case"videoEnd":if("boolean"==typeof i&&"boolean"==typeof o&&!i&&o)return;i=!1,o=!0,c.trigger("ntvVideoComplete",[u,e.data.volume]);break;case"pause":c.trigger("ntvVideoPause",[u,e.data.volume]);break;case"mute":case"unmute":case"volumechange":c.trigger("ntvVideoVolumeChange",[u,e.data.volume]);break;case"resume":c.trigger("ntvVideoResume",[u,e.data.volume]);break;case"prerollAdCancel":c.trigger("ntvVideoCanceled",[u,e.data.volume]);break;case"percentile":switch(e.data.NTVEvent){case"25":c.trigger("ntvVideoFirstQuartile",[u,e.data.volume]);break;case"50":c.trigger("ntvVideoMidpoint",[u,e.data.volume]);break;case"75":c.trigger("ntvVideoThirdQuartile",[u,e.data.volume])}}}return{registerMOATEvents:function(){for(var t in f)for(var n in f[t])for(var r in f[t][n])d.subscribe(l.toString()+":"+e.Events.Types.Tracking[t][n][r],p);return this}}}t.MOAT=function(e,t){n(e,t).registerMOATEvents()}}(e,e.Video.Tracker||(e.Video.Tracker={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){function n(t,n){var r,i,o=!0,a=e.Events,s=e.Util,c=(s.is,[[],[],[]]),l=[],u=[],d=n,f=t,p=e.Events.PubSub,h=a.Types.Tracking;function v(t,n,r){var i,o;(t.firstPartyTrackingJoined.indexOf("68")>=0||t.firstPartyTrackingJoined.indexOf("845")>=0)&&r((function(e){e.state.viewableImpressionFired=!0})),e.Tracking.Record((i=t.firstPartyTrackingJoined,o=d.baseTrackingUrl+i,(d.adVersionPlacement.length>0||d.adID>=1e5)&&(o+="&"+e.CONSTS.AVP+"="+d.adVersionPlacement),(o+=s.setURLCache())+t.qs),t.third||"",1,null,n)}function m(e){if("object"!=typeof e||!d[e.eventType]||!d[e.eventType][e.contentType])return[];var t,n=d[e.eventType][e.contentType][e.progressSection]||d[e.eventType][e.contentType],r=[];if(!(n=n[e.NTVEvent]))return[];for(var i=0;i<n.length;i++)d.map[n[i]]&&((t=d.map[n[i]]).firstPartyTrackingJoined=t.first.join(","),r.push(t));return r}function y(e,t,n){setTimeout((function(){!function e(t,n,r,i,o){o[t]&&(1e3*i<=o[t].totalTime+o[t].duration()?(o.eventType=n,o.progressSection=r,o.NTVEvent=i,w(o,!0)):setTimeout((function(){e(t,n,r,i,o)}),100))}("tos_w_hidden","progress","userActiveCumulative",e,t)}),0)}function g(e){if(-1==u.indexOf(e.contentType)){var t=d.progress[e.contentType];!function(e,t){var n=0,r=e.length;do{if(e[n])for(var i in e[n])y(i,t)}while(++n<r)}([t.userActiveCumulative,t.cumulative],e),u.push(e.contentType)}}function b(e){e.playing&&("percentile"!==e.progressSection?(!function(e){var t=d.progress[e.contentType].position;for(var n in t)parseInt(n)<=Math.round(e.currentTime)&&e.currentTime!=e.duration&&Math.round(e.currentTime)<parseInt(n)+1&&(e.eventType="progress",e.progressSection="position",e.NTVEvent=n,w(e,!0))}(e),function(e){o?(r=l[l.length-1],o=!1):r=i?new Date:r||new Date;var t,n=(t=r,(new Date-t)/1e3),a=d.progress[e.contentType].continuous;for(var s in a)parseInt(s)<=n&&(e.eventType="progress",e.progressSection="continuous",e.NTVEvent=s,w(e,!0))}(e),g(e)):w(e,!0))}function w(e,t){var n=t?e:function(e){var t;return"object"==typeof e.data&&e.data.eventType&&"progress"==e.data.eventType?b(e.data):{eventType:(t=e.type.split(":"))[2],contentType:t[3],NTVEvent:t[4]}}(e);if(n){var r=[],i=[],o="",a=n instanceof Array?n:n instanceof Object?m.call(this,n):[];if(a.length){for(var s=0;s<a.length;s++)null===a[s].freq||c[a[s].freq].length&&-1!=c[a[s].freq].indexOf(a[s].firstPartyTrackingJoined)||(r.push(a[s].firstPartyTrackingJoined),a[s].third&&i.push(a[s].third),a[s].qs&&(o+=a[s].qs),a[s].rtv&&!isNaN(n.returnedMetricValue)&&(o+="&ntv_mv="+n.returnedMetricValue.toString(),delete n.returnedMetricValue),e.duration&&e.currentTime&&(o+="&ntv_duration="+e.duration+"&ntv_position="+e.currentTime),a[s].freq&&c[a[s].freq].push(a[s].firstPartyTrackingJoined));if(r.length){var l={placementID:d.placementID,adID:d.adID};v({firstPartyTrackingJoined:r.join(","),third:i.join(","),qs:o},l,e.callback)}}}}return{registerNativoEvents:function(){for(var t in h)for(var n in h[t])for(var r in h[t][n])p.subscribe(f.toString()+":"+e.Events.Types.Tracking[t][n][r],w);return this},bindTrackerHandlersToEvents:function(){return p.subscribe(f.toString()+":"+h.Events.Content.VIDEO_END,(function(){i=void 0,c[2].length=0})),p.subscribe(f.toString()+":"+h.Events.Content.VIDEO_START,(function(){i=!1,l.push(new Date)})),p.subscribe(f.toString()+":"+h.Events.Content.RESUME,(function(){i=!1,o=!0,l.push(new Date)})),p.subscribe(f.toString()+":"+h.Events.Content.CLICK,(function(){void 0===o&&(o=!0)})),p.subscribe(f.toString()+":"+h.Events.Content.PAUSE,(function(){i=!0})),p.subscribe(f.toString()+":"+h.Events.Preroll.VIDEO_START,(function(){0===l.length&&l.push(new Date)})),this}}}t.Nativo=function(e,t){n(e,t).registerNativoEvents().bindTrackerHandlersToEvents()}}(e,e.Video.Tracker||(e.Video.Tracker={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));var Zy=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;this.document=t.document,this.requestMade=!1,this.flocData=void 0;var n=function(){e.document.interestCohort&&(e.requestMade=!0,e.document.interestCohort().then((function(t){e.flocData=t,e.flocData&&m(f.FLOC_ID,e.flocData.id,365)})).catch((function(e){})))},r=function(){return e.flocData?e.flocData.id:y(f.FLOC_ID)};return n(),{requestMade:this.requestMade,get flocId(){return r()},buildFlocQS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"&",t=r();return t?"".concat(e).concat(f.FLOC_ID,"=").concat(t):""}}};function $y(e,t,n){try{si(e).then((function(n){var r=Qu(e);r.slideAssetsFromParsedDynamicAssets(n);var i=new Uu(r);return t&&"function"==typeof t&&t(i),i})).catch((function(e){n&&"function"==typeof n&&n(e),q.postError(e)}))}catch(e){n&&"function"==typeof n&&n(e),q.postError(e)}}function eg(e){var t=e.meta,n=(e.params,e.tracking),r=t.placementId,i=t.adId,o=(t.responseId,q.clientUtils.generateAdPlacementId(i,r));n.adPlacementId=o,Mf(o,e),Gv(o,n),Cf()}function tg(e){var t=e.placementId,n=e.adId;dv(n);var r=q.clientUtils.generateAdPlacementId(n,t);e.adPlacementId=r;var i,o=(i=r,fv.articleCache.get(i));o||jf(Object.assign({adPlacementId:r},o.params))}function ng(e){fv.tout=!0;var t=e.meta,n=e.tracking,r=t.placementId,i=t.adId,o=t.responseId,a=q.clientUtils.generateAdPlacementId(i,r);n.adPlacementId=a,Gv(a,n,o),fv.setFilteringByLevel(t),_d(r,i,Object.assign({},t,n)),Od(t),Ed(i)}function rg(e){var t,n=e.meta,r=n.placementId,i=n.adId,o=q.clientUtils.generateAdPlacementId(i,r);e.adPlacementId=o,wd(e),ai(e||{}).then((function(n){if(t=ig(e),n.type&&"DCO"!==n.type){var r=Rd(o);ed(t,r,n)}})).catch((function(n){n!==Xt&&(t||(t=ig(e)))}))}function ig(e){if(e&&"object"==typeof e){var t=e.replace,n=e.html;if(t&&n){var r=q.domQueryUp(t);if(r){var i=S(decodeURI(n));try{return id({node:i,target:r,mode:nd})}catch(e){return}}}}}function og(e){var t=e.selector,n=e.infiniteScrollConfig,r={placements:[{selector:t,id:n.id,infScroll:n}]},i=x("infiniteScrollManager");return i.setManagers(r),i}var ag=window;ag.ntv=ag.ntv||{};var sg=function(){var e,t,n=q.getTopWindow();(n.ntvToutAds=n.ntvToutAds||{},n.ntv&&n.ntv.initialized)?(ntv.Events=n.ntv.Events,(null===(e=n.ntv.query(":root"))||void 0===e||null===(t=e.context)||void 0===t?void 0:t.defaultView)||(n.ntv.query=ntv.query)):(n.ntv=n.ntv?Object.assign(ntv,n.ntv):ntv,n.PostRelease=ntv.PostRelease,function(e){var t=N("state");if(t.get("isTopWindowReadyHandled"))return;function n(t){e.removeEventListener("ready",n),e.removeEventListener("DOMContentLoaded",n),e.ntv.internalPuSub&&e.ntv.internalPuSub.publish(u,t)}e.addEventListener("ready",n),e.addEventListener("DOMContentLoaded",n),t.set("isTopWindowReadyHandled",!0)}(n));return n.ntv.PostRelease||(n.ntv.PostRelease=fv),n.prdom||(n.prdom=ag.prdom),fv.topPubSub=n.PostRelease.internalPubSub,function(e){for(var t=0,n=["ntvArticleTracker","ntvViewableImpressionTracker","ntvjQueryInit"];t<n.length;t++){var r=n[t];e[r]=window[r]}}(n),n};var cg=function(){var e=fv.setting.autoStart;return ag.ntvConfig&&ag.ntvConfig.retry&&ag.ntvConfig.ptd&&(e=!0),e};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{var t,n;if(ntv.PostRelease)return;ke.performance.responsivenessTracking(),e.ntv.Tracking=Fv,e.PostRelease=fv,e.ntv.PostRelease=fv,e.ntv.DFP=Dm,e.ntv.CONSTS=f,e.ntv.Util=q,e.ntv.Events=Ah,e.ntv.metric=ke,e.ntv.Gallery=Fy,e.ntv.Media=e.ntv.Media||{},e.ntv.CompanionAsset=Uy,e.ntv.bindClickIframe=My,e.ntv.bindClick=C,e.ntv.createSafeFrame=Ly,e.ntv.createIframe=Dy,e.ntv.Media.ContentWidget=Fm,e.ntv.Media.Gallery=Fy,e.ntv.Stories=Em,e.ntv.iframe=Py,e.ntv.createSlideshowViewer=$y,e.ntv.InitializeClient=Bp,e.ntv.InitializeTout=ng,e.ntv.InitializeArticle=eg,e.ntv.RenderAsync=rg,e.ntv.InitializeInfiniteScrollManager=og,e.ntv.PostprocessArticle=tg,e.ntv.initialized=!0,e.ntv.version="4.6.6";var r=sg();_m(r),null!=r&&null!==(t=r.ntv)&&void 0!==t&&null!==(n=t.PostRelease)&&void 0!==n&&n.internalPuSub&&(fv.internalPubSub=r.ntv.PostRelease.internalPuSub),fv.safeFrame=Nv(r),fv.floc=new Zy(r),ah(fv.setting.sdk),ph(),q.ntvInitOnFocusTracking();var i=cg();i&&fv.Start(),ke.performance.set("init"),q.rewriteAdBlockedAssets(),Tm()}catch(e){q.postError(e)}}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(561);n(698)}();